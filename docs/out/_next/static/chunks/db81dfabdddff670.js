(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";let t,i,a,s,r;var n,o=e.i(84926),l=e.i(44055),d=e.i(93141);let c=(0,l.createContext)({});function m(e){let t=(0,l.useRef)(null);return null===t.current&&(t.current=e()),t.current}let u="undefined"!=typeof window,h=u?l.useLayoutEffect:l.useEffect,p=(0,l.createContext)(null);function f(e){return"object"==typeof e&&null!==e}function x(e){return f(e)&&"offsetHeight"in e}var g=l;let y=(0,l.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function b(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class v extends g.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=x(e)&&e.offsetWidth||0,a=x(e)&&e.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left,s.bottom=a-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function j({children:e,isPresent:t,anchorX:i,anchorY:a,root:s}){let r=(0,g.useId)(),n=(0,g.useRef)(null),d=(0,g.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=(0,g.useContext)(y),m=function(...e){return l.useCallback(function(...e){return t=>{let i=!1,a=e.map(e=>{let a=b(e,t);return i||"function"!=typeof a||(i=!0),a});if(i)return()=>{for(let t=0;t<a.length;t++){let i=a[t];"function"==typeof i?i():b(e[t],null)}}}}(...e),e)}(n,e.props?.ref??e?.ref);return(0,g.useInsertionEffect)(()=>{let{width:e,height:o,top:l,left:m,right:u,bottom:h}=d.current;if(t||!n.current||!e||!o)return;let p="left"===i?`left: ${m}`:`right: ${u}`,f="bottom"===a?`bottom: ${h}`:`top: ${l}`;n.current.dataset.motionPopId=r;let x=document.createElement("style");c&&(x.nonce=c);let g=s??document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            ${p}px !important;
            ${f}px !important;
          }
        `),()=>{g.contains(x)&&g.removeChild(x)}},[t]),(0,o.jsx)(v,{isPresent:t,childRef:n,sizeRef:d,children:g.cloneElement(e,{ref:m})})}let w=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:s,presenceAffectsLayout:r,mode:n,anchorX:d,anchorY:c,root:u})=>{let h=m(N),f=(0,l.useId)(),x=!0,g=(0,l.useMemo)(()=>(x=!1,{id:f,initial:t,isPresent:i,custom:s,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;a&&a()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[i,h,a]);return r&&x&&(g={...g}),(0,l.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),l.useEffect(()=>{i||h.size||!a||a()},[i]),"popLayout"===n&&(e=(0,o.jsx)(j,{isPresent:i,anchorX:d,anchorY:c,root:u,children:e})),(0,o.jsx)(p.Provider,{value:g,children:e})};function N(){return new Map}function k(e=!0){let t=(0,l.useContext)(p);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:a,register:s}=t,r=(0,l.useId)();(0,l.useEffect)(()=>{if(e)return s(r)},[e]);let n=(0,l.useCallback)(()=>e&&a&&a(r),[r,a,e]);return!i&&a?[!1,n]:[!0]}let E=e=>e.key||"";function M(e){let t=[];return l.Children.forEach(e,e=>{(0,l.isValidElement)(e)&&t.push(e)}),t}let C=({children:e,custom:t,initial:i=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:r="sync",propagate:n=!1,anchorX:d="left",anchorY:u="top",root:p})=>{let[f,x]=k(n),g=(0,l.useMemo)(()=>M(e),[e]),y=n&&!f?[]:g.map(E),b=(0,l.useRef)(!0),v=(0,l.useRef)(g),j=m(()=>new Map),N=(0,l.useRef)(new Set),[C,S]=(0,l.useState)(g),[T,$]=(0,l.useState)(g);h(()=>{b.current=!1,v.current=g;for(let e=0;e<T.length;e++){let t=E(T[e]);y.includes(t)?(j.delete(t),N.current.delete(t)):!0!==j.get(t)&&j.set(t,!1)}},[T,y.length,y.join("-")]);let P=[];if(g!==C){let e=[...g];for(let t=0;t<T.length;t++){let i=T[t],a=E(i);y.includes(a)||(e.splice(t,0,i),P.push(i))}return"wait"===r&&P.length&&(e=P),$(M(e)),S(g),null}let{forceRender:R}=(0,l.useContext)(c);return(0,o.jsx)(o.Fragment,{children:T.map(e=>{let l=E(e),c=(!n||!!f)&&(g===T||y.includes(l));return(0,o.jsx)(w,{isPresent:c,initial:(!b.current||!!i)&&void 0,custom:t,presenceAffectsLayout:s,mode:r,root:p,onExitComplete:c?void 0:()=>{if(N.current.has(l)||(N.current.add(l),!j.has(l)))return;j.set(l,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(R?.(),$(v.current),n&&x?.(),a&&a())},anchorX:d,anchorY:u,children:e},l)})})},S={fire:"ç‚Ž",water:"æ°´",wind:"é¢¨",light:"å…‰",dark:"é—‡",divine:"ç¥ž"},T={fire:"#EF4444",water:"#3B82F6",wind:"#22C55E",light:"#FBBF24",dark:"#6B21A8",divine:"#F472B6"};function $(e,t){return"fire"===e&&"wind"===t||"water"===e&&"fire"===t||"wind"===e&&"water"===t?1.3:"fire"===e&&"water"===t||"water"===e&&"wind"===t||"wind"===e&&"fire"===t?.7:"light"===e&&"dark"===t||"dark"===e&&"light"===t||"divine"===e&&("fire"===t||"water"===t||"wind"===t)?1.3:"divine"===e&&("light"===t||"dark"===t)?.7:("light"===e||"dark"===e)&&"divine"===t?1.3:1}function P(e,t){return{attackMod:$(e,t),defenseMod:$(t,e)}}let R={common:"#9CA3AF",uncommon:"#22C55E",rare:"#3B82F6",epic:"#A855F7",legendary:"#F59E0B",cosmic:"#FF0080"},A={common:"ãƒŽãƒ¼ãƒžãƒ«",uncommon:"ãƒ˜ã‚¢",rare:"ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒ˜ã‚¢",epic:"ã‚¦ãƒ«ãƒˆãƒ©ãƒ˜ã‚¢",legendary:"ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ãƒ˜ã‚¢",cosmic:"ã‚³ã‚ºãƒŸãƒƒã‚¯ãƒ˜ã‚¢"},D=[{id:1,name:"ãµã‚ãµã‚æ¯›æ ¹",rarity:"common",element:"wind",description:"ã‚„ã‚ã‚‰ã‹ã„åˆå¿ƒè€…å‘ã‘ã®æ¯›æ ¹",power:10,speed:15,grip:8,emoji:"ðŸŒ±",color:"#8B4513",evolvesTo:11,skills:[{id:"soft-touch",name:"ã‚½ãƒ•ãƒˆã‚¿ãƒƒãƒ",description:"å„ªã—ãçµ¡ã¿ã¤ã",damage:15,cooldown:2,type:"attack"},{id:"fluffy-shield",name:"ãµã‚ãµã‚ã‚·ãƒ¼ãƒ«ãƒ‰",description:"æŸ”ã‚‰ã‹ã•ã§è¡æ’ƒã‚’å¸åŽ",damage:0,cooldown:4,type:"defense"}]},{id:2,name:"ã¡ã¢ã‚Œæ¯›æ ¹",rarity:"common",element:"wind",description:"ãã‚‹ãã‚‹ã—ãŸæ„›ã‚‰ã—ã„æ¯›æ ¹",power:12,speed:10,grip:15,emoji:"ðŸŒ€",color:"#654321",evolvesTo:12,skills:[{id:"curl-grip",name:"ã‚«ãƒ¼ãƒ«ã‚°ãƒªãƒƒãƒ—",description:"ãã‚‹ãã‚‹å·»ãä»˜ã„ã¦é›¢ã•ãªã„",damage:18,cooldown:3,type:"attack"},{id:"spiral-defense",name:"ã‚¹ãƒ‘ã‚¤ãƒ©ãƒ«ã‚¬ãƒ¼ãƒ‰",description:"èžºæ—‹çŠ¶ã«é˜²å¾¡æ…‹å‹¢",damage:0,cooldown:3,type:"defense"}]},{id:3,name:"ã¾ã£ã™ãæ¯›æ ¹",rarity:"common",element:"light",description:"ã‚·ãƒ³ãƒ—ãƒ«ã§æ‰±ã„ã‚„ã™ã„æ¯›æ ¹",power:11,speed:12,grip:11,emoji:"ðŸ“",color:"#3D2314",evolvesTo:13,skills:[{id:"straight-pierce",name:"ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆãƒ”ã‚¢ã‚¹",description:"ã¾ã£ã™ãçªãåˆºã™",damage:20,cooldown:2,type:"attack"},{id:"rigid-stance",name:"ãƒªã‚¸ãƒƒãƒ‰ã‚¹ã‚¿ãƒ³ã‚¹",description:"ç¡¬ç›´ã—ã¦è€ãˆã‚‹",damage:0,cooldown:4,type:"defense"}]},{id:4,name:"ã»ãã»ãæ¯›æ ¹",rarity:"common",element:"wind",description:"ç´°ã„ã‘ã©æ„å¤–ã¨ã—ã¶ã¨ã„",power:8,speed:18,grip:10,emoji:"ðŸª¡",color:"#4A3728",evolvesTo:14,skills:[{id:"needle-strike",name:"ãƒ‹ãƒ¼ãƒ‰ãƒ«ã‚¹ãƒˆãƒ©ã‚¤ã‚¯",description:"ç´ æ—©ãçªã",damage:12,cooldown:1,type:"attack"},{id:"slip-away",name:"ã‚¹ãƒªãƒƒãƒ—ã‚¢ã‚¦ã‚§ã‚¤",description:"ç´°ã•ã‚’æ´»ã‹ã—ã¦å›žé¿",damage:0,cooldown:3,type:"defense"}]},{id:5,name:"ã·ã¡ã·ã¡æ¯›æ ¹",rarity:"common",element:"fire",description:"å°ã•ãã¦å¯æ„›ã„æ¯›æ ¹",power:9,speed:14,grip:12,emoji:"ðŸ’ ",color:"#5C4033",evolvesTo:15,skills:[{id:"pop-attack",name:"ãƒãƒƒãƒ—ã‚¢ã‚¿ãƒƒã‚¯",description:"å¼¾ã‘ã¦æ”»æ’ƒ",damage:16,cooldown:2,type:"attack"},{id:"mini-barrier",name:"ãƒŸãƒ‹ãƒãƒªã‚¢",description:"å°ã•ãªãƒãƒªã‚¢ã‚’å±•é–‹",damage:0,cooldown:3,type:"defense"}]},{id:6,name:"ã‚‚ã˜ã‚ƒã‚‚ã˜ã‚ƒæ¯›æ ¹",rarity:"common",element:"wind",description:"ãƒ¯ã‚¤ãƒ«ãƒ‰ãªè¦‹ãŸç›®ã®æ¯›æ ¹",power:13,speed:8,grip:14,emoji:"ðŸŒ¿",color:"#6B4423",evolvesTo:18,skills:[{id:"wild-tangle",name:"ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚¿ãƒ³ã‚°ãƒ«",description:"ä¹±æš´ã«çµ¡ã¿ã¤ã",damage:22,cooldown:3,type:"attack"},{id:"bushy-cover",name:"ãƒ–ãƒƒã‚·ãƒ¥ã‚«ãƒãƒ¼",description:"ã‚‚ã˜ã‚ƒã‚‚ã˜ã‚ƒã§éš ã‚Œã‚‹",damage:0,cooldown:4,type:"defense"}]},{id:7,name:"ã•ã‚‰ã•ã‚‰æ¯›æ ¹",rarity:"common",element:"light",description:"ã¤ã‚„ã‚„ã‹ã§ç¾Žã—ã„æ¯›æ ¹",power:10,speed:16,grip:9,emoji:"âœ¨",color:"#7C5A3C",evolvesTo:11,skills:[{id:"silk-whip",name:"ã‚·ãƒ«ã‚¯ã‚¦ã‚£ãƒƒãƒ—",description:"æ»‘ã‚‰ã‹ã«éž­æ‰“ã¤",damage:14,cooldown:2,type:"attack"},{id:"glossy-reflect",name:"ã‚°ãƒ­ãƒƒã‚·ãƒ¼ãƒªãƒ•ãƒ¬ã‚¯ãƒˆ",description:"è‰¶ã§åå°„",damage:0,cooldown:4,type:"defense"}]},{id:8,name:"ã”ã‚ã”ã‚æ¯›æ ¹",rarity:"common",element:"dark",description:"ç¡¬ãã¦ã—ã£ã‹ã‚Šã—ãŸæ¯›æ ¹",power:15,speed:7,grip:13,emoji:"ðŸª¨",color:"#5D4E37",evolvesTo:13,skills:[{id:"rough-slam",name:"ãƒ©ãƒ•ã‚¹ãƒ©ãƒ ",description:"è’ã€…ã—ãå©ãã¤ã‘ã‚‹",damage:25,cooldown:4,type:"attack"},{id:"stone-wall",name:"ã‚¹ãƒˆãƒ¼ãƒ³ã‚¦ã‚©ãƒ¼ãƒ«",description:"å²©ã®ã‚ˆã†ã«å›ºã¾ã‚‹",damage:0,cooldown:5,type:"defense"}]},{id:9,name:"ã†ã­ã†ã­æ¯›æ ¹",rarity:"common",element:"water",description:"æ³¢æ‰“ã¤ç‹¬ç‰¹ãªæ¯›æ ¹",power:11,speed:11,grip:13,emoji:"ðŸŒŠ",color:"#4E3B2D",evolvesTo:16,skills:[{id:"wave-crash",name:"ã‚¦ã‚§ãƒ¼ãƒ–ã‚¯ãƒ©ãƒƒã‚·ãƒ¥",description:"æ³¢ã®ã‚ˆã†ã«æŠ¼ã—å¯„ã›ã‚‹",damage:18,cooldown:3,type:"attack"},{id:"flow-dodge",name:"ãƒ•ãƒ­ãƒ¼ãƒ‰ãƒƒã‚¸",description:"æµã‚Œã‚‹ã‚ˆã†ã«é¿ã‘ã‚‹",damage:0,cooldown:3,type:"defense"}]},{id:10,name:"ã´ã‚“ã´ã‚“æ¯›æ ¹",rarity:"common",element:"light",description:"å…ƒæ°—ã„ã£ã±ã„ã®æ¯›æ ¹",power:12,speed:13,grip:10,emoji:"âš¡",color:"#5F4B3C",evolvesTo:17,skills:[{id:"energy-burst",name:"ã‚¨ãƒŠã‚¸ãƒ¼ãƒãƒ¼ã‚¹ãƒˆ",description:"å…ƒæ°—ã«å¼¾ã‘ã‚‹",damage:17,cooldown:2,type:"attack"},{id:"bounce-back",name:"ãƒã‚¦ãƒ³ã‚¹ãƒãƒƒã‚¯",description:"è·³ã­è¿”ã£ã¦å›žå¾©",damage:0,cooldown:4,type:"special"}]},{id:11,name:"éŠ€ã®æ¯›æ ¹",rarity:"uncommon",element:"light",description:"ã‚·ãƒ«ãƒãƒ¼ã«è¼ãç¾Žã—ã„æ¯›æ ¹",power:18,speed:20,grip:17,emoji:"ðŸª™",color:"#C0C0C0",evolvesTo:19,skills:[{id:"silver-slash",name:"ã‚·ãƒ«ãƒãƒ¼ã‚¹ãƒ©ãƒƒã‚·ãƒ¥",description:"éŠ€å…‰ã§åˆ‡ã‚Šè£‚ã",damage:28,cooldown:3,type:"attack"},{id:"mirror-coat",name:"ãƒŸãƒ©ãƒ¼ã‚³ãƒ¼ãƒˆ",description:"éŠ€ã®è¼ãã§è·³ã­è¿”ã™",damage:0,cooldown:4,type:"defense"}]},{id:12,name:"ãƒ„ã‚¤ã‚¹ãƒˆæ¯›æ ¹",rarity:"uncommon",element:"wind",description:"äºŒé‡ã‚‰ã›ã‚“æ§‹é€ ã®æ¯›æ ¹",power:20,speed:16,grip:22,emoji:"ðŸ§¬",color:"#8B6914",evolvesTo:21,skills:[{id:"dna-bind",name:"DNAãƒã‚¤ãƒ³ãƒ‰",description:"äºŒé‡ã‚‰ã›ã‚“ã§ç· ã‚ä¸Šã’ã‚‹",damage:32,cooldown:4,type:"attack"},{id:"helix-heal",name:"ãƒ˜ãƒªãƒƒã‚¯ã‚¹ãƒ’ãƒ¼ãƒ«",description:"ã‚‰ã›ã‚“ã®åŠ›ã§å›žå¾©",damage:0,cooldown:5,type:"special"}]},{id:13,name:"ã‚¢ãƒ³ã‚«ãƒ¼æ¯›æ ¹",rarity:"uncommon",element:"water",description:"ã—ã£ã‹ã‚Šæ ¹ä»˜ãæ¯›æ ¹",power:22,speed:12,grip:25,emoji:"âš“",color:"#4A5568",evolvesTo:24,skills:[{id:"anchor-drop",name:"ã‚¢ãƒ³ã‚«ãƒ¼ãƒ‰ãƒ­ãƒƒãƒ—",description:"é‡ãè½ã¡ã¦å›ºå®š",damage:35,cooldown:4,type:"attack"},{id:"immovable",name:"ã‚¤ãƒ ãƒ¼ãƒãƒ–ãƒ«",description:"å‹•ã‹ãªã„å®ˆã‚Š",damage:0,cooldown:5,type:"defense"}]},{id:14,name:"ã‚¹ãƒ—ãƒªãƒ³ã‚°æ¯›æ ¹",rarity:"uncommon",element:"wind",description:"ãƒãƒã®ã‚ˆã†ã«è·³ã­ã‚‹æ¯›æ ¹",power:15,speed:28,grip:15,emoji:"ðŸŽ¯",color:"#718096",evolvesTo:22,skills:[{id:"spring-shot",name:"ã‚¹ãƒ—ãƒªãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒˆ",description:"è·³ã­ã¦æ€¥è¥²",damage:24,cooldown:2,type:"attack"},{id:"coil-dodge",name:"ã‚³ã‚¤ãƒ«ãƒ‰ãƒƒã‚¸",description:"ãƒãƒã§é£›ã‚“ã§å›žé¿",damage:0,cooldown:3,type:"defense"}]},{id:15,name:"ãƒ•ãƒ¬ã‚¤ãƒ æ¯›æ ¹",rarity:"uncommon",element:"fire",description:"ç‡ƒãˆã‚‹ã‚ˆã†ãªèµ¤ã„æ¯›æ ¹",power:25,speed:18,grip:14,emoji:"ðŸ”¥",color:"#EF4444",evolvesTo:25,skills:[{id:"fire-blast",name:"ãƒ•ã‚¡ã‚¤ã‚¢ãƒ–ãƒ©ã‚¹ãƒˆ",description:"ç‚Žã‚’çºã£ã¦çªæ’ƒ+ç‚Žä¸Šä»˜ä¸Ž",damage:28,cooldown:4,type:"dot",dotEffect:{name:"ç‚Žä¸Š",damage:10,duration:3}},{id:"heat-aura",name:"ãƒ’ãƒ¼ãƒˆã‚ªãƒ¼ãƒ©",description:"ç†±ã§è¿‘ã¥ã‘ã•ã›ãªã„",damage:0,cooldown:4,type:"defense"}]},{id:16,name:"ãƒ•ãƒ­ã‚¹ãƒˆæ¯›æ ¹",rarity:"uncommon",element:"water",description:"å‡ã¦ã¤ãé’ã„æ¯›æ ¹",power:16,speed:22,grip:20,emoji:"â„ï¸",color:"#60A5FA",evolvesTo:26,skills:[{id:"ice-spike",name:"ã‚¢ã‚¤ã‚¹ã‚¹ãƒ‘ã‚¤ã‚¯",description:"æ°·ã®æ£˜+å‡å‚·ä»˜ä¸Ž",damage:22,cooldown:3,type:"dot",dotEffect:{name:"å‡å‚·",damage:8,duration:3}},{id:"freeze-guard",name:"ãƒ•ãƒªãƒ¼ã‚ºã‚¬ãƒ¼ãƒ‰",description:"å‡ã£ã¦ç¡¬åŒ–",damage:0,cooldown:4,type:"defense"}]},{id:17,name:"ã‚µãƒ³ãƒ€ãƒ¼æ¯›æ ¹",rarity:"uncommon",element:"light",description:"é›»æ’ƒã‚’çºã†æ¯›æ ¹",power:24,speed:24,grip:10,emoji:"âš¡",color:"#FBBF24",evolvesTo:27,skills:[{id:"thunder-bolt",name:"ã‚µãƒ³ãƒ€ãƒ¼ãƒœãƒ«ãƒˆ",description:"é›»æ’ƒã‚’æ”¾ã¤",damage:36,cooldown:3,type:"attack"},{id:"static-field",name:"ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰",description:"é™é›»æ°—ã§éº»ç—º",damage:0,cooldown:4,type:"special"}]},{id:18,name:"ãƒã‚¤ãƒ³æ¯›æ ¹",rarity:"uncommon",element:"wind",description:"ã¤ã‚‹çŠ¶ã«ä¼¸ã³ã‚‹æ¯›æ ¹",power:14,speed:15,grip:30,emoji:"ðŸŒ¿",color:"#10B981",evolvesTo:23,skills:[{id:"vine-whip",name:"ãƒã‚¤ãƒ³ã‚¦ã‚£ãƒƒãƒ—",description:"ã¤ã‚‹ã§éž­æ‰“ã¤",damage:26,cooldown:3,type:"attack"},{id:"entangle",name:"ã‚¨ãƒ³ã‚¿ãƒ³ã‚°ãƒ«",description:"çµ¡ã‚ã¦å‹•ãã‚’å°ã˜ã‚‹",damage:0,cooldown:4,type:"special"}]},{id:19,name:"é‡‘ã®æ¯›æ ¹",rarity:"rare",element:"light",description:"24é‡‘ã«è¼ãé«˜è²´ãªæ¯›æ ¹",power:30,speed:28,grip:28,emoji:"ðŸ¥‡",color:"#FFD700",evolvesTo:25,skills:[{id:"gold-rush",name:"ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ©ãƒƒã‚·ãƒ¥",description:"é»„é‡‘ã®çªé€²",damage:45,cooldown:4,type:"attack"},{id:"treasure-guard",name:"ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼ã‚¬ãƒ¼ãƒ‰",description:"é»„é‡‘ã®é˜²å£",damage:0,cooldown:5,type:"defense"}]},{id:20,name:"ãƒ‰ãƒ©ã‚´ãƒ³æ¯›æ ¹",rarity:"rare",element:"fire",description:"é¾ã®ã†ã‚ã“ã‚’æŒã¤æ¯›æ ¹",power:38,speed:25,grip:25,emoji:"ðŸ‰",color:"#DC2626",evolvesTo:25,skills:[{id:"dragon-breath",name:"ãƒ‰ãƒ©ã‚´ãƒ³ãƒ–ãƒ¬ã‚¹",description:"é¾ã®ç‚Žã‚’åã+ç‚Žä¸Šä»˜ä¸Ž",damage:40,cooldown:5,type:"dot",dotEffect:{name:"ç‚Žä¸Š",damage:15,duration:3}},{id:"scale-armor",name:"ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒ¼ãƒžãƒ¼",description:"ã†ã‚ã“ã§å®ˆã‚‹",damage:0,cooldown:5,type:"defense"}]},{id:21,name:"ã‚¯ãƒªã‚¹ã‚¿ãƒ«æ¯›æ ¹",rarity:"rare",element:"water",description:"é€ãé€šã‚‹çµæ™¶ã®æ¯›æ ¹",power:28,speed:32,grip:30,emoji:"ðŸ’Ž",color:"#06B6D4",evolvesTo:27,skills:[{id:"crystal-shatter",name:"ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚·ãƒ£ãƒƒã‚¿ãƒ¼",description:"çµæ™¶ã‚’ç •ã„ã¦æ”»æ’ƒ",damage:48,cooldown:4,type:"attack"},{id:"prism-barrier",name:"ãƒ—ãƒªã‚ºãƒ ãƒãƒªã‚¢",description:"çµæ™¶ã®å£ã§å®ˆã‚‹",damage:0,cooldown:5,type:"defense"}]},{id:22,name:"ã‚·ãƒ£ãƒ‰ã‚¦æ¯›æ ¹",rarity:"rare",element:"dark",description:"å½±ã«æº¶ã‘è¾¼ã‚€ç¥žç§˜çš„ãªæ¯›æ ¹",power:32,speed:35,grip:22,emoji:"ðŸŒ‘",color:"#1F2937",evolvesTo:28,skills:[{id:"shadow-strike",name:"ã‚·ãƒ£ãƒ‰ã‚¦ã‚¹ãƒˆãƒ©ã‚¤ã‚¯",description:"å½±ã‹ã‚‰å¥‡è¥²",damage:50,cooldown:4,type:"attack"},{id:"dark-veil",name:"ãƒ€ãƒ¼ã‚¯ãƒ´ã‚§ãƒ¼ãƒ«",description:"é—˜ã«éš ã‚Œã‚‹",damage:0,cooldown:4,type:"defense"}]},{id:23,name:"ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼æ¯›æ ¹",rarity:"rare",element:"light",description:"ä¸ƒè‰²ã«å…‰ã‚‹å¸Œå°‘ãªæ¯›æ ¹",power:28,speed:28,grip:35,emoji:"ðŸŒˆ",color:"#EC4899",evolvesTo:27,skills:[{id:"spectrum-blast",name:"ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ ãƒ–ãƒ©ã‚¹ãƒˆ",description:"ä¸ƒè‰²ã®å…‰ç·š(æœ€å¤§2ä½“)",damage:35,cooldown:4,type:"aoe",maxTargets:2},{id:"rainbow-aura",name:"ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼ã‚ªãƒ¼ãƒ©",description:"è™¹ã®åŠ è­·",damage:0,cooldown:5,type:"special"}]},{id:24,name:"ãƒ¡ã‚¿ãƒ«æ¯›æ ¹",rarity:"rare",element:"dark",description:"é‹¼é‰„ã®ã‚ˆã†ã«ç¡¬ã„æ¯›æ ¹",power:40,speed:18,grip:32,emoji:"ðŸ”©",color:"#6B7280",evolvesTo:26,skills:[{id:"metal-crush",name:"ãƒ¡ã‚¿ãƒ«ã‚¯ãƒ©ãƒƒã‚·ãƒ¥",description:"é‹¼é‰„ã§æŠ¼ã—ã¤ã¶ã™",damage:58,cooldown:5,type:"attack"},{id:"iron-fortress",name:"ã‚¢ã‚¤ã‚¢ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆãƒ¬ã‚¹",description:"é‹¼é‰„ã®è¦å¡ž",damage:0,cooldown:6,type:"defense"}]},{id:25,name:"é³³å‡°æ¯›æ ¹",rarity:"epic",element:"fire",description:"ä¸æ­»é³¥ã®ç¾½ã‚’æŒã¤æ¯›æ ¹",power:48,speed:45,grip:42,emoji:"ðŸ¦…",color:"#F97316",evolvesTo:29,skills:[{id:"phoenix-flare",name:"ãƒ•ã‚§ãƒ‹ãƒƒã‚¯ã‚¹ãƒ•ãƒ¬ã‚¢",description:"ä¸æ­»é³¥ã®ç‚Žã§ç„¼ãå°½ãã™+ç‚Žä¸Šä»˜ä¸Ž",damage:70,cooldown:4,type:"dot",dotEffect:{name:"ç‚Žä¸Š",damage:20,duration:3}},{id:"rebirth",name:"ãƒªãƒãƒ¼ã‚¹",description:"ç°ã‹ã‚‰è˜‡ã‚Šã€HPã‚’70%å›žå¾©",damage:0,cooldown:6,type:"special"}]},{id:26,name:"æ·±æµ·æ¯›æ ¹",rarity:"epic",element:"water",description:"æ·±æµ·ã®åœ§åŠ›ã«è€ãˆã‚‹æ¯›æ ¹",power:42,speed:38,grip:55,emoji:"ðŸ™",color:"#1E3A8A",evolvesTo:30,skills:[{id:"abyss-crush",name:"ã‚¢ãƒ“ã‚¹ã‚¯ãƒ©ãƒƒã‚·ãƒ¥",description:"1ä¸‡ãƒ¡ãƒ¼ãƒˆãƒ«ã®æ°´åœ§ã§ç²‰ç •",damage:88,cooldown:4,type:"attack"},{id:"depth-guard",name:"ãƒ‡ãƒ—ã‚¹ã‚¬ãƒ¼ãƒ‰",description:"æ·±æµ·ã®åœ§åŠ›ã‚’çºã„50%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›",damage:0,cooldown:5,type:"defense"}]},{id:27,name:"ãƒãƒ“ãƒ¥ãƒ©æ¯›æ ¹",rarity:"epic",element:"divine",description:"æ˜Ÿé›²ã®åŠ›ã‚’å®¿ã™æ¯›æ ¹",power:50,speed:48,grip:38,emoji:"ðŸŒŒ",color:"#7C3AED",evolvesTo:29,skills:[{id:"nebula-burst",name:"ãƒãƒ“ãƒ¥ãƒ©ãƒãƒ¼ã‚¹ãƒˆ",description:"è¶…æ–°æ˜Ÿçˆ†ç™ºç´šã®ä¸€æ’ƒ(æœ€å¤§2ä½“)",damage:80,cooldown:4,type:"aoe",maxTargets:2},{id:"cosmic-shield",name:"ã‚³ã‚ºãƒŸãƒƒã‚¯ã‚·ãƒ¼ãƒ«ãƒ‰",description:"æ˜Ÿé–“ç‰©è³ªã®éšœå£ã€60%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›",damage:0,cooldown:5,type:"defense"}]},{id:28,name:"ã‚¿ã‚¤ãƒ ãƒªãƒ¼ãƒ—æ¯›æ ¹",rarity:"epic",element:"light",description:"æ™‚ã‚’è¶…ãˆã‚‹åŠ›ã‚’æŒã¤æ¯›æ ¹",power:45,speed:55,grip:40,emoji:"â°",color:"#0EA5E9",evolvesTo:30,skills:[{id:"time-strike",name:"ã‚¿ã‚¤ãƒ ã‚¹ãƒˆãƒ©ã‚¤ã‚¯",description:"æ™‚é–“åœæ­¢ä¸­ã«é€£ç¶šæ”»æ’ƒ",damage:92,cooldown:4,type:"attack"},{id:"rewind",name:"ãƒªãƒ¯ã‚¤ãƒ³ãƒ‰",description:"æ™‚ã‚’å·»ãæˆ»ã—HPã‚’2ã‚¿ãƒ¼ãƒ³å‰ã«å¾©å…ƒ",damage:0,cooldown:5,type:"special"}]},{id:29,name:"ç¥žã®æ¯›æ ¹",rarity:"legendary",element:"divine",description:"ç¥žè©±ã«èªžã‚‰ã‚Œã‚‹ç©¶æ¥µã®æ¯›æ ¹",power:70,speed:65,grip:68,emoji:"ðŸ‘‘",color:"#FDE047",skills:[{id:"divine-judgment",name:"ãƒ‡ã‚£ãƒã‚¤ãƒ³ã‚¸ãƒ£ãƒƒã‚¸ãƒ¡ãƒ³ãƒˆ",description:"å¤©ç½°ã‚’ä¸‹ã—ã€æ•µã‚’ä¸€æ’ƒã§è‘¬ã‚‹",damage:150,cooldown:4,type:"attack"},{id:"holy-blessing",name:"ãƒ›ãƒ¼ãƒªãƒ¼ãƒ–ãƒ¬ãƒƒã‚·ãƒ³ã‚°",description:"ç¥žã®åŠ è­·ã§å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹+50ã€HP40%å›žå¾©",damage:0,cooldown:5,type:"special"}]},{id:30,name:"ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«æ¯›æ ¹",rarity:"legendary",element:"dark",description:"å…¨ã¦ã‚’é£²ã¿è¾¼ã‚€æœ€å¼·ã®æ¯›æ ¹",power:75,speed:60,grip:75,emoji:"ðŸ•³ï¸",color:"#18181B",skills:[{id:"singularity",name:"ã‚·ãƒ³ã‚®ãƒ¥ãƒ©ãƒªãƒ†ã‚£",description:"ç‰¹ç•°ç‚¹ã«å¼•ãè¾¼ã¿å­˜åœ¨ã‚’æ¶ˆæ»…ã•ã›ã‚‹",damage:140,cooldown:4,type:"attack"},{id:"event-horizon",name:"ã‚¤ãƒ™ãƒ³ãƒˆãƒ›ãƒ©ã‚¤ã‚ºãƒ³",description:"äº‹è±¡ã®åœ°å¹³ç·šã§å…¨æ”»æ’ƒã‚’ç„¡åŠ¹åŒ–",damage:0,cooldown:5,type:"defense"}]},{id:31,name:"ã‚¼ã‚¦ã‚¹ã®æ¯›æ ¹",rarity:"cosmic",element:"divine",description:"å…¨çŸ¥å…¨èƒ½ã®ç¥žã‚¼ã‚¦ã‚¹ã®åŠ›ã‚’å®¿ã™ç©¶æ¥µã®æ¯›æ ¹ã€‚é›·ã¨å¤©ç©ºã‚’æ”¯é…ã™ã‚‹",power:100,speed:95,grip:90,emoji:"âš¡",color:"#FFD700",skills:[{id:"thunderbolt-supreme",name:"ã‚µãƒ³ãƒ€ãƒ¼ãƒœãƒ«ãƒˆãƒ»ã‚¹ãƒ—ãƒªãƒ¼ãƒ ",description:"ã‚ªãƒªãƒ³ãƒã‚¹ã®é›·éœ†ã§é¸æŠžã—ãŸæ•µã‚’æ¶ˆã—åŽ»ã‚‹(æœ€å¤§3ä½“)",damage:200,cooldown:3,type:"aoe",maxTargets:3},{id:"olympus-blessing",name:"ã‚ªãƒªãƒ³ãƒã‚¹ã®ç¥ç¦",description:"ç¥žã€…ã®åŠ è­·ã€‚å‘³æ–¹å…¨å“¡ã®HPå®Œå…¨å›žå¾©",damage:0,cooldown:6,type:"team_heal"}]},{id:32,name:"ã‚®ãƒ£ãƒ©ã‚¯ãƒ†ã‚£ã‚«æ¯›æ ¹",rarity:"cosmic",element:"dark",description:"å®‡å®™ã®å½¼æ–¹ã‹ã‚‰ç¾ã‚ŒãŸæš—é»’ã®æ¯›æ ¹ã€‚éš•çŸ³ã¨çµ‚ç„‰ã®åŠ›ã‚’æ“ã‚‹",power:105,speed:90,grip:95,emoji:"ðŸŒŒ",color:"#4B0082",skills:[{id:"thousand-meteor",name:"ã‚µã‚¦ã‚¶ãƒ³ãƒ‰ãƒ¡ãƒ†ã‚ª",description:"1000ã®éš•çŸ³ã§æ•µå…¨ä½“ã‚’è¥²ã†",damage:150,cooldown:5,type:"aoe",maxTargets:99},{id:"end-world",name:"ã‚¨ãƒ³ãƒ‰ãƒ¯ãƒ¼ãƒ«ãƒ‰",description:"ä¸–ç•Œã®çµ‚ã‚ã‚Šã§æ•µä¸€ä½“ã‚’æ¶ˆæ»…ã•ã›ã‚‹",damage:9999,cooldown:7,type:"special"}]},{id:53,name:"è¶…æ¬¡å…ƒæ¯›æ ¹é­”çŽ‹ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰",rarity:"cosmic",element:"dark",description:"å…¨æ¬¡å…ƒã‚’æ”¯é…ã™ã‚‹ç©¶æ¥µã®é­”çŽ‹ã€‚è¶…æ¬¡å…ƒã®åŠ›ã§å…¨ã¦ã‚’å¾“ãˆã‚‹",power:100,speed:100,grip:100,emoji:"ðŸ‘‘",color:"#FF1493",skills:[{id:"ancient-chaos",name:"ã‚¨ãƒ³ã‚·ã‚§ãƒ³ãƒˆã‚«ã‚ªã‚¹",description:"å¤ä»£ã®æ··æ²Œã‚’è§£æ”¾ã™ã‚‹å¿…æ®ºæ”»æ’ƒã€‚å¨åŠ›150",damage:150,cooldown:4,type:"attack"},{id:"demon-king-shell",name:"é­”çŽ‹ã®å¤–éƒ­",description:"é­”çŽ‹ã®å …ç‰¢ãªå¤–æ®»ã§èº«ã‚’å®ˆã‚‹ã€‚é˜²å¾¡çŽ‡90%",damage:0,cooldown:3,type:"defense"},{id:"absolute-zero",name:"ã‚¢ãƒ–ã‚½ãƒªãƒ¥ãƒ¼ãƒˆã‚¼ãƒ­",description:"å…¨æ¬¡å…ƒé ˜åŸŸã«çµ¶å¯¾é›¶åº¦ã‚’æ’ƒã¡è¾¼ã‚€ã€‚å…¨ä½“ã«å¨åŠ›100ã®ãƒ€ãƒ¡ãƒ¼ã‚¸ã¨å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹20%ãƒ€ã‚¦ãƒ³",damage:100,cooldown:5,type:"aoe",maxTargets:99}]},{id:33,name:"ã­ã°ã­ã°æ¯›æ ¹",rarity:"common",element:"water",description:"ç²˜ç€è³ªã§é›¢ã•ãªã„æ¯›æ ¹",power:9,speed:10,grip:18,emoji:"ðŸ¯",color:"#D97706",evolvesTo:11,skills:[{id:"sticky-trap",name:"ã‚¹ãƒ†ã‚£ãƒƒã‚­ãƒ¼ãƒˆãƒ©ãƒƒãƒ—",description:"ç²˜ç€ã§çµ¡ã‚ã¨ã‚‹",damage:14,cooldown:2,type:"attack"},{id:"gum-shield",name:"ã‚¬ãƒ ã‚·ãƒ¼ãƒ«ãƒ‰",description:"ç²˜ç€ãƒãƒªã‚¢",damage:0,cooldown:3,type:"defense"}]},{id:34,name:"ã¨ã’ã¨ã’æ¯›æ ¹",rarity:"common",element:"wind",description:"æ£˜ã ã‚‰ã‘ã®æ”»æ’ƒçš„ãªæ¯›æ ¹",power:16,speed:9,grip:10,emoji:"ðŸŒµ",color:"#16A34A",evolvesTo:15,skills:[{id:"thorn-stab",name:"ã‚½ãƒ¼ãƒ³ã‚¹ã‚¿ãƒ–",description:"æ£˜ã§åˆºã™",damage:22,cooldown:3,type:"attack"},{id:"spike-armor",name:"ã‚¹ãƒ‘ã‚¤ã‚¯ã‚¢ãƒ¼ãƒžãƒ¼",description:"æ£˜ã®éŽ§ã§åæ’ƒ",damage:0,cooldown:4,type:"defense"}]},{id:35,name:"ãµã«ã‚ƒãµã«ã‚ƒæ¯›æ ¹",rarity:"common",element:"water",description:"æŸ”è»Ÿã§å¤‰å¹»è‡ªåœ¨ãªæ¯›æ ¹",power:8,speed:17,grip:11,emoji:"ðŸª¼",color:"#A78BFA",evolvesTo:14,skills:[{id:"flex-whip",name:"ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ã‚¦ã‚£ãƒƒãƒ—",description:"ã—ãªã‚„ã‹ã«éž­æ‰“ã¤",damage:13,cooldown:2,type:"attack"},{id:"jelly-absorb",name:"ã‚¸ã‚§ãƒªãƒ¼ã‚¢ãƒ–ã‚½ãƒ¼ãƒ–",description:"è¡æ’ƒã‚’å¸åŽ",damage:0,cooldown:3,type:"defense"}]},{id:36,name:"ã½ã‚ˆã½ã‚ˆæ¯›æ ¹",rarity:"common",element:"water",description:"å¼¾åŠ›ã®ã‚ã‚‹æ„›ã‚‰ã—ã„æ¯›æ ¹",power:10,speed:12,grip:14,emoji:"ðŸ«§",color:"#38BDF8",evolvesTo:12,skills:[{id:"bounce-attack",name:"ãƒã‚¦ãƒ³ã‚¹ã‚¢ã‚¿ãƒƒã‚¯",description:"è·³ã­ã¦æ”»æ’ƒ",damage:16,cooldown:2,type:"attack"},{id:"elastic-guard",name:"ã‚¨ãƒ©ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã‚¬ãƒ¼ãƒ‰",description:"å¼¾ã„ã¦é˜²å¾¡",damage:0,cooldown:3,type:"defense"}]},{id:37,name:"ãã‚‰ãã‚‰æ¯›æ ¹",rarity:"common",element:"light",description:"å…‰ã‚’åå°„ã™ã‚‹ç¾Žã—ã„æ¯›æ ¹",power:11,speed:14,grip:10,emoji:"ðŸ’«",color:"#FCD34D",evolvesTo:19,skills:[{id:"sparkle-flash",name:"ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒ«ãƒ•ãƒ©ãƒƒã‚·ãƒ¥",description:"å…‰ã§ç›®ãã‚‰ã¾ã—æ”»æ’ƒ",damage:15,cooldown:2,type:"attack"},{id:"shine-barrier",name:"ã‚·ãƒ£ã‚¤ãƒ³ãƒãƒªã‚¢",description:"å…‰ã®å£",damage:0,cooldown:4,type:"defense"}]},{id:38,name:"ãƒžã‚°ãƒžæ¯›æ ¹",rarity:"uncommon",element:"fire",description:"æº¶å²©ã®ã‚ˆã†ã«ç†±ã„æ¯›æ ¹",power:28,speed:14,grip:16,emoji:"ðŸŒ‹",color:"#DC2626",evolvesTo:25,skills:[{id:"lava-flow",name:"ãƒ©ãƒãƒ•ãƒ­ãƒ¼",description:"æº¶å²©ã‚’æµã™+ç‚Žä¸Šä»˜ä¸Ž",damage:30,cooldown:4,type:"dot",dotEffect:{name:"ç‚Žä¸Š",damage:12,duration:3}},{id:"magma-armor",name:"ãƒžã‚°ãƒžã‚¢ãƒ¼ãƒžãƒ¼",description:"æº¶å²©ã®éŽ§",damage:0,cooldown:5,type:"defense"}]},{id:39,name:"ã‚¦ã‚£ãƒ³ãƒ‰æ¯›æ ¹",rarity:"uncommon",element:"wind",description:"é¢¨ã‚’æ“ã‚‹è»½ã‚„ã‹ãªæ¯›æ ¹",power:16,speed:30,grip:12,emoji:"ðŸŒ¬ï¸",color:"#67E8F9",evolvesTo:27,skills:[{id:"gale-slash",name:"ã‚²ã‚¤ãƒ«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥",description:"é¢¨ã§åˆ‡ã‚Šè£‚ã",damage:28,cooldown:2,type:"attack"},{id:"wind-barrier",name:"ã‚¦ã‚£ãƒ³ãƒ‰ãƒãƒªã‚¢",description:"é¢¨ã®å£",damage:0,cooldown:3,type:"defense"}]},{id:40,name:"ã‚°ãƒ©ãƒ“ãƒ†ã‚£æ¯›æ ¹",rarity:"uncommon",element:"dark",description:"é‡åŠ›ã‚’æ“ã‚‹ç¥žç§˜çš„ãªæ¯›æ ¹",power:24,speed:15,grip:20,emoji:"ðŸ”®",color:"#8B5CF6",evolvesTo:28,skills:[{id:"gravity-press",name:"ã‚°ãƒ©ãƒ“ãƒ†ã‚£ãƒ—ãƒ¬ã‚¹",description:"é‡åŠ›ã§æŠ¼ã—ã¤ã¶ã™",damage:36,cooldown:4,type:"attack"},{id:"zero-gravity",name:"ã‚¼ãƒ­ã‚°ãƒ©ãƒ“ãƒ†ã‚£",description:"ç„¡é‡åŠ›ã§å›žé¿",damage:0,cooldown:4,type:"defense"}]},{id:41,name:"ãƒã‚¤ã‚ºãƒ³æ¯›æ ¹",rarity:"uncommon",element:"dark",description:"æ¯’ã‚’æŒã¤å±é™ºãªæ¯›æ ¹",power:22,speed:20,grip:18,emoji:"â˜ ï¸",color:"#84CC16",evolvesTo:26,skills:[{id:"venom-strike",name:"ãƒ´ã‚§ãƒŽãƒ ã‚¹ãƒˆãƒ©ã‚¤ã‚¯",description:"æ¯’ã§æ”»æ’ƒ+æ¯’ä»˜ä¸Ž",damage:20,cooldown:3,type:"dot",dotEffect:{name:"æ¯’",damage:12,duration:3}},{id:"toxic-cloud",name:"ãƒˆã‚­ã‚·ãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰",description:"æ¯’éœ§ã§å®ˆã‚‹",damage:0,cooldown:4,type:"special"}]},{id:42,name:"ã‚½ãƒ‹ãƒƒã‚¯æ¯›æ ¹",rarity:"uncommon",element:"wind",description:"éŸ³é€Ÿã‚’è¶…ãˆã‚‹é«˜é€Ÿæ¯›æ ¹",power:18,speed:32,grip:10,emoji:"ðŸ’¨",color:"#6366F1",evolvesTo:22,skills:[{id:"sonic-boom",name:"ã‚½ãƒ‹ãƒƒã‚¯ãƒ–ãƒ¼ãƒ ",description:"éŸ³é€Ÿã®è¡æ’ƒæ³¢(æœ€å¤§2ä½“)",damage:25,cooldown:3,type:"aoe",maxTargets:2},{id:"speed-blur",name:"ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒ–ãƒ©ãƒ¼",description:"é«˜é€Ÿç§»å‹•ã§å›žé¿",damage:0,cooldown:2,type:"defense"}]},{id:43,name:"ã‚ªãƒ¼ãƒ­ãƒ©æ¯›æ ¹",rarity:"rare",element:"light",description:"æ¥µå…‰ã‚’çºã†ç¥žç§˜çš„ãªæ¯›æ ¹",power:32,speed:30,grip:28,emoji:"ðŸŒŒ",color:"#34D399",evolvesTo:27,skills:[{id:"aurora-wave",name:"ã‚ªãƒ¼ãƒ­ãƒ©ã‚¦ã‚§ãƒ¼ãƒ–",description:"æ¥µå…‰ã®æ³¢å‹•(æœ€å¤§2ä½“)",damage:42,cooldown:4,type:"aoe",maxTargets:2},{id:"northern-veil",name:"ãƒŽãƒ¼ã‚¶ãƒ³ãƒ´ã‚§ãƒ¼ãƒ«",description:"æ¥µå…‰ã®å¹•ã§å®ˆã‚‹",damage:0,cooldown:5,type:"defense"}]},{id:44,name:"ãƒ«ãƒŠæ¯›æ ¹",rarity:"rare",element:"dark",description:"æœˆã®åŠ›ã‚’å®¿ã™æ¯›æ ¹",power:28,speed:35,grip:30,emoji:"ðŸŒ™",color:"#E2E8F0",evolvesTo:29,skills:[{id:"lunar-strike",name:"ãƒ«ãƒŠã‚¹ãƒˆãƒ©ã‚¤ã‚¯",description:"æœˆå…‰ã®ä¸€æ’ƒ",damage:48,cooldown:4,type:"attack"},{id:"moon-blessing",name:"ãƒ ãƒ¼ãƒ³ãƒ–ãƒ¬ãƒƒã‚·ãƒ³ã‚°",description:"æœˆã®åŠ è­·ã§å›žå¾©",damage:0,cooldown:5,type:"special"}]},{id:45,name:"ã‚½ãƒ¼ãƒ©ãƒ¼æ¯›æ ¹",rarity:"rare",element:"light",description:"å¤ªé™½ã®åŠ›ã‚’å®¿ã™æ¯›æ ¹",power:40,speed:28,grip:25,emoji:"â˜€ï¸",color:"#FBBF24",evolvesTo:25,skills:[{id:"solar-flare",name:"ã‚½ãƒ¼ãƒ©ãƒ¼ãƒ•ãƒ¬ã‚¢",description:"å¤ªé™½ãƒ•ãƒ¬ã‚¢æ”»æ’ƒ",damage:56,cooldown:4,type:"attack"},{id:"sunlight-heal",name:"ã‚µãƒ³ãƒ©ã‚¤ãƒˆãƒ’ãƒ¼ãƒ«",description:"æ—¥å…‰ã§å›žå¾©",damage:0,cooldown:5,type:"special"}]},{id:46,name:"ã‚¹ãƒ”ãƒªãƒƒãƒˆæ¯›æ ¹",rarity:"rare",element:"divine",description:"ç²¾éœŠã®åŠ›ã‚’æŒã¤æ¯›æ ¹",power:30,speed:32,grip:32,emoji:"ðŸ‘»",color:"#A78BFA",evolvesTo:28,skills:[{id:"spirit-lance",name:"ã‚¹ãƒ”ãƒªãƒƒãƒˆãƒ©ãƒ³ã‚¹",description:"ç²¾éœŠã®æ§",damage:50,cooldown:4,type:"attack"},{id:"ethereal-form",name:"ã‚¨ãƒ¼ãƒ†ãƒ«ãƒ•ã‚©ãƒ¼ãƒ ",description:"éœŠä½“åŒ–ã§å›žé¿",damage:0,cooldown:4,type:"defense"}]},{id:47,name:"ãƒ†ãƒ©æ¯›æ ¹",rarity:"rare",element:"dark",description:"å¤§åœ°ã®åŠ›ã‚’æŒã¤æ¯›æ ¹",power:38,speed:22,grip:35,emoji:"ðŸ”ï¸",color:"#92400E",evolvesTo:26,skills:[{id:"earthquake",name:"ã‚¢ãƒ¼ã‚¹ã‚¯ã‚¨ã‚¤ã‚¯",description:"åœ°éœ‡ã‚’èµ·ã“ã™(æœ€å¤§2ä½“)",damage:54,cooldown:5,type:"aoe",maxTargets:2},{id:"stone-skin",name:"ã‚¹ãƒˆãƒ¼ãƒ³ã‚¹ã‚­ãƒ³",description:"çŸ³åŒ–ã—ã¦é˜²å¾¡",damage:0,cooldown:5,type:"defense"}]},{id:48,name:"ã‚±ãƒ«ãƒ™ãƒ­ã‚¹æ¯›æ ¹",rarity:"epic",element:"fire",description:"ä¸‰ã¤é¦–ã®åœ°ç„ã®ç•ªçŠ¬ã®åŠ›ã‚’æŒã¤æ¯›æ ¹",power:52,speed:42,grip:45,emoji:"ðŸ•",color:"#7C2D12",evolvesTo:30,skills:[{id:"triple-fang",name:"ãƒˆãƒªãƒ—ãƒ«ãƒ•ã‚¡ãƒ³ã‚°",description:"ä¸‰é€£å™›ã¿ã¤ãæ”»æ’ƒ",damage:98,cooldown:4,type:"attack"},{id:"hellfire-breath",name:"ãƒ˜ãƒ«ãƒ•ã‚¡ã‚¤ã‚¢ãƒ–ãƒ¬ã‚¹",description:"åœ°ç„ã®ç‚Žã§å…¨ã¦ã‚’ç„¼ã",damage:0,cooldown:5,type:"special"}]},{id:49,name:"ãƒ´ã‚¡ãƒ«ã‚­ãƒªãƒ¼æ¯›æ ¹",rarity:"epic",element:"light",description:"æˆ¦ä¹™å¥³ã®åŠ›ã‚’å®¿ã™æ¯›æ ¹",power:48,speed:50,grip:42,emoji:"âš”ï¸",color:"#F472B6",evolvesTo:29,skills:[{id:"valkyrie-strike",name:"ãƒ´ã‚¡ãƒ«ã‚­ãƒªãƒ¼ã‚¹ãƒˆãƒ©ã‚¤ã‚¯",description:"æˆ¦ä¹™å¥³ã®å¿…æ®ºå‰£",damage:95,cooldown:4,type:"attack"},{id:"einherjar",name:"ã‚¨ã‚¤ãƒ³ãƒ˜ãƒªãƒ£ãƒ«",description:"å‹‡è€…ã®é­‚ã§å¾©æ´»ã€HP60%å›žå¾©",damage:0,cooldown:6,type:"special"}]},{id:50,name:"ãƒªãƒ´ã‚¡ã‚¤ã‚¢ã‚µãƒ³æ¯›æ ¹",rarity:"epic",element:"water",description:"æµ·ã®é­”ç£ã®åŠ›ã‚’æŒã¤æ¯›æ ¹",power:45,speed:40,grip:55,emoji:"ðŸ‹",color:"#0369A1",evolvesTo:30,skills:[{id:"tidal-wave",name:"ã‚¿ã‚¤ãƒ€ãƒ«ã‚¦ã‚§ãƒ¼ãƒ–",description:"å¤§æ´¥æ³¢ã§æŠ¼ã—æµã™(æœ€å¤§3ä½“)",damage:90,cooldown:4,type:"aoe",maxTargets:3},{id:"deep-dive",name:"ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ€ã‚¤ãƒ–",description:"æ·±æµ·ã«æ½œã‚Šå…¨æ”»æ’ƒå›žé¿",damage:0,cooldown:5,type:"defense"}]},{id:51,name:"ã‚ªãƒ¼ãƒ‡ã‚£ãƒ³æ¯›æ ¹",rarity:"legendary",element:"divine",description:"åŒ—æ¬§ç¥žè©±ã®ä¸»ç¥žã®åŠ›ã‚’å®¿ã™æ¯›æ ¹",power:72,speed:68,grip:65,emoji:"ðŸ¦…",color:"#1E40AF",skills:[{id:"gungnir",name:"ã‚°ãƒ³ã‚°ãƒ‹ãƒ«",description:"å¿…ä¸­ã®ç¥žæ§ã§è²«ã",damage:145,cooldown:4,type:"attack"},{id:"all-father",name:"ã‚ªãƒ¼ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼",description:"å…¨çŸ¥ã®åŠ›ã§æ¬¡ã®æ”»æ’ƒã‚’å®Œå…¨å›žé¿+åæ’ƒ",damage:0,cooldown:5,type:"special"}]},{id:52,name:"ã‚¢ãƒžãƒ†ãƒ©ã‚¹æ¯›æ ¹",rarity:"legendary",element:"light",description:"å¤ªé™½ç¥žã®åŠ›ã‚’æŒã¤ç¥žè–ãªæ¯›æ ¹",power:68,speed:70,grip:70,emoji:"ðŸŒ¸",color:"#F43F5E",skills:[{id:"amaterasu-flame",name:"å¤©ç…§ã®ç‚Ž",description:"æ¶ˆãˆãªã„ç¥žç«ã§æ•µã‚’ç„¼ã(æœ€å¤§2ä½“)",damage:155,cooldown:4,type:"aoe",maxTargets:2},{id:"divine-light",name:"ç¥žå…‰",description:"ç¥žè–ãªå…‰ã§å‘³æ–¹å…¨å“¡HP50%å›žå¾©",damage:0,cooldown:6,type:"team_heal"}]}],V=D.filter(e=>53!==e.id);function F(){let e,t=Math.random();e=t<.001?"cosmic":t<.011?"legendary":t<.061?"epic":t<.201?"rare":t<.501?"uncommon":"common";let i=V.filter(t=>t.rarity===e);return i[Math.floor(Math.random()*i.length)]}let L={coins:100,collection:[],selectedHairRoot:null,battleRankPoints:0,royaleRankPoints:0,teamRoyaleRankPoints:0,playerName:"æ¯›æ ¹ãƒžã‚¹ã‚¿ãƒ¼",playerTitle:"é§†ã‘å‡ºã—è‚²æ¯›å£«",bgmEnabled:!0,bgmVolume:.3,brightness:1},B={id:53,name:"è¶…æ¬¡å…ƒæ¯›æ ¹é­”çŽ‹ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰",rarity:"cosmic",element:"dark",description:"å…¨æ¬¡å…ƒã‚’æ”¯é…ã™ã‚‹ç©¶æ¥µã®é­”çŽ‹ã€‚è¶…æ¬¡å…ƒã®åŠ›ã§å…¨ã¦ã‚’å¾“ãˆã‚‹",power:100,speed:100,grip:100,emoji:"ðŸ‘‘",color:"#FF1493",skills:[{id:"ancient-chaos",name:"ã‚¨ãƒ³ã‚·ã‚§ãƒ³ãƒˆã‚«ã‚ªã‚¹",description:"å¤ä»£ã®æ··æ²Œã‚’è§£æ”¾ã™ã‚‹å¿…æ®ºæ”»æ’ƒã€‚å¨åŠ›150",damage:150,cooldown:4,type:"attack"},{id:"demon-king-shell",name:"é­”çŽ‹ã®å¤–éƒ­",description:"é­”çŽ‹ã®å …ç‰¢ãªå¤–æ®»ã§èº«ã‚’å®ˆã‚‹ã€‚é˜²å¾¡çŽ‡90%",damage:0,cooldown:3,type:"defense"},{id:"absolute-zero",name:"ã‚¢ãƒ–ã‚½ãƒªãƒ¥ãƒ¼ãƒˆã‚¼ãƒ­",description:"å…¨æ¬¡å…ƒé ˜åŸŸã«çµ¶å¯¾é›¶åº¦ã‚’æ’ƒã¡è¾¼ã‚€ã€‚å…¨ä½“ã«å¨åŠ›100ã®ãƒ€ãƒ¡ãƒ¼ã‚¸ã¨å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹20%ãƒ€ã‚¦ãƒ³",damage:100,cooldown:5,type:"aoe",maxTargets:99}]},H=[0,100,250,500,800,1200,1700,2300,3e3,4e3],I=[{tier:"bronze",name:"ãƒ–ãƒ­ãƒ³ã‚º",minPoints:0,color:"#CD7F32"},{tier:"silver",name:"ã‚·ãƒ«ãƒãƒ¼",minPoints:400,color:"#C0C0C0"},{tier:"gold",name:"ã‚´ãƒ¼ãƒ«ãƒ‰",minPoints:800,color:"#FFD700"},{tier:"platinum",name:"ãƒ—ãƒ©ãƒãƒŠ",minPoints:1200,color:"#E5E4E2"},{tier:"diamond",name:"ãƒ€ã‚¤ãƒ¤",minPoints:1600,color:"#B9F2FF"},{tier:"master",name:"ãƒžã‚¹ã‚¿ãƒ¼",minPoints:2e3,color:"#9966CC"},{tier:"legend",name:"ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰",minPoints:2500,color:"#FF4500"}];function z(e){let t=I[0];for(let i of I)e>=i.minPoints&&(t=i);let i=I.findIndex(e=>e.tier===t.tier),a=I[i+1],s=a?a.minPoints-t.minPoints:500,r=Math.max(1,3-Math.floor((e-t.minPoints)/s*3));return{tier:t.tier,division:Math.min(3,r),points:e,name:`${t.name} ${["I","II","III"][r-1]}`}}function O(e){return I.find(t=>t.tier===e)?.color||"#CD7F32"}function U(e){return 1+.2*I.findIndex(t=>t.tier===e.tier)+(3-e.division)*.05}function W(e,t,i){let a=I.findIndex(e=>e.tier===t.tier),s=Math.max(15,30-3*a),r=Math.max(10,20-2*a);return void 0!==i?1===i?2*s:2===i?Math.floor(1.5*s):3===i?s:i<=5?Math.floor(.5*s):-r:e?s:-r}function _(e){let t=1+(e.level-1)*.15;return{power:Math.floor(e.power*t),speed:Math.floor(e.speed*t),grip:Math.floor(e.grip*t)}}let Y=D.find(e=>53===e.id),X=[{id:"normal-attack",name:"é€šå¸¸æ”»æ’ƒ",description:"åŸºæœ¬çš„ãªæ”»æ’ƒ",damage:50,cooldown:1,type:"attack"},{id:"normal-defense",name:"é€šå¸¸é˜²å¾¡",description:"åŸºæœ¬çš„ãªé˜²å¾¡æ…‹å‹¢",damage:0,cooldown:1,type:"defense"},{id:"ancient-chaos-raid",name:"ã‚¨ãƒ³ã‚·ã‚§ãƒ³ãƒˆã‚«ã‚ªã‚¹",description:"å¤ä»£ã®æ··æ²Œã‚’è§£æ”¾ã™ã‚‹å¿…æ®ºæ”»æ’ƒ",damage:150,cooldown:4,type:"attack"},{id:"demon-king-shell-raid",name:"é­”çŽ‹ã®å¤–éƒ­",description:"é­”çŽ‹ã®å …ç‰¢ãªå¤–æ®»ã§èº«ã‚’å®ˆã‚‹",damage:0,cooldown:3,type:"defense"},{id:"absolute-zero-raid",name:"ã‚¢ãƒ–ã‚½ãƒªãƒ¥ãƒ¼ãƒˆã‚¼ãƒ­",description:"å…¨æ¬¡å…ƒé ˜åŸŸã«çµ¶å¯¾é›¶åº¦ã‚’æ’ƒã¡è¾¼ã¿å…¨ä½“ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã¨ãƒ‡ãƒãƒ•",damage:100,cooldown:5,type:"aoe",maxTargets:8}],q=1e3;function K(e){return 1+(e.level-1)*.15}let G=(0,l.createContext)(null);function Z({children:e}){let[t,i]=(0,l.useState)(L),a=(0,l.useCallback)(()=>{if(t.coins<10)return null;let e=F(),a=null;return i(t=>{let i=t.collection.find(t=>t.id===e.id);if(i){let s={...i,count:i.count+1};return a=s,{...t,coins:t.coins-10,collection:t.collection.map(t=>t.id===e.id?s:t)}}{let i={...e,level:1,exp:0,count:1};return a=i,{...t,coins:t.coins-10,collection:[...t.collection,i]}}}),a},[t.coins]),s=(0,l.useCallback)(()=>{if(t.coins<100)return[];let e=[];for(let t=0;t<10;t++)e.push(F());let a=[],s=[...t.collection];for(let t of e){let e=s.findIndex(e=>e.id===t.id);if(e>=0){let t=s[e],i={...t,count:t.count+1};s[e]=i,a.push(i)}else{let e={...t,level:1,exp:0,count:1};s=[...s,e],a.push(e)}}return i(e=>({...e,coins:e.coins-100,collection:s})),a},[t.coins,t.collection]),r=(0,l.useCallback)(e=>{i(t=>({...t,coins:t.coins+e}))},[]),n=(0,l.useCallback)((e,t)=>{i(i=>{let a=i.selectedHairRoot,s=i.collection.map(s=>{if(s.id!==e)return s;let r=s.exp+t,n=s.level;for(;n<10&&r>=H[n];)r-=H[n],n++;n>=10&&(n=10,r=0);let o={...s,exp:r,level:n};return i.selectedHairRoot?.id===e&&(a=o),o});return{...i,collection:s,selectedHairRoot:a}})},[]),d=(0,l.useCallback)(e=>{i(t=>({...t,selectedHairRoot:e}))},[]),c=(0,l.useCallback)(e=>t.collection.find(t=>t.id===e),[t.collection]),m=(0,l.useCallback)(e=>{let i=t.collection.find(t=>t.id===e);if(!i)return!1;let a=D.find(t=>t.id===e);return!!a?.evolvesTo&&i.count>=10},[t.collection]),u=(0,l.useCallback)(()=>z(t.battleRankPoints),[t.battleRankPoints]),h=(0,l.useCallback)(()=>z(t.royaleRankPoints),[t.royaleRankPoints]),p=(0,l.useCallback)(e=>{let a=W(e,z(t.battleRankPoints));return i(e=>({...e,battleRankPoints:Math.max(0,e.battleRankPoints+a)})),a},[t.battleRankPoints]),f=(0,l.useCallback)(e=>{let a=W(e<=3,z(t.royaleRankPoints),e);return i(e=>({...e,royaleRankPoints:Math.max(0,e.royaleRankPoints+a)})),a},[t.royaleRankPoints]),x=(0,l.useCallback)(()=>z(t.teamRoyaleRankPoints),[t.teamRoyaleRankPoints]),g=(0,l.useCallback)(e=>{let a=W(e<=2,z(t.teamRoyaleRankPoints),e);return i(e=>({...e,teamRoyaleRankPoints:Math.max(0,e.teamRoyaleRankPoints+a)})),a},[t.teamRoyaleRankPoints]),y=(0,l.useCallback)((e,t)=>{i(i=>({...i,playerName:e||i.playerName,playerTitle:t||i.playerTitle}))},[]),b=(0,l.useCallback)(e=>{i(t=>({...t,bgmEnabled:e}))},[]),v=(0,l.useCallback)(e=>{let t=Math.max(0,Math.min(1,e));i(e=>({...e,bgmVolume:t}))},[]),j=(0,l.useCallback)(e=>{let t=Math.max(.6,Math.min(1.4,e));i(e=>({...e,brightness:t}))},[]),w=(0,l.useCallback)(()=>{i(e=>{let t=e.collection.find(e=>e.id===B.id),i=[...e.collection];return i=t?i.map(e=>e.id===B.id?{...e,count:e.count+1}:e):[...i,{...B,level:1,exp:0,count:1}],{...e,coins:e.coins+q,collection:i}})},[]),N=(0,l.useCallback)(e=>{let a=t.collection.find(t=>t.id===e);if(!a)return null;let s=D.find(t=>t.id===e);if(!s?.evolvesTo||a.count<10)return null;let r=D.find(e=>e.id===s.evolvesTo);if(!r)return null;let n=null;return i(t=>{let i,s=t.collection.find(e=>e.id===r.id),o=a.evolutionBonus||0,l=a.skillBonus||0,d=Math.min(3,o+1),c=Math.min(3,l+1);if(s)i=t.collection.map(t=>{if(t.id===e)return{...t,count:t.count-10};if(t.id===r.id){let e={...t,count:t.count+1,evolutionBonus:Math.max(t.evolutionBonus||0,d),skillBonus:Math.max(t.skillBonus||0,c)};return n=e,e}return t});else{let a={...r,level:1,exp:0,count:1,evolutionBonus:d,skillBonus:c};n=a,i=[...t.collection.map(t=>t.id===e?{...t,count:t.count-10}:t),a]}return{...t,collection:i}}),n},[t.collection]);return(0,o.jsx)(G.Provider,{value:{...t,pullSingle:a,pullTen:s,addCoins:r,trainHairRoot:n,selectHairRoot:d,getCollectedById:c,evolveHairRoot:N,canEvolve:m,getBattleRank:u,getRoyaleRank:h,getTeamRoyaleRank:x,updateBattleRank:p,updateRoyaleRank:f,updateTeamRoyaleRank:g,updateProfile:y,setBgmEnabled:b,setBgmVolume:v,setBrightness:j,defeatBossRaid:w},children:e})}function Q(){let e=(0,l.useContext)(G);if(!e)throw Error("useGame must be used within a GameProvider");return e}let J={splash:"/game-hair/bgm/splash.mp3",home:"/game-hair/bgm/home.mp3",gacha:"/game-hair/bgm/gacha.mp3",collection:"/game-hair/bgm/collection.mp3",ranking:"/game-hair/bgm/ranking.mp3",training:"/game-hair/bgm/training.mp3",matchmaking:"/game-hair/bgm/matchmaking.mp3",battle:"/game-hair/bgm/battle.mp3","battle-royale":"/game-hair/bgm/battle.mp3","team-royale":"/game-hair/bgm/team-royale.mp3","boss-raid":"/game-hair/bgm/battle.mp3",tutorial:"/game-hair/bgm/home.mp3",profile:"/game-hair/bgm/home.mp3"},ee=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],et=new Set(ee),ei=(e,t,i)=>i>t?t:i<e?e:i,ea={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},es={...ea,transform:e=>ei(0,1,e)},er={...ea,default:1},en=e=>Math.round(1e5*e)/1e5,eo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,el=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ed=(e,t)=>i=>!!("string"==typeof i&&el.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),ec=(e,t,i)=>a=>{if("string"!=typeof a)return a;let[s,r,n,o]=a.match(eo);return{[e]:parseFloat(s),[t]:parseFloat(r),[i]:parseFloat(n),alpha:void 0!==o?parseFloat(o):1}},em={...ea,transform:e=>Math.round(ei(0,255,e))},eu={test:ed("rgb","red"),parse:ec("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:a=1})=>"rgba("+em.transform(e)+", "+em.transform(t)+", "+em.transform(i)+", "+en(es.transform(a))+")"},eh={test:ed("#"),parse:function(e){let t="",i="",a="",s="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,i+=i,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}},transform:eu.transform},ep=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ef=ep("deg"),ex=ep("%"),eg=ep("px"),ey=ep("vh"),eb=ep("vw"),ev={...ex,parse:e=>ex.parse(e)/100,transform:e=>ex.transform(100*e)},ej={test:ed("hsl","hue"),parse:ec("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+ex.transform(en(t))+", "+ex.transform(en(i))+", "+en(es.transform(a))+")"},ew={test:e=>eu.test(e)||eh.test(e)||ej.test(e),parse:e=>eu.test(e)?eu.parse(e):ej.test(e)?ej.parse(e):eh.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eu.transform(e):ej.transform(e),getAnimatableNone:e=>{let t=ew.parse(e);return t.alpha=0,ew.transform(t)}},eN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,ek="number",eE="color",eM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eC(e){let t=e.toString(),i=[],a={color:[],number:[],var:[]},s=[],r=0,n=t.replace(eM,e=>(ew.test(e)?(a.color.push(r),s.push(eE),i.push(ew.parse(e))):e.startsWith("var(")?(a.var.push(r),s.push("var"),i.push(e)):(a.number.push(r),s.push(ek),i.push(parseFloat(e))),++r,"${}")).split("${}");return{values:i,split:n,indexes:a,types:s}}function eS(e){return eC(e).values}function eT(e){let{split:t,types:i}=eC(e),a=t.length;return e=>{let s="";for(let r=0;r<a;r++)if(s+=t[r],void 0!==e[r]){let t=i[r];t===ek?s+=en(e[r]):t===eE?s+=ew.transform(e[r]):s+=e[r]}return s}}let e$=e=>"number"==typeof e?0:ew.test(e)?ew.getAnimatableNone(e):e,eP={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(eo)?.length||0)+(e.match(eN)?.length||0)>0},parse:eS,createTransformer:eT,getAnimatableNone:function(e){let t=eS(e);return eT(e)(t.map(e$))}},eR=new Set(["brightness","contrast","saturate","opacity"]);function eA(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[a]=i.match(eo)||[];if(!a)return e;let s=i.replace(a,""),r=+!!eR.has(t);return a!==i&&(r*=100),t+"("+r+s+")"}let eD=/\b([a-z-]*)\(.*?\)/gu,eV={...eP,getAnimatableNone:e=>{let t=e.match(eD);return t?t.map(eA).join(" "):e}},eF={...ea,transform:Math.round},eL={borderWidth:eg,borderTopWidth:eg,borderRightWidth:eg,borderBottomWidth:eg,borderLeftWidth:eg,borderRadius:eg,borderTopLeftRadius:eg,borderTopRightRadius:eg,borderBottomRightRadius:eg,borderBottomLeftRadius:eg,width:eg,maxWidth:eg,height:eg,maxHeight:eg,top:eg,right:eg,bottom:eg,left:eg,inset:eg,insetBlock:eg,insetBlockStart:eg,insetBlockEnd:eg,insetInline:eg,insetInlineStart:eg,insetInlineEnd:eg,padding:eg,paddingTop:eg,paddingRight:eg,paddingBottom:eg,paddingLeft:eg,paddingBlock:eg,paddingBlockStart:eg,paddingBlockEnd:eg,paddingInline:eg,paddingInlineStart:eg,paddingInlineEnd:eg,margin:eg,marginTop:eg,marginRight:eg,marginBottom:eg,marginLeft:eg,marginBlock:eg,marginBlockStart:eg,marginBlockEnd:eg,marginInline:eg,marginInlineStart:eg,marginInlineEnd:eg,fontSize:eg,backgroundPositionX:eg,backgroundPositionY:eg,rotate:ef,rotateX:ef,rotateY:ef,rotateZ:ef,scale:er,scaleX:er,scaleY:er,scaleZ:er,skew:ef,skewX:ef,skewY:ef,distance:eg,translateX:eg,translateY:eg,translateZ:eg,x:eg,y:eg,z:eg,perspective:eg,transformPerspective:eg,opacity:es,originX:ev,originY:ev,originZ:eg,zIndex:eF,fillOpacity:es,strokeOpacity:es,numOctaves:eF},eB={...eL,color:ew,backgroundColor:ew,outlineColor:ew,fill:ew,stroke:ew,borderColor:ew,borderTopColor:ew,borderRightColor:ew,borderBottomColor:ew,borderLeftColor:ew,filter:eV,WebkitFilter:eV},eH=e=>eB[e],eI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ez=()=>({x:eI(),y:eI()}),eO=()=>({min:0,max:0}),eU=()=>({x:eO(),y:eO()}),eW=e=>!!(e&&e.getVelocity),e_=new Set(["width","height","top","left","right","bottom",...ee]),eY=e=>t=>t.test(e),eX=[ea,eg,ex,ef,eb,ey,{test:e=>"auto"===e,parse:e=>e}],eq=e=>eX.find(eY(e)),eK=()=>{},eG=()=>{};d.default;let eZ=e=>t=>"string"==typeof t&&t.startsWith(e),eQ=eZ("--"),eJ=eZ("var(--"),e0=e=>!!eJ(e)&&e1.test(e.split("/*")[0].trim()),e1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function e2(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}let e5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,e4=e=>180*e/Math.PI,e3=e=>e8(e4(Math.atan2(e[1],e[0]))),e6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:e3,rotateZ:e3,skewX:e=>e4(Math.atan(e[1])),skewY:e=>e4(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},e8=e=>((e%=360)<0&&(e+=360),e),e9=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),e7=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),te={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:e9,scaleY:e7,scale:e=>(e9(e)+e7(e))/2,rotateX:e=>e8(e4(Math.atan2(e[6],e[5]))),rotateY:e=>e8(e4(Math.atan2(-e[2],e[0]))),rotateZ:e3,rotate:e3,skewX:e=>e4(Math.atan(e[4])),skewY:e=>e4(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tt(e){return+!!e.includes("scale")}function ti(e,t){let i,a;if(!e||"none"===e)return tt(t);let s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(s)i=te,a=s;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=e6,a=t}if(!a)return tt(t);let r=i[t],n=a[1].split(",").map(ta);return"function"==typeof r?r(n):n[r]}function ta(e){return parseFloat(e.trim())}let ts=e=>e===ea||e===eg,tr=new Set(["x","y","z"]),tn=ee.filter(e=>!tr.has(e)),to={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ti(t,"x"),y:(e,{transform:t})=>ti(t,"y")};to.translateX=to.x,to.translateY=to.y;let tl=e=>e,td={},tc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tm(e,t){let i=!1,a=!0,s={delta:0,timestamp:0,isProcessing:!1},r=()=>i=!0,n=tc.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,a=new Set,s=!1,r=!1,n=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function d(t){n.has(t)&&(c.schedule(t),e()),l++,t(o)}let c={schedule:(e,t=!1,r=!1)=>{let o=r&&s?i:a;return t&&n.add(e),o.has(e)||o.add(e),e},cancel:e=>{a.delete(e),n.delete(e)},process:e=>{if(o=e,s){r=!0;return}s=!0,[i,a]=[a,i],i.forEach(d),t,l=0,i.clear(),s=!1,r&&(r=!1,c.process(e))}};return c}(r,t?i:void 0),e),{}),{setup:o,read:l,resolveKeyframes:d,preUpdate:c,update:m,preRender:u,render:h,postRender:p}=n,f=()=>{let r=td.useManualTiming?s.timestamp:performance.now();i=!1,td.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(r-s.timestamp,40),1)),s.timestamp=r,s.isProcessing=!0,o.process(s),l.process(s),d.process(s),c.process(s),m.process(s),u.process(s),h.process(s),p.process(s),s.isProcessing=!1,i&&t&&(a=!1,e(f))};return{schedule:tc.reduce((t,r)=>{let o=n[r];return t[r]=(t,r=!1,n=!1)=>(!i&&(i=!0,a=!0,s.isProcessing||e(f)),o.schedule(t,r,n)),t},{}),cancel:e=>{for(let t=0;t<tc.length;t++)n[tc[t]].cancel(e)},state:s,steps:n}}let{schedule:tu,cancel:th,state:tp,steps:tf}=tm("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:tl,!0),tx=new Set,tg=!1,ty=!1,tb=!1;function tv(){if(ty){let e=Array.from(tx).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t,a=(t=[],tn.forEach(i=>{let a=e.getValue(i);void 0!==a&&(t.push([i,a.get()]),a.set(+!!i.startsWith("scale")))}),t);a.length&&(i.set(e,a),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{e.getValue(t)?.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ty=!1,tg=!1,tx.forEach(e=>e.complete(tb)),tx.clear()}function tj(){tx.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ty=!0)})}class tw{constructor(e,t,i,a,s,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=s,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(tx.add(this),tg||(tg=!0,tu.read(tj),tu.resolveKeyframes(tv))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(null===e[0]){let s=a?.get(),r=e[e.length-1];if(void 0!==s)e[0]=s;else if(i&&t){let a=i.readValue(t,r);null!=a&&(e[0]=a)}void 0===e[0]&&(e[0]=r),a&&void 0===s&&a.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tx.delete(this)}cancel(){"scheduled"===this.state&&(tx.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function tN(e,t){let i=eH(e);return i!==eV&&(i=eP),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let tk=new Set(["auto","none","0"]);class tE extends tw{constructor(e,t,i,a,s){super(e,t,i,a,s,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let a=e[i];if("string"==typeof a&&e0(a=a.trim())){let s=function e(t,i,a=1){eG(a<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[s,r]=function(e){let t=e5.exec(e);if(!t)return[,];let[,i,a,s]=t;return[`--${i??a}`,s]}(t);if(!s)return;let n=window.getComputedStyle(i).getPropertyValue(s);if(n){let e=n.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return e0(r)?e(r,i,a+1):r}(a,t.current);void 0!==s&&(e[i]=s),i===e.length-1&&(this.finalKeyframe=a)}}if(this.resolveNoneKeyframes(),!e_.has(i)||2!==e.length)return;let[a,s]=e,r=eq(a),n=eq(s);if(e2(a)!==e2(s)&&to[i]){this.needsMeasurement=!0;return}if(r!==n)if(ts(r)&&ts(n))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else to[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&i.push(t);i.length&&function(e,t,i){let a,s=0;for(;s<e.length&&!a;){let t=e[s];"string"==typeof t&&!tk.has(t)&&eC(t).values.length&&(a=e[s]),s++}if(a&&i)for(let s of t)e[s]=tN(i,a)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let a=t[t.length-1];void 0!==a&&e.getValue(i,a).jump(a,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;let a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);let s=i.length-1,r=i[s];i[s]=to[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==r&&void 0===this.finalKeyframe&&(this.finalKeyframe=r),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}function tM(e,t){-1===e.indexOf(t)&&e.push(t)}function tC(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}class tS{constructor(){this.subscriptions=[]}add(e){return tM(this.subscriptions,e),()=>tC(this.subscriptions,e)}notify(e,t,i){let a=this.subscriptions.length;if(a)if(1===a)this.subscriptions[0](e,t,i);else for(let s=0;s<a;s++){let a=this.subscriptions[s];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let{schedule:tT}=tm(queueMicrotask,!1);function t$(){t=void 0}let tP={now:()=>(void 0===t&&tP.set(tp.isProcessing||td.useManualTiming?tp.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(t$)}};class tR{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=tP.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=tP.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tS);let i=this.events[e].add(t);return"change"===e?()=>{i(),tu.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return r&&r.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=tP.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tA(e,t){return new tR(e,t)}let tD=[...eX,ew,eP],tV={current:null},tF={current:!1},tL="undefined"!=typeof window,tB=new WeakMap;function tH(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tI(e){return"string"==typeof e||Array.isArray(e)}let tz=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tO=["initial",...tz];function tU(e){return tH(e.animate)||tO.some(t=>tI(e[t]))}function tW(e){return!!(tU(e)||e.variants)}function t_(e){let t=[{},{}];return e?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function tY(e,t,i,a){if("function"==typeof t){let[s,r]=t_(a);t=t(void 0!==i?i:e.custom,s,r)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[s,r]=t_(a);t=t(void 0!==i?i:e.custom,s,r)}return t}let tX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],tq={};class tK{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,skipAnimations:s,blockInitialAnimation:r,visualState:n},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=tw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=tP.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,tu.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=n;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=tU(t),this.isVariantNode=tW(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in m){const t=m[e];void 0!==l[e]&&eW(t)&&t.set(l[e])}}mount(e){this.current=e,tB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(tF.current||function(){if(tF.current=!0,tL)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tV.current=e.matches;e.addEventListener("change",t),t()}else tV.current=!1}(),this.shouldReduceMotion=tV.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),th(this.notifyUpdate),th(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let a=et.has(e);a&&this.onBindTransform&&this.onBindTransform();let s=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&tu.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"undefined"!=typeof window&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tq){let t=tq[e];if(!t)continue;let{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):eU()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tX.length;t++){let i=tX[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=function(e,t,i){for(let a in t){let s=t[a],r=i[a];if(eW(s))e.addValue(a,s);else if(eW(r))e.addValue(a,tA(s,{owner:e}));else if(r!==s)if(e.hasValue(a)){let t=e.getValue(a);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{let t=e.getStaticValue(a);e.addValue(a,tA(void 0!==t?t:s,{owner:e}))}}for(let a in i)void 0===t[a]&&e.removeValue(a);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=tA(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=i){let a,s;if("string"==typeof i&&(a=i,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a)||(s=i,/^0[^.\s]+$/u.test(s))))i=parseFloat(i);else{let a;a=i,!tD.find(eY(a))&&eP.test(t)&&(i=tN(e,t))}this.setBaseTarget(e,eW(i)?i.get():i)}return eW(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let a=tY(this.props,i,this.presenceContext?.custom);a&&(t=a[e])}if(i&&void 0!==t)return t;let a=this.getBaseTargetFromProps(this.props,e);return void 0===a||eW(a)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new tS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){tT.render(this.render)}}class tG extends tK{constructor(){super(...arguments),this.KeyframeResolver=tE}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){let i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eW(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function tZ(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}let tQ=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t0=ee.length;function t1(e,t,i){let{style:a,vars:s,transformOrigin:r}=e,n=!1,o=!1;for(let e in t){let i=t[e];if(et.has(e)){n=!0;continue}if(eQ(e)){s[e]=i;continue}{let t=tQ(i,eL[e]);e.startsWith("origin")?(o=!0,r[e]=t):a[e]=t}}if(!t.transform&&(n||i?a.transform=function(e,t,i){let a="",s=!0;for(let r=0;r<t0;r++){let n=ee[r],o=e[n];if(void 0===o)continue;let l=!0;if("number"==typeof o)l=o===+!!n.startsWith("scale");else{let e=parseFloat(o);l=n.startsWith("scale")?1===e:0===e}if(!l||i){let e=tQ(o,eL[n]);if(!l){s=!1;let t=tJ[n]||n;a+=`${t}(${e}) `}i&&(t[n]=e)}}return a=a.trim(),i?a=i(t,s?"":a):s&&(a="none"),a}(t,e.transform,i):a.transform&&(a.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:i=0}=r;a.transformOrigin=`${e} ${t} ${i}`}}let t2={offset:"stroke-dashoffset",array:"stroke-dasharray"},t5={offset:"strokeDashoffset",array:"strokeDasharray"},t4=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function t3(e,{attrX:t,attrY:i,attrScale:a,pathLength:s,pathSpacing:r=1,pathOffset:n=0,...o},l,d,c){if(t1(e,o,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:m,style:u}=e;for(let e of(m.transform&&(u.transform=m.transform,delete m.transform),(u.transform||m.transformOrigin)&&(u.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),u.transform&&(u.transformBox=c?.transformBox??"fill-box",delete m.transformBox),t4))void 0!==m[e]&&(u[e]=m[e],delete m[e]);void 0!==t&&(m.x=t),void 0!==i&&(m.y=i),void 0!==a&&(m.scale=a),void 0!==s&&function(e,t,i=1,a=0,s=!0){e.pathLength=1;let r=s?t2:t5;e[r.offset]=`${-a}`,e[r.array]=`${t} ${i}`}(m,s,r,n,!1)}let t6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),t8=e=>"string"==typeof e&&"svg"===e.toLowerCase();function t9(e,{style:t,vars:i},a,s){let r,n=e.style;for(r in t)n[r]=t[r];for(r in s?.applyProjectionStyles(n,a),i)n.setProperty(r,i[r])}function t7(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let ie={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!eg.test(e))return e;else e=parseFloat(e);let i=t7(e,t.target.x),a=t7(e,t.target.y);return`${i}% ${a}%`}},it=(e,t,i)=>e+(t-e)*i,ii={borderRadius:{...ie,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomLeftRadius:ie,borderBottomRightRadius:ie,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let a=eP.parse(e);if(a.length>5)return e;let s=eP.createTransformer(e),r=+("number"!=typeof a[0]),n=i.x.scale*t.x,o=i.y.scale*t.y;a[0+r]/=n,a[1+r]/=o;let l=it(n,o,.5);return"number"==typeof a[2+r]&&(a[2+r]/=l),"number"==typeof a[3+r]&&(a[3+r]/=l),s(a)}}};function ia(e,{layout:t,layoutId:i}){return et.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!ii[e]||"opacity"===e)}function is(e,t,i){let a=e.style,s=t?.style,r={};if(!a)return r;for(let t in a)(eW(a[t])||s&&eW(s[t])||ia(t,e)||i?.getValue(t)?.liveStyle!==void 0)&&(r[t]=a[t]);return r}function ir(e,t,i){let a=is(e,t,i);for(let i in e)(eW(e[i])||eW(t[i]))&&(a[-1!==ee.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return a}class io extends tG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=eU}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(et.has(t)){let e=eH(t);return e&&e.default||0}return t=t6.has(t)?t:tZ(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return ir(e,t,i)}build(e,t,i){t3(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){for(let i in t9(e,t,void 0,a),t.attrs)e.setAttribute(t6.has(i)?i:tZ(i),t.attrs[i])}mount(e){this.isSVGTag=t8(e.tagName),super.mount(e)}}function il({top:e,left:t,right:i,bottom:a}){return{x:{min:t,max:i},y:{min:e,max:a}}}function id(e){return void 0===e||1===e}function ic({scale:e,scaleX:t,scaleY:i}){return!id(e)||!id(t)||!id(i)}function im(e){return ic(e)||iu(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iu(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function ih(e,t,i,a,s){return void 0!==s&&(e=a+s*(e-a)),a+i*(e-a)+t}function ip(e,t=0,i=1,a,s){e.min=ih(e.min,t,i,a,s),e.max=ih(e.max,t,i,a,s)}function ix(e,{x:t,y:i}){ip(e.x,t.translate,t.scale,t.originPoint),ip(e.y,i.translate,i.scale,i.originPoint)}function ig(e,t){e.min=e.min+t,e.max=e.max+t}function iy(e,t,i,a,s=.5){let r=it(e.min,e.max,s);ip(e,t,i,r,a)}function ib(e,t){iy(e.x,t.x,t.scaleX,t.scale,t.originX),iy(e.y,t.y,t.scaleY,t.scale,t.originY)}function iv(e,t){return il(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}(e.getBoundingClientRect(),t))}class ij extends tG{constructor(){super(...arguments),this.type="html",this.renderInstance=t9}readValueFromInstance(e,t){if(et.has(t))return this.projection?.isProjecting?tt(t):((e,t)=>{let{transform:i="none"}=getComputedStyle(e);return ti(i,t)})(e,t);{let i=window.getComputedStyle(e),a=(eQ(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof a?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iv(e,t)}build(e,t,i){t1(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return is(e,t,i)}}let iw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iN(e){if("string"!=typeof e||e.includes("-"));else if(iw.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let ik=(0,l.createContext)({strict:!1}),iE=(0,l.createContext)({});function iM(e){return Array.isArray(e)?e.join(" "):e}let iC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iS(e,t,i){for(let a in t)eW(t[a])||ia(a,i)||(e[a]=t[a])}let iT=()=>({...iC(),attrs:{}}),i$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iP(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||i$.has(e)}let iR=e=>!iP(e);try{n=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof n&&(iR=e=>e.startsWith("on")?!iP(e):n(e))}catch{}function iA(e){return eW(e)?e.get():e}let iD=e=>(t,i)=>{let a=(0,l.useContext)(iE),s=(0,l.useContext)(p),r=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},i,a,s){return{latestValues:function(e,t,i,a){let s={},r=a(e,{});for(let e in r)s[e]=iA(r[e]);let{initial:n,animate:o}=e,l=tU(e),d=tW(e);t&&d&&!l&&!1!==e.inherit&&(void 0===n&&(n=t.initial),void 0===o&&(o=t.animate));let c=!!i&&!1===i.initial,m=(c=c||!1===n)?o:n;if(m&&"boolean"!=typeof m&&!tH(m)){let t=Array.isArray(m)?m:[m];for(let i=0;i<t.length;i++){let a=tY(e,t[i]);if(a){let{transitionEnd:e,transition:t,...i}=a;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(s[e]=t)}for(let t in e)s[t]=e[t]}}}return s}(i,a,s,e),renderState:t()}})(e,t,a,s);return i?r():m(r)},iV=iD({scrapeMotionValuesFromProps:is,createRenderState:iC}),iF=iD({scrapeMotionValuesFromProps:ir,createRenderState:iT}),iL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iB=!1;function iH(){return!function(){if(iB)return;let e={};for(let t in iL)e[t]={isEnabled:e=>iL[t].some(t=>!!e[t])};tq=e,iB=!0}(),tq}let iI=Symbol.for("motionComponentSymbol"),iz="data-"+tZ("framerAppearId"),iO=(0,l.createContext)({});function iU(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function iW(e,{forwardMotionProps:t=!1,type:i}={},a,s){a&&function(e){let t=iH();for(let i in e)t[i]={...t[i],...e[i]};tq=t}(a);let r=i?"svg"===i:iN(e),n=r?iF:iV;function d(i,a){var d;let m,f,x,g={...(0,l.useContext)(y),...i,layoutId:function({layoutId:e}){let t=(0,l.useContext)(c).id;return t&&void 0!==e?t+"-"+e:e}(i)},{isStatic:b}=g,v=function(e){let{initial:t,animate:i}=function(e,t){if(tU(e)){let{initial:t,animate:i}=e;return{initial:!1===t||tI(t)?t:void 0,animate:tI(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,l.useContext)(iE));return(0,l.useMemo)(()=>({initial:t,animate:i}),[iM(t),iM(i)])}(i),j=n(i,b);if(!b&&u){(0,l.useContext)(ik).strict;let t=function(e){let{drag:t,layout:i}=iH();if(!t&&!i)return{};let a={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}(g);m=t.MeasureLayout,v.visualElement=function(e,t,i,a,s,r){let{visualElement:n}=(0,l.useContext)(iE),o=(0,l.useContext)(ik),d=(0,l.useContext)(p),c=(0,l.useContext)(y),m=c.reducedMotion,u=c.skipAnimations,f=(0,l.useRef)(null),x=(0,l.useRef)(!1);a=a||o.renderer,!f.current&&a&&(f.current=a(e,{visualState:t,parent:n,props:i,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:m,skipAnimations:u,isSVG:r}),x.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));let g=f.current,b=(0,l.useContext)(iO);g&&!g.projection&&s&&("html"===g.type||"svg"===g.type)&&function(e,t,i,a){let{layoutId:s,layout:r,drag:n,dragConstraints:o,layoutScroll:l,layoutRoot:d,layoutCrossfade:c}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!n||o&&iU(o),visualElement:e,animationType:"string"==typeof r?r:"both",initialPromotionConfig:a,crossfade:c,layoutScroll:l,layoutRoot:d})}(f.current,i,s,b);let v=(0,l.useRef)(!1);(0,l.useInsertionEffect)(()=>{g&&v.current&&g.update(i,d)});let j=i[iz],w=(0,l.useRef)(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return h(()=>{x.current=!0,g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),(0,l.useEffect)(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),w.current=!1),g.enteringChildren=void 0)}),g}(e,j,g,s,t.ProjectionNode,r)}return(0,o.jsxs)(iE.Provider,{value:v,children:[m&&v.visualElement?(0,o.jsx)(m,{visualElement:v.visualElement,...g}):null,function(e,t,i,{latestValues:a},s,r=!1,n){let o=(n??iN(e)?function(e,t,i,a){let s=(0,l.useMemo)(()=>{let i=iT();return t3(i,t,t8(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};iS(t,e.style,e),s.style={...t,...s.style}}return s}:function(e,t){let i,a,s={},r=(i=e.style||{},iS(a={},i,e),Object.assign(a,function({transformTemplate:e},t){return(0,l.useMemo)(()=>{let i=iC();return t1(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),a);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s})(t,a,s,e),d=function(e,t,i){let a={};for(let s in e)("values"!==s||"object"!=typeof e.values)&&(iR(s)||!0===i&&iP(s)||!t&&!iP(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}(t,"string"==typeof e,r),c=e!==l.Fragment?{...d,...o,ref:i}:{},{children:m}=t,u=(0,l.useMemo)(()=>eW(m)?m.get():m,[m]);return(0,l.createElement)(e,{...c,children:u})}(e,i,(d=v.visualElement,f=(0,l.useRef)(a),(0,l.useInsertionEffect)(()=>{f.current=a}),x=(0,l.useRef)(null),(0,l.useCallback)(e=>{e&&j.onMount?.(e),d&&(e?d.mount(e):d.unmount());let t=f.current;if("function"==typeof t)if(e){let i=t(e);"function"==typeof i&&(x.current=i)}else x.current?(x.current(),x.current=null):t(e);else t&&(t.current=e)},[d])),j,b,t,r)]})}d.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let m=(0,l.forwardRef)(d);return m[iI]=e,m}class i_{constructor(e){this.isMounted=!1,this.node=e}update(){}}function iY(e,t,i){let a=e.getProps();return tY(a,t,void 0!==i?i:a.custom,e)}function iX(e,t){return e?.[t]??e?.default??e}let iq=e=>Array.isArray(e);function iK(e,t){let i=e.getValue("willChange");if(eW(i)&&i.add)return i.add(t);if(!i&&td.WillChange){let i=new td.WillChange("auto");e.addValue("willChange",i),i.add(t)}}let iG=e=>1e3*e,iZ=(e,t)=>i=>t(e(i)),iQ=(...e)=>e.reduce(iZ),iJ={layout:0,mainThread:0,waapi:0};function i0(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function i1(e,t){return i=>i>0?t:e}let i2=(e,t,i)=>{let a=e*e,s=i*(t*t-a)+a;return s<0?0:Math.sqrt(s)},i5=[eh,eu,ej];function i4(e){let t=i5.find(t=>t.test(e));if(eK(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let i=t.parse(e);return t===ej&&(i=function({hue:e,saturation:t,lightness:i,alpha:a}){e/=360,i/=100;let s=0,r=0,n=0;if(t/=100){let a=i<.5?i*(1+t):i+t-i*t,o=2*i-a;s=i0(o,a,e+1/3),r=i0(o,a,e),n=i0(o,a,e-1/3)}else s=r=n=i;return{red:Math.round(255*s),green:Math.round(255*r),blue:Math.round(255*n),alpha:a}}(i)),i}let i3=(e,t)=>{let i=i4(e),a=i4(t);if(!i||!a)return i1(e,t);let s={...i};return e=>(s.red=i2(i.red,a.red,e),s.green=i2(i.green,a.green,e),s.blue=i2(i.blue,a.blue,e),s.alpha=it(i.alpha,a.alpha,e),eu.transform(s))},i6=new Set(["none","hidden"]);function i8(e,t){return i=>it(e,t,i)}function i9(e){return"number"==typeof e?i8:"string"==typeof e?e0(e)?i1:ew.test(e)?i3:at:Array.isArray(e)?i7:"object"==typeof e?ew.test(e)?i3:ae:i1}function i7(e,t){let i=[...e],a=i.length,s=e.map((e,i)=>i9(e)(e,t[i]));return e=>{for(let t=0;t<a;t++)i[t]=s[t](e);return i}}function ae(e,t){let i={...e,...t},a={};for(let s in i)void 0!==e[s]&&void 0!==t[s]&&(a[s]=i9(e[s])(e[s],t[s]));return e=>{for(let t in a)i[t]=a[t](e);return i}}let at=(e,t)=>{let i=eP.createTransformer(t),a=eC(e),s=eC(t);if(!(a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length))return eK(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),i1(e,t);if(i6.has(e)&&!s.values.length||i6.has(t)&&!a.values.length)return i6.has(e)?i=>i<=0?e:t:i=>i>=1?t:e;return iQ(i7(function(e,t){let i=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let r=t.types[s],n=e.indexes[r][a[r]],o=e.values[n]??0;i[s]=o,a[r]++}return i}(a,s),s.values),i)};function ai(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?it(e,t,i):i9(e)(e,t)}let aa=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>tu.update(t,e),stop:()=>th(t),now:()=>tp.isProcessing?tp.timestamp:tP.now()}},as=(e,t,i=10)=>{let a="",s=Math.max(Math.round(t/i),2);for(let t=0;t<s;t++)a+=Math.round(1e4*e(t/(s-1)))/1e4+", ";return`linear(${a.substring(0,a.length-2)})`};function ar(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}function an(e,t,i){var a,s;let r=Math.max(t-5,0);return a=i-e(r),(s=t-r)?1e3/s*a:0}let ao=.01,al=2,ad=.005,ac=.5;function am(e,t){return e*Math.sqrt(1-t*t)}let au=["duration","bounce"],ah=["stiffness","damping","mass"];function ap(e,t){return t.some(t=>void 0!==e[t])}function af(e=.3,t=.3){let i,a="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:s,restDelta:r}=a,n=a.keyframes[0],o=a.keyframes[a.keyframes.length-1],l={done:!1,value:n},{stiffness:d,damping:c,mass:m,duration:u,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ap(e,ah)&&ap(e,au))if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),a=i*i,s=2*ei(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:1,stiffness:a,damping:s}}else{let i=function({duration:e=800,bounce:t=.3,velocity:i=0,mass:a=1}){let s,r;eK(e<=iG(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let n=1-t;n=ei(.05,1,n),e=ei(.01,10,e/1e3),n<1?(s=t=>{let a=t*n,s=a*e;return .001-(a-i)/am(t,n)*Math.exp(-s)},r=t=>{let a=t*n*e,r=Math.pow(n,2)*Math.pow(t,2)*e,o=Math.exp(-a),l=am(Math.pow(t,2),n);return(a*i+i-r)*o*(-s(t)+.001>0?-1:1)/l}):(s=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),r=t=>e*e*(i-t)*Math.exp(-t*e));let o=function(e,t,i){let a=i;for(let i=1;i<12;i++)a-=e(a)/t(a);return a}(s,r,5/e);if(e=iG(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*a;return{stiffness:t,damping:2*n*Math.sqrt(a*t),duration:e}}}(e);(t={...t,...i,mass:1}).isResolvedFromDuration=!0}return t}({...a,velocity:-((a.velocity||0)/1e3)}),f=h||0,x=c/(2*Math.sqrt(d*m)),g=o-n,y=Math.sqrt(d/m)/1e3,b=5>Math.abs(g);if(s||(s=b?ao:al),r||(r=b?ad:ac),x<1){let e=am(y,x);i=t=>o-Math.exp(-x*y*t)*((f+x*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(1===x)i=e=>o-Math.exp(-y*e)*(g+(f+y*g)*e);else{let e=y*Math.sqrt(x*x-1);i=t=>{let i=Math.exp(-x*y*t),a=Math.min(e*t,300);return o-i*((f+x*y*g)*Math.sinh(a)+e*g*Math.cosh(a))/e}}let v={calculatedDuration:p&&u||null,next:e=>{let t=i(e);if(p)l.done=e>=u;else{let a=0===e?f:0;x<1&&(a=0===e?iG(f):an(i,e,t));let n=Math.abs(o-t)<=r;l.done=Math.abs(a)<=s&&n}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(ar(v),2e4),t=as(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function ax({keyframes:e,velocity:t=0,power:i=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:n,min:o,max:l,restDelta:d=.5,restSpeed:c}){let m,u,h=e[0],p={done:!1,value:h},f=i*t,x=h+f,g=void 0===n?x:n(x);g!==x&&(f=g-h);let y=e=>-f*Math.exp(-e/a),b=e=>g+y(e),v=e=>{let t=y(e),i=b(e);p.done=Math.abs(t)<=d,p.value=p.done?g:i},j=e=>{let t;if(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l){var i;m=e,u=af({keyframes:[p.value,(i=p.value,void 0===o?l:void 0===l||Math.abs(o-i)<Math.abs(l-i)?o:l)],velocity:an(b,e,p.value),damping:s,stiffness:r,restDelta:d,restSpeed:c})}};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return(u||void 0!==m||(t=!0,v(e),j(e)),void 0!==m&&e>=m)?u.next(e-m):(t||v(e),p)}}}af.applyToOptions=e=>{let t=function(e,t=100,i){let a=i({...e,keyframes:[0,t]}),s=Math.min(ar(a),2e4);return{type:"keyframes",ease:e=>a.next(s*e).value/t,duration:s/1e3}}(e,100,af);return e.ease=t.ease,e.duration=iG(t.duration),e.type="keyframes",e};let ag=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function ay(e,t,i,a){return e===t&&i===a?tl:s=>0===s||1===s?s:ag(function(e,t,i,a,s){let r,n,o=0;do(r=ag(n=t+(i-t)/2,a,s)-e)>0?i=n:t=n;while(Math.abs(r)>1e-7&&++o<12)return n}(s,0,1,e,i),t,a)}let ab=ay(.42,0,1,1),av=ay(0,0,.58,1),aj=ay(.42,0,.58,1),aw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,aN=e=>t=>1-e(1-t),ak=ay(.33,1.53,.69,.99),aE=aN(ak),aM=aw(aE),aC=e=>(e*=2)<1?.5*aE(e):.5*(2-Math.pow(2,-10*(e-1))),aS=e=>1-Math.sin(Math.acos(e)),aT=aN(aS),a$=aw(aS),aP=e=>Array.isArray(e)&&"number"==typeof e[0],aR={linear:tl,easeIn:ab,easeInOut:aj,easeOut:av,circIn:aS,circInOut:a$,circOut:aT,backIn:aE,backInOut:aM,backOut:ak,anticipate:aC},aA=e=>{if(aP(e)){eG(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,i,a,s]=e;return ay(t,i,a,s)}return"string"==typeof e?(eG(void 0!==aR[e],`Invalid easing type '${e}'`,"invalid-easing-type"),aR[e]):e},aD=(e,t,i)=>{let a=t-e;return 0===a?1:(i-e)/a};function aV({duration:e=300,keyframes:t,times:i,ease:a="easeInOut"}){var s;let r,n=Array.isArray(a)&&"number"!=typeof a[0]?a.map(aA):aA(a),o={done:!1,value:t[0]},l=function(e,t,{clamp:i=!0,ease:a,mixer:s}={}){let r=e.length;if(eG(r===t.length,"Both input and output ranges must be the same length","range-length"),1===r)return()=>t[0];if(2===r&&t[0]===t[1])return()=>t[1];let n=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,i){let a=[],s=i||td.mix||ai,r=e.length-1;for(let i=0;i<r;i++){let r=s(e[i],e[i+1]);t&&(r=iQ(Array.isArray(t)?t[i]||tl:t,r)),a.push(r)}return a}(t,a,s),l=o.length,d=i=>{if(n&&i<e[0])return t[0];let a=0;if(l>1)for(;a<e.length-2&&!(i<e[a+1]);a++);let s=aD(e[a],e[a+1],i);return o[a](s)};return i?t=>d(ei(e[0],e[r-1],t)):d}((s=i&&i.length===t.length?i:(!function(e,t){let i=e[e.length-1];for(let a=1;a<=t;a++){let s=aD(0,t,a);e.push(it(i,1,s))}}(r=[0],t.length-1),r),s.map(t=>t*e)),t,{ease:Array.isArray(n)?n:t.map(()=>n||aj).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let aF=e=>null!==e;function aL(e,{repeat:t,repeatType:i="loop"},a,s=1){let r=e.filter(aF),n=s<0||t&&"loop"!==i&&t%2==1?0:r.length-1;return n&&void 0!==a?a:r[n]}let aB={decay:ax,inertia:ax,tween:aV,keyframes:aV,spring:af};function aH(e){"string"==typeof e.type&&(e.type=aB[e.type])}class aI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let az=e=>e/100;class aO extends aI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==tP.now()&&this.tick(tP.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},iJ.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;aH(e);let{type:t=aV,repeat:i=0,repeatDelay:a=0,repeatType:s,velocity:r=0}=e,{keyframes:n}=e,o=t||aV;o!==aV&&"number"!=typeof n[0]&&(this.mixKeyframes=iQ(az,ai(n[0],n[1])),n=[0,100]);let l=o({...e,keyframes:n});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...n].reverse(),velocity:-r})),null===l.calculatedDuration&&(l.calculatedDuration=ar(l));let{calculatedDuration:d}=l;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:i,totalDuration:a,mixKeyframes:s,mirroredGenerator:r,resolvedDuration:n,calculatedDuration:o}=this;if(null===this.startTime)return i.next(0);let{delay:l=0,keyframes:d,repeat:c,repeatType:m,repeatDelay:u,type:h,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let x=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=a);let y=this.currentTime,b=i;if(c){let e=Math.min(this.currentTime,a)/n,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,c+1))%2&&("reverse"===m?(i=1-i,u&&(i-=u/n)):"mirror"===m&&(b=r)),y=ei(0,1,i)*n}let v=g?{done:!1,value:d[0]}:b.next(y);s&&(v.value=s(v.value));let{done:j}=v;g||null===o||(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&h!==ax&&(v.value=aL(d,this.options,f,this.speed)),p&&p(v.value),w&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=iG(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tP.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=aa,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tP.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,iJ.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function aU(e){let t;return()=>(void 0===t&&(t=e()),t)}let aW=aU(()=>void 0!==window.ScrollTimeline),a_={},aY=(i=aU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>a_.linearEasing??i()),aX=([e,t,i,a])=>`cubic-bezier(${e}, ${t}, ${i}, ${a})`,aq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:aX([0,.65,.55,1]),circOut:aX([.55,0,1,.45]),backIn:aX([.31,.01,.66,-.59]),backOut:aX([.33,1.53,.69,.99])};function aK(e){return"function"==typeof e&&"applyToOptions"in e}class aG extends aI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:s,allowFlatten:r=!1,finalKeyframe:n,onComplete:o}=e;this.isPseudoElement=!!s,this.allowFlatten=r,this.options=e,eG("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return aK(e)&&aY()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,i,{delay:a=0,duration:s=300,repeat:r=0,repeatType:n="loop",ease:o="easeOut",times:l}={},d){let c={[t]:i};l&&(c.offset=l);let m=function e(t,i){if(t)return"function"==typeof t?aY()?as(t,i):"ease-out":aP(t)?aX(t):Array.isArray(t)?t.map(t=>e(t,i)||aq.easeOut):aq[t]}(o,s);Array.isArray(m)&&(c.easing=m);let u={delay:a,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:"reverse"===n?"alternate":"normal"};d&&(u.pseudoElement=d);let h=e.animate(c,u);return h}(t,i,a,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){let e=aL(a,this.options,n,this.speed);this.updateMotionValue?this.updateMotionValue(e):i.startsWith("--")?t.style.setProperty(i,e):t.style[i]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=iG(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&aW())?(this.animation.timeline=e,tl):t(this)}}let aZ={anticipate:aC,backInOut:aM,circInOut:a$};class aQ extends aG{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in aZ&&(e.ease=aZ[e.ease])}(e),aH(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:i,onComplete:a,element:s,...r}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let n=new aO({...r,autoplay:!1}),o=Math.max(10,tP.now()-this.startTime),l=ei(0,10,o-10);t.setWithVelocity(n.sample(Math.max(0,o-l)).value,n.sample(o).value,l),n.stop()}}let aJ=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(eP.test(e)||"0"===e)&&!e.startsWith("url("));function a0(e){e.duration=0,e.type="keyframes"}let a1=new Set(["opacity","clipPath","filter","transform"]),a2=aU(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class a5 extends aI{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:r="loop",keyframes:n,name:o,motionValue:l,element:d,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tP.now();const m={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:s,repeatType:r,name:o,motionValue:l,element:d,...c},u=d?.KeyframeResolver||tw;this.keyframeResolver=new u(n,(e,t,i)=>this.onKeyframesResolved(e,t,m,!i),o,l,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;let{name:s,type:r,velocity:n,delay:o,isHandoff:l,onUpdate:d}=i;this.resolvedAt=tP.now(),!function(e,t,i,a){let s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;let r=e[e.length-1],n=aJ(s,t),o=aJ(r,t);return eK(n===o,`You are trying to animate ${t} from "${s}" to "${r}". "${n?r:s}" is not an animatable value.`,"value-not-animatable"),!!n&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||aK(i))&&a)}(e,s,r,n)&&((td.instantAnimations||!o)&&d?.(aL(e,i,t)),e[0]=e[e.length-1],a0(i),i.repeat=0);let c={startTime:a?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},m=!l&&function(e){let{motionValue:t,name:i,repeatDelay:a,repeatType:s,damping:r,type:n}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return a2()&&i&&a1.has(i)&&("transform"!==i||!l)&&!o&&!a&&"mirror"!==s&&0!==r&&"inertia"!==n}(c),u=c.motionValue?.owner?.current,h=m?new aQ({...c,element:u}):new aO(c);h.finished.then(()=>{this.notifyFinished()}).catch(tl),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tb=!0,tj(),tv(),tb=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let a4={type:"spring",stiffness:500,damping:25,restSpeed:10},a3={type:"keyframes",duration:.8},a6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a8=e=>null!==e,a9=(e,t,i,a={},s,r)=>n=>{let o=iX(a,e)||{},l=o.delay||a.delay||0,{elapsed:d=0}=a;d-=iG(l);let c={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{n(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:s};!function({when:e,delay:t,delayChildren:i,staggerChildren:a,staggerDirection:s,repeat:r,repeatType:n,repeatDelay:o,from:l,elapsed:d,...c}){return!!Object.keys(c).length}(o)&&Object.assign(c,((e,{keyframes:t})=>t.length>2?a3:et.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:a4:a6)(e,c)),c.duration&&(c.duration=iG(c.duration)),c.repeatDelay&&(c.repeatDelay=iG(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let m=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(a0(c),0===c.delay&&(m=!0)),(td.instantAnimations||td.skipAnimations||s?.shouldSkipAnimations)&&(m=!0,a0(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,m&&!r&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:i="loop"},a){let s=e.filter(a8),r=t&&"loop"!==i&&t%2==1?0:s.length-1;return s[r]}(c.keyframes,o);if(void 0!==e)return void tu.update(()=>{c.onUpdate(e),c.onComplete()})}return o.isSync?new aO(c):new a5(c)};function a7(e,t,{delay:i=0,transitionOverride:a,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:n,...o}=t,l=r?.reduceMotion;a&&(r=a);let d=[],c=s&&e.animationState&&e.animationState.getState()[s];for(let t in o){let a=e.getValue(t,e.latestValues[t]??null),s=o[t];if(void 0===s||c&&function({protectedKeys:e,needsAnimating:t},i){let a=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,a}(c,t))continue;let n={delay:i,...iX(r||{},t)},m=a.get();if(void 0!==m&&!a.isAnimating&&!Array.isArray(s)&&s===m&&!n.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){let i=e.props[iz];if(i){let e=window.MotionHandoffAnimation(i,t,tu);null!==e&&(n.startTime=e,u=!0)}}iK(e,t);let h=l??e.shouldReduceMotion;a.start(a9(t,a,s,h&&e_.has(t)?{type:!1}:n,e,u));let p=a.animation;p&&d.push(p)}return n&&Promise.all(d).then(()=>{tu.update(()=>{n&&function(e,t){let{transitionEnd:i={},transition:a={},...s}=iY(e,t)||{};for(let t in s={...s,...i}){var r;let i=iq(r=s[t])?r[r.length-1]||0:r;e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,tA(i))}}(e,n)})}),d}function se(e,t,i,a=0,s=1){let r=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),n=e.size,o=(n-1)*a;return"function"==typeof i?i(r,n):1===s?r*a:o-r*a}function st(e,t,i={}){let a=iY(e,t,"exit"===i.type?e.presenceContext?.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(s=i.transitionOverride);let r=a?()=>Promise.all(a7(e,a,i)):()=>Promise.resolve(),n=e.variantChildren&&e.variantChildren.size?(a=0)=>{let{delayChildren:r=0,staggerChildren:n,staggerDirection:o}=s;return function(e,t,i=0,a=0,s=0,r=1,n){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(st(l,t,{...n,delay:i+("function"==typeof a?0:a)+se(e.variantChildren,l,a,s,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,a,r,n,o,i)}:()=>Promise.resolve(),{when:o}=s;if(!o)return Promise.all([r(),n(i.delay)]);{let[e,t]="beforeChildren"===o?[r,n]:[n,r];return e().then(()=>t())}}let si=tO.length;function sa(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(t[a]!==e[a])return!1;return!0}let ss=[...tz].reverse(),sr=tz.length;function sn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function so(){return{animate:sn(!0),whileInView:sn(),whileHover:sn(),whileTap:sn(),whileDrag:sn(),whileFocus:sn(),exit:sn()}}let sl=0;function sd(e){return[e("x"),e("y")]}let sc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),sm=new Set(["INPUT","SELECT","TEXTAREA"]);function su(e,t,i,a={passive:!0}){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i)}let sh={x:!1,y:!1};function sp(e){return e.max-e.min}function sf(e,t,i,a=.5){e.origin=a,e.originPoint=it(t.min,t.max,e.origin),e.scale=sp(i)/sp(t),e.translate=it(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function sx(e,t,i,a){sf(e.x,t.x,i.x,a?a.originX:void 0),sf(e.y,t.y,i.y,a?a.originY:void 0)}function sg(e,t,i){e.min=i.min+t.min,e.max=e.min+sp(t)}function sy(e,t,i){e.min=t.min-i.min,e.max=e.min+sp(t)}function sb(e,t,i){sy(e.x,t.x,i.x),sy(e.y,t.y,i.y)}let sv=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function sj(e){return{point:{x:e.pageX,y:e.pageY}}}function sw(e,t,i,a){return su(e,t,e=>sv(e)&&i(e,sj(e)),a)}let sN=({current:e})=>e?e.ownerDocument.defaultView:null,sk=(e,t)=>Math.abs(e-t),sE=new Set(["auto","scroll"]);class sM{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:r=3,element:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=sT(this.lastMoveEventInfo,this.history),a=null!==this.startEvent,s=(e=i.offset,t={x:0,y:0},Math.sqrt(sk(e.x,t.x)**2+sk(e.y,t.y)**2)>=this.distanceThreshold);if(!a&&!s)return;let{point:r}=i,{timestamp:n}=tp;this.history.push({...r,timestamp:n});let{onStart:o,onMove:l}=this.handlers;a||(o&&o(this.lastMoveEvent,i),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,i)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=sC(t,this.transformPagePoint),tu.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:a,resumeAnimation:s}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&s&&s(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=sT("pointercancel"===e.type?this.lastMoveEventInfo:sC(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,r),a&&a(e,r)},!sv(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=a||window;const o=sC(sj(e),this.transformPagePoint),{point:l}=o,{timestamp:d}=tp;this.history=[{...l,timestamp:d}];const{onSessionStart:c}=t;c&&c(e,sT(o,this.history)),this.removeListeners=iQ(sw(this.contextWindow,"pointermove",this.handlePointerMove),sw(this.contextWindow,"pointerup",this.handlePointerUp),sw(this.contextWindow,"pointercancel",this.handlePointerUp)),n&&this.startScrollTracking(n)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(sE.has(e.overflowX)||sE.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:a.x-t.x,y:a.y-t.y};(0!==s.x||0!==s.y)&&(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,a),tu.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),th(this.updatePoint)}}function sC(e,t){return t?{point:t(e.point)}:e}function sS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sT({point:e},t){return{point:e,delta:sS(e,s$(t)),offset:sS(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null,s=s$(e);for(;i>=0&&(a=e[i],!(s.timestamp-a.timestamp>iG(.1)));)i--;if(!a)return{x:0,y:0};let r=(s.timestamp-a.timestamp)/1e3;if(0===r)return{x:0,y:0};let n={x:(s.x-a.x)/r,y:(s.y-a.y)/r};return n.x===1/0&&(n.x=0),n.y===1/0&&(n.y=0),n}(t,.1)}}function s$(e){return e[e.length-1]}function sP(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function sR(e,t){let i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function sA(e,t,i){return{min:sD(e,t),max:sD(e,i)}}function sD(e,t){return"number"==typeof e?e:e[t]||0}let sV=new WeakMap;class sF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=eU(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){let{presenceContext:a}=this.visualElement;if(a&&!1===a.isPresent)return;let s=e=>{t?(this.stopAnimation(),this.snapToCursor(sj(e).point)):this.pauseAnimation()},r=(e,t)=>{this.stopAnimation();let{drag:i,dragPropagation:a,onDragStart:s}=this.getProps();if(i&&!a&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(sh[e])return null;else return sh[e]=!0,()=>{sh[e]=!1};return sh.x||sh.y?null:(sh.x=sh.y=!0,()=>{sh.x=sh.y=!1})}(i),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sd(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ex.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let a=i.layout.layoutBox[e];a&&(t=sp(a)*(parseFloat(t)/100))}}this.originPoint[e]=t}),s&&tu.update(()=>s(e,t),!1,!0),iK(this.visualElement,"transform");let{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},n=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:i,dragDirectionLock:a,onDirectionLock:s,onDrag:r}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:n}=t;if(a&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(n),null!==this.currentDirection&&s&&s(this.currentDirection);return}this.updateAxis("x",t.point,n),this.updateAxis("y",t.point,n),this.visualElement.render(),r&&tu.update(()=>r(e,t),!1,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>sd(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new sM(e,{onSessionStart:s,onStart:r,onMove:n,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:sN(this.visualElement),element:this.visualElement.current})}stop(e,t){let i=e||this.latestPointerEvent,a=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!i)return;let{velocity:r}=a;this.startAnimation(r);let{onDragEnd:n}=this.getProps();n&&tu.postRender(()=>n(i,a))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,i){let{drag:a}=this.getProps();if(!i||!sL(e,a,this.currentDirection))return;let s=this.getAxisMotionValue(e),r=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(r=function(e,{min:t,max:i},a){return void 0!==t&&e<t?e=a?it(t,e,a.min):Math.max(e,t):void 0!==i&&e>i&&(e=a?it(i,e,a.max):Math.min(e,i)),e}(r,this.constraints[e],this.elastic[e])),s.set(r)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&iU(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=function(e,{top:t,left:i,bottom:a,right:s}){return{x:sP(e.x,i,s),y:sP(e.y,t,a)}}(i.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:sA(e,"left","right"),y:sA(e,"top","bottom")}}(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&sd(e=>{var t,a;let s;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=i.layoutBox[e],a=this.constraints[e],s={},void 0!==a.min&&(s.min=a.min-t.min),void 0!==a.max&&(s.max=a.max-t.min),s))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!iU(t))return!1;let a=t.current;eG(null!==a,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:s}=this.visualElement;if(!s||!s.layout)return!1;let r=function(e,t,i){let a=iv(e,i),{scroll:s}=t;return s&&(ig(a.x,s.offset.x),ig(a.y,s.offset.y)),a}(a,s.root,this.visualElement.getTransformPagePoint()),n=(e=s.layout.layoutBox,{x:sR(e.x,r.x),y:sR(e.y,r.y)});if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(n));this.hasMutatedConstraints=!!e,e&&(n=il(e))}return n}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:a,dragTransition:s,dragSnapToOrigin:r,onDragTransitionEnd:n}=this.getProps(),o=this.constraints||{};return Promise.all(sd(n=>{if(!sL(n,t,this.currentDirection))return;let l=o&&o[n]||{};r&&(l={min:0,max:0});let d={type:"inertia",velocity:i?e[n]:0,bounceStiffness:a?200:1e6,bounceDamping:a?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(n,d)})).then(n)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return iK(this.visualElement,e),i.start(a9(e,i,0,t,this.visualElement,!1))}stopAnimation(){sd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sd(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){sd(t=>{let{drag:i}=this.getProps();if(!sL(t,i,this.currentDirection))return;let{projection:a}=this.visualElement,s=this.getAxisMotionValue(t);if(a&&a.layout){let{min:i,max:r}=a.layout.layoutBox[t],n=s.get()||0;s.set(e[t]-it(i,r,.5)+n)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!iU(t)||!i||!this.constraints)return;this.stopAnimation();let a={x:0,y:0};sd(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var i,s;let r,n,o,l=t.get();a[e]=(i={min:l,max:l},s=this.constraints[e],r=.5,n=sp(i),(o=sp(s))>n?r=aD(s.min,s.max-n,i.min):n>o&&(r=aD(i.min,i.max-o,s.min)),ei(0,1,r))}});let{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),sd(t=>{if(!sL(t,e,null))return;let i=this.getAxisMotionValue(t),{min:s,max:r}=this.constraints[t];i.set(it(s,r,a[t]))})}addListeners(){if(!this.visualElement.current)return;sV.set(this.visualElement,this);let e=this.visualElement.current,t=sw(e,"pointerdown",t=>{let{drag:i,dragListener:a=!0}=this.getProps(),s=t.target,r=s!==e&&(sm.has(s.tagName)||!0===s.isContentEditable);i&&a&&!r&&this.start(t)}),i=()=>{let{dragConstraints:e}=this.getProps();iU(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),tu.read(i);let r=su(window,"resize",()=>this.scalePositionWithinConstraints()),n=a.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(sd(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),t(),s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:r=.35,dragMomentum:n=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:s,dragElastic:r,dragMomentum:n}}}function sL(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}let sB=e=>(t,i)=>{e&&tu.update(()=>e(t,i),!1,!0)},sH={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var sI=l;let sz=!1;class sO extends sI.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),i&&i.register&&a&&i.register(s),sz&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sH.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:a,isPresent:s}=this.props,{projection:r}=i;return r&&(r.isPresent=s,e.layoutDependency!==t&&r.setOptions({...r.options,layoutDependency:t}),sz=!0,a||e.layoutDependency!==t||void 0===t||e.isPresent!==s?r.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?r.promote():r.relegate()||tu.postRender(()=>{let e=r.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;sz=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sU(e){let[t,i]=k(),a=(0,sI.useContext)(c);return(0,o.jsx)(sO,{...e,layoutGroup:a,switchLayoutGroup:(0,sI.useContext)(iO),isPresent:t,safeToRemove:i})}function sW(e){return f(e)&&"ownerSVGElement"in e}let s_=["TopLeft","TopRight","BottomLeft","BottomRight"],sY=s_.length,sX=e=>"string"==typeof e?parseFloat(e):e,sq=e=>"number"==typeof e||eg.test(e);function sK(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let sG=sQ(0,.5,aT),sZ=sQ(.5,.95,tl);function sQ(e,t,i){return a=>a<e?0:a>t?1:i(aD(e,t,a))}function sJ(e,t){e.min=t.min,e.max=t.max}function s0(e,t){sJ(e.x,t.x),sJ(e.y,t.y)}function s1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function s2(e,t,i,a,s){return e-=t,e=a+1/i*(e-a),void 0!==s&&(e=a+1/s*(e-a)),e}function s5(e,t,[i,a,s],r,n){!function(e,t=0,i=1,a=.5,s,r=e,n=e){if(ex.test(t)&&(t=parseFloat(t),t=it(n.min,n.max,t/100)-n.min),"number"!=typeof t)return;let o=it(r.min,r.max,a);e===r&&(o-=t),e.min=s2(e.min,t,i,o,s),e.max=s2(e.max,t,i,o,s)}(e,t[i],t[a],t[s],t.scale,r,n)}let s4=["x","scaleX","originX"],s3=["y","scaleY","originY"];function s6(e,t,i,a){s5(e.x,t,s4,i?i.x:void 0,a?a.x:void 0),s5(e.y,t,s3,i?i.y:void 0,a?a.y:void 0)}function s8(e){return 0===e.translate&&1===e.scale}function s9(e){return s8(e.x)&&s8(e.y)}function s7(e,t){return e.min===t.min&&e.max===t.max}function re(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rt(e,t){return re(e.x,t.x)&&re(e.y,t.y)}function ri(e){return sp(e.x)/sp(e.y)}function ra(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rs{constructor(){this.members=[]}add(e){tM(this.members,e),e.scheduleRender()}remove(e){if(tC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();let a=i.options.layoutDependency,s=e.options.layoutDependency;(void 0===a||void 0===s||a!==s)&&(e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));let{crossfade:r}=e.options;!1===r&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let rr=(e,t)=>e.depth-t.depth;class rn{constructor(){this.children=[],this.isDirty=!1}add(e){tM(this.children,e),this.isDirty=!0}remove(e){tC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rr),this.isDirty=!1,this.children.forEach(e)}}let ro=["","X","Y","Z"],rl=0;function rd(e,t,i,a){let{latestValues:s}=t;s[e]&&(i[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function rc({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(e={},i=t?.()){this.id=rl++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rh),this.nodes.forEach(rv),this.nodes.forEach(rj),this.nodes.forEach(rp)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rn)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tS),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=sW(t)&&!(sW(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:i,layout:a,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||i)&&(this.isLayoutDirty=!0),e){let i,a=0,s=()=>this.root.updateBlockedByResize=!1;tu.read(()=>{a=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==a){let t,r;a=e,this.root.updateBlockedByResize=!0,i&&i(),t=tP.now(),r=({timestamp:e})=>{let i=e-t;i>=250&&(th(r),s(i-250))},tu.setup(r,!0),i=()=>th(r),sH.hasAnimatedSinceResize&&(sH.hasAnimatedSinceResize=!1,this.nodes.forEach(rb))}})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||a)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:a})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let r=this.options.transition||s.getDefaultTransition()||rC,{onLayoutAnimationStart:n,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!rt(this.targetLayout,a),d=!t&&i;if(this.options.layoutRoot||this.resumeFrom||d||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...iX(r,"layout"),onPlay:n,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,d)}else t||rb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),th(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rw),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let a=i.props[iz];if(window.MotionHasOptimisedAnimation(a,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",tu,!(e||i))}let{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&e(s)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let a=this.getTransformTemplate();this.prevTransformTemplateValue=a?a(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rx);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(rg);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ry),this.nodes.forEach(rm),this.nodes.forEach(ru)):this.nodes.forEach(rg),this.clearAllSnapshots();let e=tP.now();tp.delta=ei(0,1e3/60,e-tp.timestamp),tp.timestamp=e,tp.isProcessing=!0,tf.update.process(tp),tf.preRender.process(tp),tf.render.process(tp),tp.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rf),this.sharedNodes.forEach(rN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tu.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tu.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||sp(this.snapshot.measuredBox.x)||sp(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=eU(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!s9(this.projectionDelta),i=this.getTransformTemplate(),a=i?i(this.latestValues,""):void 0,r=a!==this.prevTransformTemplateValue;e&&this.instance&&(t||im(this.latestValues)||r)&&(s(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),a=this.removeElementScroll(i);return e&&(a=this.removeTransform(a)),r$((t=a).x),r$(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return eU();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rR))){let{scroll:e}=this.root;e&&(ig(t.x,e.offset.x),ig(t.y,e.offset.y))}return t}removeElementScroll(e){let t=eU();if(s0(t,e),this.scroll?.wasRoot)return t;for(let i=0;i<this.path.length;i++){let a=this.path[i],{scroll:s,options:r}=a;a!==this.root&&s&&r.layoutScroll&&(s.wasRoot&&s0(t,e),ig(t.x,s.offset.x),ig(t.y,s.offset.y))}return t}applyTransform(e,t=!1){let i=eU();s0(i,e);for(let e=0;e<this.path.length;e++){let a=this.path[e];!t&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ib(i,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),im(a.latestValues)&&ib(i,a.latestValues)}return im(this.latestValues)&&ib(i,this.latestValues),i}removeTransform(e){let t=eU();s0(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!im(i.latestValues))continue;ic(i.latestValues)&&i.updateSnapshot();let a=eU();s0(a,i.measurePageBox()),s6(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,a)}return im(this.latestValues)&&s6(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tp.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let i=!!this.resumingFrom||this!==t;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:a,layoutId:s}=this.options;if(!this.layout||!(a||s))return;this.resolvedRelativeTargetAt=tp.timestamp;let r=this.getClosestProjectingParent();if(r&&this.linkedParentVersion!==r.layoutVersion&&!r.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(r&&r.layout?this.createRelativeTarget(r,this.layout.layoutBox,r.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=eU(),this.targetWithTransforms=eU()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var n,o,l;this.forceRelativeParentToResolveTarget(),n=this.target,o=this.relativeTarget,l=this.relativeParent.target,sg(n.x,o.x,l.x),sg(n.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):s0(this.target,this.layout.layoutBox),ix(this.target,this.targetDelta)):s0(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,r&&!!r.resumingFrom==!!this.resumingFrom&&!r.options.layoutScroll&&r.target&&1!==this.animationProgress?this.createRelativeTarget(r,this.target,r.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||ic(this.parent.latestValues)||iu(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,i){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=eU(),this.relativeTargetOrigin=eU(),sb(this.relativeTargetOrigin,t,i),s0(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,i=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(i=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===tp.timestamp&&(i=!1),i)return;let{layout:a,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||s))return;s0(this.layoutCorrected,this.layout.layoutBox);let r=this.treeScale.x,n=this.treeScale.y;!function(e,t,i,a=!1){let s,r,n=i.length;if(n){t.x=t.y=1;for(let o=0;o<n;o++){r=(s=i[o]).projectionDelta;let{visualElement:n}=s.options;(!n||!n.props.style||"contents"!==n.props.style.display)&&(a&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ib(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,ix(e,r)),a&&im(s.latestValues)&&ib(e,s.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=eU());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(s1(this.prevProjectionDelta.x,this.projectionDelta.x),s1(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),sx(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===r&&this.treeScale.y===n&&ra(this.projectionDelta.x,this.prevProjectionDelta.x)&&ra(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ez(),this.projectionDelta=ez(),this.projectionDeltaWithTransform=ez()}setAnimationOrigin(e,t=!1){let i,a=this.snapshot,s=a?a.latestValues:{},r={...this.latestValues},n=ez();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=eU(),l=(a?a.source:void 0)!==(this.layout?this.layout.source:void 0),d=this.getStack(),c=!d||d.members.length<=1,m=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(rM));this.animationProgress=0,this.mixTargetDelta=t=>{let a=t/1e3;if(rk(n.x,e.x,a),rk(n.y,e.y,a),this.setTargetDelta(n),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var d,u,h,p,f,x;sb(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,p=this.relativeTargetOrigin,f=o,x=a,rE(h.x,p.x,f.x,x),rE(h.y,p.y,f.y,x),i&&(d=this.relativeTarget,u=i,s7(d.x,u.x)&&s7(d.y,u.y))&&(this.isProjectionDirty=!1),i||(i=eU()),s0(i,this.relativeTarget)}l&&(this.animationValues=r,function(e,t,i,a,s,r){s?(e.opacity=it(0,i.opacity??1,sG(a)),e.opacityExit=it(t.opacity??1,0,sZ(a))):r&&(e.opacity=it(t.opacity??1,i.opacity??1,a));for(let s=0;s<sY;s++){let r=`border${s_[s]}Radius`,n=sK(t,r),o=sK(i,r);(void 0!==n||void 0!==o)&&(n||(n=0),o||(o=0),0===n||0===o||sq(n)===sq(o)?(e[r]=Math.max(it(sX(n),sX(o),a),0),(ex.test(o)||ex.test(n))&&(e[r]+="%")):e[r]=o)}(t.rotate||i.rotate)&&(e.rotate=it(t.rotate||0,i.rotate||0,a))}(r,s,this.latestValues,a,m,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=a},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(th(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tu.update(()=>{var t,i,a;let s;sH.hasAnimatedSinceResize=!0,iJ.layout++,this.motionValue||(this.motionValue=tA(0)),this.currentAnimation=(t=this.motionValue,i=[0,1e3],a={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{iJ.layout--},onComplete:()=>{iJ.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(s=eW(t)?t:tA(t)).start(a9("",s,i,a)),s.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:a,latestValues:s}=e;if(t&&i&&a){if(this!==e&&this.layout&&a&&rP(this.options.animationType,this.layout.layoutBox,a.layoutBox)){i=this.target||eU();let t=sp(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let a=sp(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+a}s0(t,i),ib(t,s),sx(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rs),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let a=this.getStack();a&&a.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let a={};i.z&&rd("z",e,a,this.animationValues);for(let t=0;t<ro.length;t++)rd(`rotate${ro[t]}`,e,a,this.animationValues),rd(`skew${ro[t]}`,e,a,this.animationValues);for(let t in e.render(),a)e.setStaticValue(t,a[t]),this.animationValues&&(this.animationValues[t]=a[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let i=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=iA(t?.pointerEvents)||"",e.transform=i?i(this.latestValues,""):"none";return}let a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=iA(t?.pointerEvents)||""),this.hasProjected&&!im(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1);return}e.visibility="";let s=a.animationValues||a.latestValues;this.applyTransformsToTarget();let r=function(e,t,i){let a="",s=e.x.translate/t.x,r=e.y.translate/t.y,n=i?.z||0;if((s||r||n)&&(a=`translate3d(${s}px, ${r}px, ${n}px) `),(1!==t.x||1!==t.y)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:s,rotateY:r,skewX:n,skewY:o}=i;e&&(a=`perspective(${e}px) ${a}`),t&&(a+=`rotate(${t}deg) `),s&&(a+=`rotateX(${s}deg) `),r&&(a+=`rotateY(${r}deg) `),n&&(a+=`skewX(${n}deg) `),o&&(a+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(a+=`scale(${o}, ${l})`),a||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);i&&(r=i(s,r)),e.transform=r;let{x:n,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*n.origin}% ${100*o.origin}% 0`,a.animationValues?e.opacity=a===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,ii){if(void 0===s[t])continue;let{correct:i,applyTo:n,isCSSVariable:o}=ii[t],l="none"===r?s[t]:i(s[t],a);if(n){let t=n.length;for(let i=0;i<t;i++)e[n[i]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=a===this?iA(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(rx),this.root.sharedNodes.clear()}}}function rm(e){e.updateLayout()}function ru(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:i,measuredBox:a}=e.layout,{animationType:s}=e.options,r=t.source!==e.layout.source;"size"===s?sd(e=>{let a=r?t.measuredBox[e]:t.layoutBox[e],s=sp(a);a.min=i[e].min,a.max=a.min+s}):rP(s,t.layoutBox,i)&&sd(a=>{let s=r?t.measuredBox[a]:t.layoutBox[a],n=sp(i[a]);s.max=s.min+n,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[a].max=e.relativeTarget[a].min+n)});let n=ez();sx(n,i,t.layoutBox);let o=ez();r?sx(o,e.applyTransform(a,!0),t.measuredBox):sx(o,i,t.layoutBox);let l=!s9(n),d=!1;if(!e.resumeFrom){let a=e.getClosestProjectingParent();if(a&&!a.resumeFrom){let{snapshot:s,layout:r}=a;if(s&&r){let n=eU();sb(n,t.layoutBox,s.layoutBox);let o=eU();sb(o,i,r.layoutBox),rt(n,o)||(d=!0),a.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=n,e.relativeParent=a)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:o,layoutDelta:n,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function rh(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rp(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rf(e){e.clearSnapshot()}function rx(e){e.clearMeasurements()}function rg(e){e.isLayoutDirty=!1}function ry(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rv(e){e.resolveTargetDelta()}function rj(e){e.calcProjection()}function rw(e){e.resetSkewAndRotation()}function rN(e){e.removeLeadSnapshot()}function rk(e,t,i){e.translate=it(t.translate,0,i),e.scale=it(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function rE(e,t,i,a){e.min=it(t.min,i.min,a),e.max=it(t.max,i.max,a)}function rM(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let rC={duration:.45,ease:[.4,0,.1,1]},rS=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rT=rS("applewebkit/")&&!rS("chrome/")?Math.round:tl;function r$(e){e.min=rT(e.min),e.max=rT(e.max)}function rP(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(ri(t)-ri(i)))}function rR(e){return e!==e.root&&e.scroll?.wasRoot}let rA=rc({attachResizeListener:(e,t)=>su(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),rD={current:void 0},rV=rc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rD.current){let e=new rA({});e.mount(window),e.setOptions({layoutScroll:!0}),rD.current=e}return rD.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function rF(e,t){let i=function(e,t,i){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,i=(void 0)??t.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(e=>null!=e)}(e),a=new AbortController;return[i,{passive:!0,...t,signal:a.signal},()=>a.abort()]}function rL(e){return!("touch"===e.pointerType||sh.x||sh.y)}function rB(e,t,i){let{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover","Start"===i);let s=a["onHover"+i];s&&tu.postRender(()=>s(t,sj(t)))}let rH=(e,t)=>!!t&&(e===t||rH(e,t.parentElement)),rI=new WeakSet;function rz(e){return t=>{"Enter"===t.key&&e(t)}}function rO(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function rU(e){return sv(e)&&!(sh.x||sh.y)}function rW(e,t,i){let{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap","Start"===i);let s=a["onTap"+("End"===i?"":i)];s&&tu.postRender(()=>s(t,sj(t)))}let r_=new WeakMap,rY=new WeakMap,rX=e=>{let t=r_.get(e.target);t&&t(e)},rq=e=>{e.forEach(rX)},rK={some:0,all:1},rG=function(e,t){if("undefined"==typeof Proxy)return iW;let i=new Map,a=(i,a)=>iW(i,a,e,t);return new Proxy((e,t)=>a(e,t),{get:(s,r)=>"create"===r?a:(i.has(r)||i.set(r,iW(r,void 0,e,t)),i.get(r))})}({animation:{Feature:class extends i_{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let a;if(e.notify("AnimationStart",t),Array.isArray(t))a=Promise.all(t.map(t=>st(e,t,i)));else if("string"==typeof t)a=st(e,t,i);else{let s="function"==typeof t?iY(e,t,i.custom):t;a=Promise.all(a7(e,s,i))}return a.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=so(),a=!0,s=t=>(i,a)=>{let s=iY(e,a,"exit"===t?e.presenceContext?.custom:void 0);if(s){let{transition:e,transitionEnd:t,...a}=s;i={...i,...a,...t}}return i};function r(r){let{props:n}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<si;e++){let a=tO[e],s=t.props[a];(tI(s)||!1===s)&&(i[a]=s)}return i}(e.parent)||{},l=[],d=new Set,c={},m=1/0;for(let t=0;t<sr;t++){var u,h;let p=ss[t],f=i[p],x=void 0!==n[p]?n[p]:o[p],g=tI(x),y=p===r?f.isActive:null;!1===y&&(m=t);let b=x===o[p]&&x!==n[p]&&g;if(b&&a&&e.manuallyAnimateOnMount&&(b=!1),f.protectedKeys={...c},!f.isActive&&null===y||!x&&!f.prevProp||tH(x)||"boolean"==typeof x)continue;let v=(u=f.prevProp,"string"==typeof(h=x)?h!==u:!!Array.isArray(h)&&!sa(h,u)),j=v||p===r&&f.isActive&&!b&&g||t>m&&g,w=!1,N=Array.isArray(x)?x:[x],k=N.reduce(s(p),{});!1===y&&(k={});let{prevResolvedValues:E={}}=f,M={...E,...k},C=t=>{j=!0,d.has(t)&&(w=!0,d.delete(t)),f.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in M){let t=k[e],i=E[e];if(!c.hasOwnProperty(e))(iq(t)&&iq(i)?sa(t,i):t===i)?void 0!==t&&d.has(e)?C(e):f.protectedKeys[e]=!0:null!=t?C(e):d.add(e)}f.prevProp=x,f.prevResolvedValues=k,f.isActive&&(c={...c,...k}),a&&e.blockInitialAnimation&&(j=!1);let S=b&&v,T=!S||w;j&&T&&l.push(...N.map(t=>{let i={type:p};if("string"==typeof t&&a&&!S&&e.manuallyAnimateOnMount&&e.parent){let{parent:a}=e,s=iY(a,t);if(a.enteringChildren&&s){let{delayChildren:t}=s.transition||{};i.delay=se(a.enteringChildren,e,t)}}return{animation:t,options:i}}))}if(d.size){let t={};if("boolean"!=typeof n.initial){let i=iY(e,Array.isArray(n.initial)?n.initial[0]:n.initial);i&&i.transition&&(t.transition=i.transition)}d.forEach(i=>{let a=e.getBaseTarget(i),s=e.getValue(i);s&&(s.liveStyle=!0),t[i]=a??null}),l.push({animation:t})}let p=!!l.length;return a&&(!1===n.initial||n.initial===n.animate)&&!e.manuallyAnimateOnMount&&(p=!1),a=!1,p?t(l):Promise.resolve()}return{animateChanges:r,setActive:function(t,a){if(i[t].isActive===a)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,a)),i[t].isActive=a;let s=r(t);for(let e in i)i[e].protectedKeys={};return s},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=so()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tH(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends i_{constructor(){super(...arguments),this.id=sl++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends i_{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:i={}}=this.node.getProps(),{root:a,margin:s,amount:r="some",once:n}=i,o={root:a?a.current:void 0,rootMargin:s,threshold:"number"==typeof r?r:rK[r]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,n&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:a}=this.node.getProps(),s=t?i:a;s&&s(e)};return e=this.node.current,t=function({root:e,...t}){let i=e||document;rY.has(i)||rY.set(i,{});let a=rY.get(i),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(rq,{root:e,...t})),a[s]}(o),r_.set(e,l),t.observe(e),()=>{r_.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends i_{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[a,s,r]=rF(e,i),n=e=>{let a=e.currentTarget;if(!rU(e))return;rI.add(a);let r=t(a,e),n=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),rI.has(a)&&rI.delete(a),rU(e)&&"function"==typeof r&&r(e,{success:t})},o=e=>{n(e,a===window||a===document||i.useGlobalTarget||rH(a,e.target))},l=e=>{n(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return a.forEach(e=>{((i.useGlobalTarget?window:e).addEventListener("pointerdown",n,s),x(e))&&(e.addEventListener("focus",e=>((e,t)=>{let i=e.currentTarget;if(!i)return;let a=rz(()=>{if(rI.has(i))return;rO(i,"down");let e=rz(()=>{rO(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>rO(i,"cancel"),t)});i.addEventListener("keydown",a,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),t)})(e,s)),sc.has(e.tagName)||!0===e.isContentEditable||e.hasAttribute("tabindex")||(e.tabIndex=0))}),r}(e,(e,t)=>(rW(this.node,t,"Start"),(e,{success:t})=>rW(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends i_{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iQ(su(this.node.current,"focus",()=>this.onFocus()),su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends i_{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[a,s,r]=rF(e,i),n=e=>{if(!rL(e))return;let{target:i}=e,a=t(i,e);if("function"!=typeof a||!i)return;let r=e=>{rL(e)&&(a(e),i.removeEventListener("pointerleave",r))};i.addEventListener("pointerleave",r,s)};return a.forEach(e=>{e.addEventListener("pointerenter",n,s)}),r}(e,(e,t)=>(rB(this.node,t,"Start"),e=>rB(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends i_{constructor(){super(...arguments),this.removePointerDownListener=tl}onPointerDown(e){this.session=new sM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sN(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:sB(e),onStart:sB(t),onMove:sB(i),onEnd:(e,t)=>{delete this.session,a&&tu.postRender(()=>a(e,t))}}}mount(){this.removePointerDownListener=sw(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends i_{constructor(e){super(e),this.removeGroupControls=tl,this.removeListeners=tl,this.controls=new sF(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tl}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:rV,MeasureLayout:sU},layout:{ProjectionNode:rV,MeasureLayout:sU}},(e,t)=>t.isSVG??iN(e)?new io(t):new ij(t,{allowProjection:e!==l.Fragment}));function rZ({onComplete:e}){let[t,i]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let t=setInterval(()=>{i(i=>i>=100?(clearInterval(t),setTimeout(e,500),100):i+2)},50);return()=>clearInterval(t)},[e]),(0,o.jsxs)("div",{className:"fixed inset-0 bg-background flex flex-col items-center justify-center overflow-hidden",children:[(0,o.jsx)("div",{className:"absolute inset-0 opacity-10",children:Array.from({length:20}).map((e,t)=>(0,o.jsx)(rG.div,{className:"absolute text-4xl",initial:{opacity:0,y:-50},animate:{opacity:[0,1,0],y:[0,800]},transition:{duration:3,delay:.2*t,repeat:1/0},style:{left:`${5*t%100}%`},children:"~"},t))}),(0,o.jsx)(rG.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"relative mb-8",children:(0,o.jsxs)("div",{className:"w-40 h-40 bg-card rounded-full flex items-center justify-center border-4 border-primary shadow-2xl",children:[(0,o.jsx)(rG.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-2 border-2 border-dashed border-secondary rounded-full"}),(0,o.jsx)("div",{className:"text-6xl",children:(0,o.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-24 h-24",children:[(0,o.jsx)(rG.path,{d:"M50 85 Q50 50 50 25 Q40 15 50 10 Q60 15 50 25",fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-primary",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,delay:.5}}),(0,o.jsx)(rG.circle,{cx:"50",cy:"88",r:"8",className:"fill-secondary",initial:{scale:0},animate:{scale:1},transition:{delay:1.5}}),(0,o.jsx)(rG.path,{d:"M42 88 Q35 92 30 88 M58 88 Q65 92 70 88",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-secondary",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,delay:2}})]})})]})}),(0,o.jsx)(rG.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-4xl md:text-5xl font-bold text-foreground mb-2 text-center",children:"æ¯›æ ¹ä¼èª¬"}),(0,o.jsx)(rG.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-muted-foreground text-lg mb-12",children:"ã€œæŠœã„ã¦è‚²ã¦ã¦çµ¡ã‚ã¦æˆ¦ãˆã€œ"}),(0,o.jsx)(rG.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{delay:1},className:"w-64 h-3 bg-muted rounded-full overflow-hidden",children:(0,o.jsx)(rG.div,{className:"h-full bg-gradient-to-r from-primary to-secondary",style:{width:`${t}%`},transition:{duration:.1}})}),(0,o.jsx)(rG.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-muted-foreground text-sm mt-4",children:t<100?"æ¯›æ ¹ã‚’æº–å‚™ä¸­...":"ã‚¿ãƒƒãƒ—ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆ"}),(0,o.jsx)(C,{children:t>=100&&(0,o.jsx)(rG.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 cursor-pointer","aria-label":"ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹"})})]})}let rQ=[{id:"gacha",label:"ã‚¬ãƒãƒ£",icon:"ðŸŽ°",description:"æ¯›æ ¹ã‚’å¼•ãæŠœã“ã†",color:"from-primary to-rose-600"},{id:"collection",label:"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³",icon:"ðŸ“¦",description:"æ¯›æ ¹å›³é‘‘",color:"from-secondary to-amber-600"},{id:"training",label:"è‚²æˆ",icon:"ðŸ’ª",description:"æ¯›æ ¹ã‚’è‚²ã¦ã‚ˆã†",color:"from-accent to-emerald-600"},{id:"matchmaking",label:"1vs1å¯¾æˆ¦",icon:"âš”ï¸",description:"ãƒãƒˆãƒ«ã«æŒ‘æˆ¦",color:"from-blue-500 to-indigo-600"},{id:"battle-royale",label:"ã‚½ãƒ­ãƒãƒˆãƒ­ãƒ¯",icon:"ðŸ‘‘",description:"8äººã§æœ€å¼·æ±ºå®šæˆ¦",color:"from-purple-500 to-pink-600"},{id:"team-royale",label:"ãƒãƒ¼ãƒ ãƒãƒˆãƒ­ãƒ¯",icon:"ðŸ‘¥",description:"4ãƒãƒ¼ãƒ å¯¾æŠ—æˆ¦",color:"from-cyan-500 to-teal-600"},{id:"boss-raid",label:"é­”çŽ‹è¨Žä¼",icon:"ðŸ˜ˆ",description:"ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã«æŒ‘æˆ¦",color:"from-red-600 to-rose-900"},{id:"ranking",label:"ãƒ©ãƒ³ã‚­ãƒ³ã‚°",icon:"ðŸ†",description:"é †ä½ã‚’ç¢ºèª",color:"from-amber-500 to-orange-600"},{id:"tutorial",label:"ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«",icon:"â“",description:"å„æ©Ÿèƒ½ã®èª¬æ˜Ž",color:"from-slate-500 to-slate-700"}];function rJ({onNavigate:e}){let{coins:t,collection:i,selectedHairRoot:a,playerName:s,playerTitle:r}=Q();return(0,o.jsxs)("div",{className:"min-h-screen bg-background p-4 pb-24",children:[(0,o.jsxs)(rG.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("button",{onClick:()=>e("profile"),className:"text-left hover:opacity-80 transition-opacity",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"æ¯›æ ¹ä¼èª¬"}),(0,o.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s," - ",r]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2 bg-card px-4 py-2 rounded-full border border-border",children:[(0,o.jsx)("span",{className:"text-xl",children:"ðŸª™"}),(0,o.jsx)("span",{className:"font-bold text-secondary",children:t.toLocaleString()})]})]}),(0,o.jsxs)(rG.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"bg-card rounded-2xl p-6 mb-6 border border-border",children:[(0,o.jsx)("h2",{className:"text-sm text-muted-foreground mb-2",children:"é¸æŠžä¸­ã®æ¯›æ ¹"}),a?(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-3xl",style:{backgroundColor:`${a.color}20`},children:a.emoji}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-bold text-foreground",children:a.name}),(0,o.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Lv.",a.level]}),(0,o.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,o.jsxs)("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded",children:["åŠ› ",a.power]}),(0,o.jsxs)("span",{className:"text-xs bg-secondary/20 text-secondary px-2 py-0.5 rounded",children:["é€Ÿ ",a.speed]}),(0,o.jsxs)("span",{className:"text-xs bg-accent/20 text-accent px-2 py-0.5 rounded",children:["æ¡ ",a.grip]})]})]})]}):(0,o.jsxs)("div",{className:"flex items-center gap-4 text-muted-foreground",children:[(0,o.jsx)("div",{className:"w-16 h-16 rounded-xl bg-muted flex items-center justify-center text-2xl",children:"?"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium",children:"æ¯›æ ¹ã‚’é¸æŠžã—ã¦ãã ã•ã„"}),(0,o.jsx)("p",{className:"text-sm",children:"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰é¸ã‚“ã§ã­"})]})]})]}),(0,o.jsx)("div",{className:"grid grid-cols-2 gap-4",children:rQ.map((t,i)=>(0,o.jsxs)(rG.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2+.1*i},onClick:()=>e(t.id),className:`
              relative overflow-hidden rounded-2xl p-6 text-left
              bg-gradient-to-br ${t.color} text-white
              active:scale-95 transition-transform
              ${"gacha"===t.id?"col-span-2":""}
            `,children:[(0,o.jsx)("div",{className:"absolute top-2 right-2 text-4xl opacity-30",children:t.icon}),(0,o.jsx)("span",{className:"text-4xl mb-2 block",children:t.icon}),(0,o.jsx)("h3",{className:"text-xl font-bold",children:t.label}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:t.description})]},t.id))})]})}function r0(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function r1(...e){return t=>{let i=!1,a=e.map(e=>{let a=r0(e,t);return i||"function"!=typeof a||(i=!0),a});if(i)return()=>{for(let t=0;t<a.length;t++){let i=a[t];"function"==typeof i?i():r0(e[t],null)}}}}function r2(...e){return l.useCallback(r1(...e),e)}var r5=l.forwardRef((e,t)=>{let{children:i,...a}=e,s=l.Children.toArray(i),r=s.find(r6);if(r){let e=r.props.children,i=s.map(t=>t!==r?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,o.jsx)(r4,{...a,ref:t,children:l.isValidElement(e)?l.cloneElement(e,void 0,i):null})}return(0,o.jsx)(r4,{...a,ref:t,children:i})});r5.displayName="Slot";var r4=l.forwardRef((e,t)=>{let{children:i,...a}=e;if(l.isValidElement(i)){var s;let e,r,n=(s=i,(r=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(r=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref);return l.cloneElement(i,{...function(e,t){let i={...t};for(let a in t){let s=e[a],r=t[a];/^on[A-Z]/.test(a)?s&&r?i[a]=(...e)=>{r(...e),s(...e)}:s&&(i[a]=s):"style"===a?i[a]={...s,...r}:"className"===a&&(i[a]=[s,r].filter(Boolean).join(" "))}return{...e,...i}}(a,i.props),ref:t?r1(t,n):n})}return l.Children.count(i)>1?l.Children.only(null):null});r4.displayName="SlotClone";var r3=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function r6(e){return l.isValidElement(e)&&e.type===r3}function r8(){for(var e,t,i=0,a="",s=arguments.length;i<s;i++)(e=arguments[i])&&(t=function e(t){var i,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(i=0;i<r;i++)t[i]&&(a=e(t[i]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}(e))&&(a&&(a+=" "),a+=t);return a}let r9=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,r7=(e,t)=>{if(0===e.length)return t.classGroupId;let i=e[0],a=t.nextPart.get(i),s=a?r7(e.slice(1),a):void 0;if(s)return s;if(0===t.validators.length)return;let r=e.join("-");return t.validators.find(({validator:e})=>e(r))?.classGroupId},ne=/^\[(.+)\]$/,nt=(e,t,i,a)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:ni(t,e)).classGroupId=i;return}"function"==typeof e?na(e)?nt(e(a),t,i,a):t.validators.push({validator:e,classGroupId:i}):Object.entries(e).forEach(([e,s])=>{nt(s,ni(t,e),i,a)})})},ni=(e,t)=>{let i=e;return t.split("-").forEach(e=>{i.nextPart.has(e)||i.nextPart.set(e,{nextPart:new Map,validators:[]}),i=i.nextPart.get(e)}),i},na=e=>e.isThemeGetter,ns=(e,t)=>t?e.map(([e,i])=>[e,i.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,i])=>[t+e,i])):e)]):e,nr=e=>{if(e.length<=1)return e;let t=[],i=[];return e.forEach(e=>{"["===e[0]?(t.push(...i.sort(),e),i=[]):i.push(e)}),t.push(...i.sort()),t},nn=/\s+/;function no(){let e,t,i=0,a="";for(;i<arguments.length;)(e=arguments[i++])&&(t=nl(e))&&(a&&(a+=" "),a+=t);return a}let nl=e=>{let t;if("string"==typeof e)return e;let i="";for(let a=0;a<e.length;a++)e[a]&&(t=nl(e[a]))&&(i&&(i+=" "),i+=t);return i},nd=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},nc=/^\[(?:([a-z-]+):)?(.+)\]$/i,nm=/^\d+\/\d+$/,nu=new Set(["px","full","screen"]),nh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,np=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nf=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ng=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ny=e=>nv(e)||nu.has(e)||nm.test(e),nb=e=>nA(e,"length",nD),nv=e=>!!e&&!Number.isNaN(Number(e)),nj=e=>nA(e,"number",nv),nw=e=>!!e&&Number.isInteger(Number(e)),nN=e=>e.endsWith("%")&&nv(e.slice(0,-1)),nk=e=>nc.test(e),nE=e=>nh.test(e),nM=new Set(["length","size","percentage"]),nC=e=>nA(e,nM,nV),nS=e=>nA(e,"position",nV),nT=new Set(["image","url"]),n$=e=>nA(e,nT,nL),nP=e=>nA(e,"",nF),nR=()=>!0,nA=(e,t,i)=>{let a=nc.exec(e);return!!a&&(a[1]?"string"==typeof t?a[1]===t:t.has(a[1]):i(a[2]))},nD=e=>np.test(e)&&!nf.test(e),nV=()=>!1,nF=e=>nx.test(e),nL=e=>ng.test(e),nB=function(e,...t){let i,a,s,r=function(o){let l;return a=(i={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,i=new Map,a=new Map,s=(s,r)=>{i.set(s,r),++t>e&&(t=0,a=i,i=new Map)};return{get(e){let t=i.get(e);return void 0!==t?t:void 0!==(t=a.get(e))?(s(e,t),t):void 0},set(e,t){i.has(e)?i.set(e,t):s(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{separator:t,experimentalParseClassName:i}=e,a=1===t.length,s=t[0],r=t.length,n=e=>{let i,n=[],o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===s&&(a||e.slice(d,d+r)===t)){n.push(e.slice(l,d)),l=d+r;continue}if("/"===c){i=d;continue}}"["===c?o++:"]"===c&&o--}let d=0===n.length?e:e.substring(l),c=d.startsWith("!"),m=c?d.substring(1):d;return{modifiers:n,hasImportantModifier:c,baseClassName:m,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return i?e=>i({className:e,parseClassName:n}):n})(l),...(e=>{let t=(e=>{let{theme:t,prefix:i}=e,a={nextPart:new Map,validators:[]};return ns(Object.entries(e.classGroups),i).forEach(([e,i])=>{nt(i,a,e,t)}),a})(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:e=>{let i=e.split("-");return""===i[0]&&1!==i.length&&i.shift(),r7(i,t)||(e=>{if(ne.test(e)){let t=ne.exec(e)[1],i=t?.substring(0,t.indexOf(":"));if(i)return"arbitrary.."+i}})(e)},getConflictingClassGroupIds:(e,t)=>{let s=i[e]||[];return t&&a[e]?[...s,...a[e]]:s}}})(l)}).cache.get,s=i.cache.set,r=n,n(o)};function n(e){let t=a(e);if(t)return t;let r=((e,t)=>{let{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:s}=t,r=[],n=e.trim().split(nn),o="";for(let e=n.length-1;e>=0;e-=1){let t=n[e],{modifiers:l,hasImportantModifier:d,baseClassName:c,maybePostfixModifierPosition:m}=i(t),u=!!m,h=a(u?c.substring(0,m):c);if(!h){if(!u||!(h=a(c))){o=t+(o.length>0?" "+o:o);continue}u=!1}let p=nr(l).join(":"),f=d?p+"!":p,x=f+h;if(r.includes(x))continue;r.push(x);let g=s(h,u);for(let e=0;e<g.length;++e){let t=g[e];r.push(f+t)}o=t+(o.length>0?" "+o:o)}return o})(e,i);return s(e,r),r}return function(){return r(no.apply(null,arguments))}}(()=>{let e=nd("colors"),t=nd("spacing"),i=nd("blur"),a=nd("brightness"),s=nd("borderColor"),r=nd("borderRadius"),n=nd("borderSpacing"),o=nd("borderWidth"),l=nd("contrast"),d=nd("grayscale"),c=nd("hueRotate"),m=nd("invert"),u=nd("gap"),h=nd("gradientColorStops"),p=nd("gradientColorStopPositions"),f=nd("inset"),x=nd("margin"),g=nd("opacity"),y=nd("padding"),b=nd("saturate"),v=nd("scale"),j=nd("sepia"),w=nd("skew"),N=nd("space"),k=nd("translate"),E=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",nk,t],S=()=>[nk,t],T=()=>["",ny,nb],$=()=>["auto",nv,nk],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",nk],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[nv,nk];return{cacheSize:500,separator:":",theme:{colors:[nR],spacing:[ny,nb],blur:["none","",nE,nk],brightness:L(),borderColor:[e],borderRadius:["none","","full",nE,nk],borderSpacing:S(),borderWidth:T(),contrast:L(),grayscale:V(),hueRotate:L(),invert:V(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[nN,nb],inset:C(),margin:C(),opacity:L(),padding:S(),saturate:L(),scale:L(),sepia:V(),skew:L(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",nk]}],container:["container"],columns:[{columns:[nE]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),nk]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nw,nk]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nk]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",nw,nk]}],"grid-cols":[{"grid-cols":[nR]}],"col-start-end":[{col:["auto",{span:["full",nw,nk]},nk]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[nR]}],"row-start-end":[{row:["auto",{span:[nw,nk]},nk]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nk]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nk]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nk,t]}],"min-w":[{"min-w":[nk,t,"min","max","fit"]}],"max-w":[{"max-w":[nk,t,"none","full","min","max","fit","prose",{screen:[nE]},nE]}],h:[{h:[nk,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nk,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nk,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nk,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nE,nb]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nj]}],"font-family":[{font:[nR]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nk]}],"line-clamp":[{"line-clamp":["none",nv,nj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ny,nk]}],"list-image":[{"list-image":["none",nk]}],"list-style-type":[{list:["none","disc","decimal",nk]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ny,nb]}],"underline-offset":[{"underline-offset":["auto",ny,nk]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nk]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nk]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),nS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[ny,nk]}],"outline-w":[{outline:[ny,nb]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ny,nb]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nE,nP]}],"shadow-color":[{shadow:[nR]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[a]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",nE,nk]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[n]}],"border-spacing-x":[{"border-spacing-x":[n]}],"border-spacing-y":[{"border-spacing-y":[n]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nk]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",nk]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",nk]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[nw,nk]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nk]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nk]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nk]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ny,nb,nj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function nH(...e){return nB(r8(e))}let nI=(a="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==s?void 0:s.variants)==null)return r8(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:i,defaultVariants:r}=s,n=Object.keys(i).map(t=>{let a=null==e?void 0:e[t],s=null==r?void 0:r[t];if(null===a)return null;let n=r9(a)||r9(s);return i[t][n]}),o=e&&Object.entries(e).reduce((e,t)=>{let[i,a]=t;return void 0===a||(e[i]=a),e},{});return r8(a,n,null==s||null==(t=s.compoundVariants)?void 0:t.reduce((e,t)=>{let{class:i,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,i]=e;return Array.isArray(i)?i.includes({...r,...o}[t]):({...r,...o})[t]===i})?[...e,i,a]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),nz=l.forwardRef(({className:e,variant:t,size:i,asChild:a=!1,...s},r)=>{let n=a?r5:"button";return(0,o.jsx)(n,{className:nH(nI({variant:t,size:i,className:e})),ref:r,...s})});nz.displayName="Button";let nO=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},nU=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var nW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n_=(0,l.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:r,iconNode:n,...o},d)=>(0,l.createElement)("svg",{ref:d,...nW,width:t,height:t,stroke:e,strokeWidth:a?24*Number(i)/Number(t):i,className:nU("lucide",s),...!r&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...n.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(r)?r:[r]])),nY=(e,t)=>{let i=(0,l.forwardRef)(({className:i,...a},s)=>(0,l.createElement)(n_,{ref:s,iconNode:t,className:nU(`lucide-${nO(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...a}));return i.displayName=nO(e),i},nX=nY("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),nq=nY("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);function nK({onNavigate:e}){let{coins:t,pullSingle:i,pullTen:a,selectHairRoot:s,selectedHairRoot:r}=Q(),[n,d]=(0,l.useState)("idle"),[c,m]=(0,l.useState)([]),[u,h]=(0,l.useState)(0),[p,f]=(0,l.useState)(!1),[x,g]=(0,l.useState)(null),[y,b]=(0,l.useState)(null),[v,j]=(0,l.useState)(null),w=V.filter(e=>"legendary"===e.rarity||"cosmic"===e.rarity),N=(0,l.useCallback)(async e=>{d("pulling"),m([]),h(0),await new Promise(e=>setTimeout(e,1500));let t="single"===e?[i()].filter(Boolean):a();if(0===t.length)return void d("idle");m(t);let s=t.find(e=>e?.rarity==="cosmic"),r=t.find(e=>e?.rarity==="legendary");s?(g(s),f(!0),await new Promise(e=>setTimeout(e,7e3)),f(!1)):r&&(g(r),f(!0),await new Promise(e=>setTimeout(e,5e3)),f(!1)),d("revealing");for(let e=0;e<t.length;e++)await new Promise(e=>setTimeout(e,300)),h(e+1);d("result")},[i,a]);return(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"è„±æ¯›ã‚¬ãƒãƒ£"}),(0,o.jsxs)("div",{className:"flex items-center gap-2 bg-card px-3 py-1.5 rounded-full border border-border",children:[(0,o.jsx)(nq,{className:"w-4 h-4 text-secondary"}),(0,o.jsx)("span",{className:"font-bold text-secondary",children:t.toLocaleString()})]})]}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[(0,o.jsxs)(C,{mode:"wait",children:["idle"===n&&(0,o.jsxs)(rG.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-md",children:[(0,o.jsxs)("div",{className:"relative mb-8",children:[(0,o.jsx)(rG.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},className:"w-64 h-64 mx-auto bg-gradient-to-b from-card to-muted rounded-3xl border-4 border-primary shadow-2xl flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-6xl mb-2",children:(0,o.jsxs)("svg",{viewBox:"0 0 80 80",className:"w-24 h-24 mx-auto",children:[(0,o.jsx)("circle",{cx:"40",cy:"30",r:"20",className:"fill-secondary/20"}),(0,o.jsx)("path",{d:"M40 50 Q40 60 40 70 Q30 75 40 78 Q50 75 40 70",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-foreground"}),(0,o.jsx)("circle",{cx:"40",cy:"78",r:"5",className:"fill-primary"})]})}),(0,o.jsx)("p",{className:"text-muted-foreground text-sm",children:"æ¯›æ ¹ã‚’å¼•ãæŠœã“ã†ï¼"})]})}),(0,o.jsx)("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-secondary rounded-full animate-pulse"}),(0,o.jsx)("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-primary rounded-full animate-pulse delay-100"}),(0,o.jsx)("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-12 h-12 bg-accent rounded-full animate-pulse delay-200"})]}),(0,o.jsxs)("div",{className:"bg-gradient-to-r from-amber-500/10 via-pink-500/10 to-amber-500/10 rounded-xl p-4 mb-4 border border-amber-500/30",children:[(0,o.jsxs)("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-amber-500",children:"PICKUP"}),(0,o.jsx)("span",{className:"text-xs text-muted-foreground",children:"ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ãƒ»ã‚³ã‚ºãƒŸãƒƒã‚¯"})]}),(0,o.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:w.map(e=>(0,o.jsxs)(rG.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(e),className:"flex-shrink-0 w-20 bg-card rounded-lg p-2 border-2 text-center",style:{borderColor:R[e.rarity]},children:[(0,o.jsxs)("div",{className:"text-2xl mb-1 w-10 h-10 mx-auto rounded-full flex items-center justify-center relative",style:{backgroundColor:`${R[e.rarity]}20`},children:[e.emoji,e.element&&(0,o.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full text-[8px] flex items-center justify-center text-white font-bold",style:{backgroundColor:T[e.element]},children:S[e.element][0]})]}),(0,o.jsx)("p",{className:"text-[10px] font-medium text-foreground truncate",children:e.name}),(0,o.jsx)("p",{className:"text-[8px]",style:{color:R[e.rarity]},children:A[e.rarity]})]},e.id))})]}),(0,o.jsxs)("div",{className:"bg-card rounded-xl p-4 mb-6 border border-border",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-2",children:"æŽ’å‡ºç¢ºçŽ‡"}),(0,o.jsx)("div",{className:"grid grid-cols-6 gap-1.5 text-xs",children:["common","uncommon","rare","epic","legendary","cosmic"].map(e=>(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"w-4 h-4 rounded-full mx-auto mb-1",style:{backgroundColor:R[e]}}),(0,o.jsx)("p",{className:"text-muted-foreground text-[10px]",children:"common"===e?"N":"cosmic"===e?"CH":A[e].charAt(0)+"H"}),(0,o.jsxs)("p",{className:"font-bold text-[10px]",style:{color:R[e]},children:["common"===e&&"49.9%","uncommon"===e&&"30%","rare"===e&&"14%","epic"===e&&"5%","legendary"===e&&"1%","cosmic"===e&&"0.1%"]})]},e))})]}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)(nz,{onClick:()=>N("single"),disabled:t<10,className:"flex-1 h-16 text-lg bg-primary hover:bg-primary/90",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"font-bold",children:"å˜ç™º"}),(0,o.jsx)("p",{className:"text-xs opacity-80",children:"10 ã‚³ã‚¤ãƒ³"})]})}),(0,o.jsx)(nz,{onClick:()=>N("ten"),disabled:t<100,className:"flex-1 h-16 text-lg bg-secondary hover:bg-secondary/90 text-secondary-foreground",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"font-bold",children:"10é€£"}),(0,o.jsx)("p",{className:"text-xs opacity-80",children:"100 ã‚³ã‚¤ãƒ³"})]})})]})]},"idle"),"pulling"===n&&!p&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[(0,o.jsx)(rG.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0},className:"w-40 h-40 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center mx-auto mb-4",children:(0,o.jsx)("span",{className:"text-6xl text-white",children:"?"})}),(0,o.jsx)("p",{className:"text-xl font-bold text-foreground",children:"å¼•ãæŠœãä¸­..."}),(0,o.jsx)(rG.div,{animate:{width:["0%","100%"]},transition:{duration:1.5},className:"h-2 bg-primary rounded-full mt-4 mx-auto max-w-xs"})]},"pulling"),p&&x&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden",style:{backgroundColor:"cosmic"===x.rarity?"#0a0015":"#000"},children:[(0,o.jsx)(rG.div,{animate:{rotate:360},transition:{duration:"cosmic"===x.rarity?10:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 flex items-center justify-center",children:[...Array("cosmic"===x.rarity?36:24)].map((e,t)=>(0,o.jsx)(rG.div,{initial:{opacity:0,scaleY:0},animate:{opacity:[0,1,.5],scaleY:[0,1,1]},transition:{delay:.05*t,duration:1},className:"absolute h-[200vh] w-4",style:{background:"cosmic"===x.rarity?`linear-gradient(to top, transparent, ${R.cosmic}80, #FFD700, ${R.cosmic}80, transparent)`:`linear-gradient(to top, transparent, ${R.legendary}80, ${R.legendary}, ${R.legendary}80, transparent)`,transform:`rotate(${t*("cosmic"===x.rarity?10:15)}deg)`,transformOrigin:"center center"}},t))}),"cosmic"===x.rarity&&[...Array(8)].map((e,t)=>(0,o.jsx)(rG.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:.2,delay:1+.3*t,repeat:3},className:"absolute inset-0",style:{background:`radial-gradient(ellipse at ${20+60*Math.random()}% ${20+60*Math.random()}%, rgba(255,215,0,0.4) 0%, transparent 50%)`}},`lightning-${t}`)),[...Array("cosmic"===x.rarity?80:50)].map((e,t)=>(0,o.jsx)(rG.div,{initial:{x:0,y:0,scale:0,opacity:1},animate:{x:(Math.random()-.5)*("cosmic"===x.rarity?1200:800),y:(Math.random()-.5)*("cosmic"===x.rarity?1200:800),scale:[0,"cosmic"===x.rarity?1.5:1,0],opacity:[1,1,0]},transition:{duration:"cosmic"===x.rarity?4:3,delay:.5+.5*Math.random()},className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:"cosmic"===x.rarity?t%4==0?R.cosmic:t%4==1?"#FFD700":t%4==2?"#fff":"#00BFFF":t%3==0?R.legendary:t%3==1?"#fff":"#FFD700"}},`particle-${t}`)),[...Array("cosmic"===x.rarity?5:3)].map((e,t)=>(0,o.jsx)(rG.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1.5+.5*t,2+.5*t],opacity:[0,.8,0],rotate:[0,t%2==0?180:-180,t%2==0?360:-360]},transition:{duration:2,delay:.3+.2*t,repeat:1/0},className:"absolute w-64 h-64 rounded-full border-4",style:{borderColor:"cosmic"===x.rarity?t%2==0?R.cosmic:"#FFD700":R.legendary}},`ring-${t}`)),(0,o.jsxs)(rG.div,{initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},transition:{type:"spring",delay:.5,duration:1.5},className:"relative z-10 text-center",children:[(0,o.jsx)(rG.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,type:"spring"},className:"text-6xl mb-4",children:"<"}),(0,o.jsx)(rG.div,{animate:{scale:[1,1.1,1],boxShadow:[`0 0 60px ${R.legendary}`,`0 0 120px ${R.legendary}`,`0 0 60px ${R.legendary}`]},transition:{duration:1,repeat:1/0},className:"w-48 h-48 mx-auto rounded-3xl flex items-center justify-center text-8xl mb-6",style:{backgroundColor:`${x.color}60`,border:`4px solid ${R.legendary}`},children:x.emoji}),(0,o.jsxs)(rG.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.2},children:[(0,o.jsx)(rG.p,{animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},className:"text-4xl font-bold mb-2",style:{color:R.legendary,textShadow:`0 0 30px ${R.legendary}`},children:"LEGENDARY!!!"}),(0,o.jsx)("p",{className:"text-3xl font-bold text-white mb-2",children:x.name}),(0,o.jsx)("p",{className:"text-lg text-white/70",children:x.description})]}),[...Array(12)].map((e,t)=>(0,o.jsx)(rG.div,{animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,delay:.15*t,repeat:1/0},className:"absolute w-4 h-4",style:{top:`${50+45*Math.sin(t*Math.PI*2/12)}%`,left:`${50+45*Math.cos(t*Math.PI*2/12)}%`,transform:"translate(-50%, -50%)"},children:(0,o.jsx)("svg",{viewBox:"0 0 24 24",fill:R.legendary,children:(0,o.jsx)("polygon",{points:"12,0 15,9 24,12 15,15 12,24 9,15 0,12 9,9"})})},`sparkle-${t}`))]})]},"legendary"),("revealing"===n||"result"===n)&&c.length>0&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full max-w-lg px-2",children:[(0,o.jsx)(rG.h2,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-2xl font-bold text-foreground text-center mb-6",children:"ç²å¾—ã—ãŸæ¯›æ ¹ï¼"}),1===c.length&&(0,o.jsxs)(rG.div,{initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},transition:{type:"spring",duration:.8},className:"relative mb-6 cursor-pointer",onClick:()=>b(c[0]),children:[(0,o.jsxs)("div",{className:"rounded-2xl p-8 border-4 text-center mx-auto max-w-xs hover:scale-105 transition-transform",style:{borderColor:R[c[0].rarity],backgroundColor:`${R[c[0].rarity]}20`,boxShadow:`0 0 40px ${R[c[0].rarity]}40`},children:[(0,o.jsx)("div",{className:"w-32 h-32 mx-auto rounded-2xl flex items-center justify-center mb-4 text-6xl",style:{backgroundColor:`${c[0].color}40`},children:c[0].emoji}),(0,o.jsx)("p",{className:"font-bold text-2xl mb-1",style:{color:R[c[0].rarity]},children:c[0].name}),c[0].element&&(0,o.jsxs)("span",{className:"inline-block px-2 py-0.5 rounded-full text-[10px] font-bold text-white mb-1",style:{backgroundColor:T[c[0].element]},children:[S[c[0].element],"å±žæ€§"]}),(0,o.jsx)("p",{className:"text-sm font-medium",style:{color:R[c[0].rarity]},children:A[c[0].rarity]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:c[0].description}),(0,o.jsx)("p",{className:"text-xs text-primary mt-3",children:"ã‚¿ãƒƒãƒ—ã§è©³ç´°ã‚’è¦‹ã‚‹"})]}),["rare","epic","legendary"].includes(c[0].rarity)&&(0,o.jsx)(rG.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((e,t)=>(0,o.jsx)(rG.div,{animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,delay:.2*t,repeat:1/0},className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:R[c[0].rarity],top:`${50+48*Math.sin(t*Math.PI*2/8)}%`,left:`${50+48*Math.cos(t*Math.PI*2/8)}%`,transform:"translate(-50%, -50%)"}},t))})]}),c.length>1&&(0,o.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-6",children:c.map((e,t)=>(0,o.jsxs)(rG.div,{initial:{scale:0,rotateY:180},animate:t<u?{scale:1,rotateY:0}:{scale:.5,rotateY:180},transition:{type:"spring",delay:.08*t},className:"relative cursor-pointer",onClick:()=>t<u&&b(e),children:[(0,o.jsxs)("div",{className:"rounded-lg p-2 border-2 text-center aspect-square flex flex-col items-center justify-center",style:{borderColor:R[e.rarity],backgroundColor:`${R[e.rarity]}15`},children:[(0,o.jsxs)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mb-1 text-xl relative",style:{backgroundColor:`${e.color}30`},children:[e.emoji,e.element&&(0,o.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full text-[6px] flex items-center justify-center text-white font-bold",style:{backgroundColor:T[e.element]},children:S[e.element][0]})]}),(0,o.jsx)("p",{className:"font-bold text-[10px] leading-tight line-clamp-1",style:{color:R[e.rarity]},children:e.name})]}),["rare","epic","legendary"].includes(e.rarity)&&t<u&&(0,o.jsx)(rG.div,{initial:{scale:0},animate:{scale:[0,1.5,0]},transition:{duration:.5},className:"absolute -top-1 -right-1 w-4 h-4 rounded-full",style:{backgroundColor:R[e.rarity]}})]},`${e.id}-${t}`))}),c.length>1&&"result"===n&&(0,o.jsxs)(rG.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card rounded-xl p-4 mb-4 border border-border",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-2",children:"ç²å¾—çµæžœã‚µãƒžãƒªãƒ¼"}),(0,o.jsx)("div",{className:"flex justify-around text-xs",children:["common","uncommon","rare","epic","legendary"].map(e=>{let t=c.filter(t=>t.rarity===e).length;return(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 rounded-full mx-auto mb-1",style:{backgroundColor:t>0?R[e]:"#333"}}),(0,o.jsx)("p",{className:"font-bold",style:{color:t>0?R[e]:"#666"},children:t})]},e)})})]}),"result"===n&&(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex gap-4",children:[(0,o.jsx)(nz,{onClick:()=>{d("idle"),m([]),h(0),g(null)},variant:"outline",className:"flex-1 bg-transparent",children:"é–‰ã˜ã‚‹"}),(0,o.jsx)(nz,{onClick:()=>N(1===c.length?"single":"ten"),disabled:1===c.length?t<10:t<100,className:"flex-1 bg-primary hover:bg-primary/90",children:"ã‚‚ã†ä¸€åº¦ï¼"})]})]},"result")]}),(0,o.jsxs)(C,{children:[y&&(0,o.jsx)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>b(null),children:(0,o.jsxs)(rG.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},onClick:e=>e.stopPropagation(),className:"bg-card rounded-2xl max-w-sm w-full border-2 flex flex-col",style:{borderColor:R[y.rarity],maxHeight:"80vh"},children:[(0,o.jsxs)("div",{className:"flex justify-between items-start p-6 pb-4 flex-shrink-0",children:[(0,o.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-bold text-white",style:{backgroundColor:R[y.rarity]},children:A[y.rarity]}),(0,o.jsx)(nz,{variant:"ghost",size:"sm",onClick:()=>b(null),children:"é–‰ã˜ã‚‹"})]}),(0,o.jsxs)("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 pb-6",children:[(0,o.jsx)("div",{className:"w-24 h-24 rounded-2xl mx-auto mb-4 flex items-center justify-center text-5xl",style:{backgroundColor:`${y.color}30`},children:y.emoji}),(0,o.jsx)("h2",{className:"text-xl font-bold text-foreground text-center mb-1",children:y.name}),y.element&&(0,o.jsx)("div",{className:"flex justify-center mb-2",children:(0,o.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white",style:{backgroundColor:T[y.element]},children:[S[y.element],"å±žæ€§"]})}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground text-center mb-4",children:y.description}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),(0,o.jsx)("div",{className:"space-y-2",children:[{label:"ãƒ‘ãƒ¯ãƒ¼",value:y.power,color:"#EF4444"},{label:"ã‚¹ãƒ”ãƒ¼ãƒ‰",value:y.speed,color:"#3B82F6"},{label:"ã‚°ãƒªãƒƒãƒ—",value:y.grip,color:"#10B981"}].map(e=>(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("span",{className:"text-xs text-muted-foreground w-16",children:e.label}),(0,o.jsx)("div",{className:"flex-1 h-2 bg-background rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:"h-full transition-all",style:{width:`${Math.min(e.value/80*100,100)}%`,backgroundColor:e.color}})}),(0,o.jsx)("span",{className:"text-xs font-bold w-8 text-right",children:e.value})]},e.label))})]}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"ã‚¹ã‚­ãƒ«"}),(0,o.jsx)("div",{className:"space-y-2",children:y.skills.map(e=>(0,o.jsxs)("div",{className:"bg-background rounded-lg p-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,o.jsx)("span",{className:"font-medium text-foreground text-sm",children:e.name}),(0,o.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-primary/20 text-primary",children:"attack"===e.type?"æ”»æ’ƒ":"defense"===e.type?"é˜²å¾¡":"ç‰¹æ®Š"})]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:e.description}),(0,o.jsxs)("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[e.damage>0&&(0,o.jsxs)("span",{children:["å¨åŠ›: ",e.damage]}),(0,o.jsxs)("span",{children:["CT: ",e.cooldown,"ã‚¿ãƒ¼ãƒ³"]})]})]},e.id))})]}),(0,o.jsx)(nz,{className:"w-full bg-primary hover:bg-primary/90",onClick:()=>{s(y),b(null)},children:r?.id===y.id?"é¸æŠžä¸­":"ã“ã®æ¯›æ ¹ã‚’é¸æŠž"})]})]})}),v&&(0,o.jsx)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:()=>j(null),children:(0,o.jsxs)(rG.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"w-full max-w-sm bg-card rounded-2xl p-6 border-2 max-h-[85vh] overflow-y-auto",style:{borderColor:R[v.rarity]},children:[(0,o.jsxs)("div",{className:"text-center mb-4 p-4 rounded-xl",style:{background:`linear-gradient(135deg, ${R[v.rarity]}20, ${R[v.rarity]}40)`},children:[(0,o.jsx)("div",{className:"text-6xl mb-2",children:v.emoji}),(0,o.jsx)("h2",{className:"text-xl font-bold text-foreground",children:v.name}),v.element&&(0,o.jsx)("div",{className:"flex justify-center my-2",children:(0,o.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white",style:{backgroundColor:T[v.element]},children:[S[v.element],"å±žæ€§"]})}),(0,o.jsx)("p",{className:"text-sm font-medium",style:{color:R[v.rarity]},children:A[v.rarity]})]}),(0,o.jsx)("p",{className:"text-muted-foreground text-sm text-center mb-4",children:v.description}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),(0,o.jsx)("div",{className:"space-y-2",children:[{label:"ãƒ‘ãƒ¯ãƒ¼",value:v.power,max:100,color:"#EF4444"},{label:"ã‚¹ãƒ”ãƒ¼ãƒ‰",value:v.speed,max:100,color:"#3B82F6"},{label:"ã‚°ãƒªãƒƒãƒ—",value:v.grip,max:100,color:"#22C55E"}].map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,o.jsx)("span",{className:"text-muted-foreground",children:e.label}),(0,o.jsx)("span",{className:"font-bold",style:{color:e.color},children:e.value})]}),(0,o.jsx)("div",{className:"h-2 bg-background rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:"h-full rounded-full",style:{width:`${e.value/e.max*100}%`,backgroundColor:e.color}})})]},e.label))})]}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"ã‚¹ã‚­ãƒ«"}),(0,o.jsx)("div",{className:"space-y-2",children:v.skills.map(e=>(0,o.jsxs)("div",{className:"bg-background rounded-lg p-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,o.jsx)("span",{className:"font-medium text-foreground text-sm",children:e.name}),(0,o.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-primary/20 text-primary",children:"attack"===e.type?"æ”»æ’ƒ":"defense"===e.type?"é˜²å¾¡":"ç‰¹æ®Š"})]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:e.description}),(0,o.jsxs)("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[e.damage>0&&(0,o.jsxs)("span",{children:["å¨åŠ›: ",e.damage]}),(0,o.jsxs)("span",{children:["CT: ",e.cooldown,"ã‚¿ãƒ¼ãƒ³"]})]})]},e.id))})]}),(0,o.jsx)(nz,{className:"w-full bg-transparent hover:bg-muted border border-border",variant:"outline",onClick:()=>j(null),children:"é–‰ã˜ã‚‹"})]})})]})]})]})}let nG=nY("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nZ=nY("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nQ=nY("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),nJ={cosmic:6,legendary:5,epic:4,rare:3,uncommon:2,common:1},n0=["all","common","uncommon","rare","epic","legendary","cosmic"];function n1({onNavigate:e}){let t,{collection:i,selectHairRoot:a,selectedHairRoot:s,evolveHairRoot:r,canEvolve:n}=Q(),[d,c]=(0,l.useState)("all"),[m,u]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1),[f,x]=(0,l.useState)(null),[g,y]=(0,l.useState)("id"),[b,v]=(0,l.useState)("asc"),j=new Set(i.map(e=>e.id)),w=e=>{g===e?v("asc"===b?"desc":"asc"):(y(e),v("asc"))},N=(0,l.useMemo)(()=>{let e=[...D.filter(e=>"all"===d||e.rarity===d)];return e.sort((e,t)=>{let a=i.find(t=>t.id===e.id),s=i.find(e=>e.id===t.id),r=0;return"id"===g?r=e.id-t.id:"level"===g?r=(a?.level||0)-(s?.level||0):"rarity"===g?r=nJ[e.rarity]-nJ[t.rarity]:"count"===g&&(r=(a?.count||0)-(s?.count||0)),"asc"===b?r:-r}),e},[d,i,g,b]),k={total:D.length,collected:i.length,byRarity:["common","uncommon","rare","epic","legendary","cosmic"].map(e=>({rarity:e,total:D.filter(t=>t.rarity===e).length,collected:i.filter(t=>t.rarity===e).length}))};return(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"æ¯›æ ¹ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³"}),(0,o.jsxs)("div",{className:"text-sm text-muted-foreground",children:[k.collected," / ",k.total]})]}),(0,o.jsxs)("div",{className:"p-4 bg-card border-b border-border",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("span",{className:"text-sm text-muted-foreground",children:"ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆé€²æ—"}),(0,o.jsxs)("span",{className:"text-sm font-bold text-foreground",children:[Math.round(k.collected/k.total*100),"%"]})]}),(0,o.jsx)("div",{className:"h-3 bg-muted rounded-full overflow-hidden mb-4",children:(0,o.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-secondary transition-all duration-500",style:{width:`${k.collected/k.total*100}%`}})}),(0,o.jsx)("div",{className:"grid grid-cols-6 gap-1.5",children:k.byRarity.map(({rarity:e,total:t,collected:i})=>(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"w-5 h-5 rounded-full mx-auto mb-1",style:{backgroundColor:R[e]}}),(0,o.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:[i,"/",t]})]},e))})]}),(0,o.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,o.jsxs)("div",{className:"flex gap-2 overflow-x-auto mb-2",children:[(0,o.jsx)(nQ,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),n0.map(e=>(0,o.jsx)(nz,{variant:d===e?"default":"outline",size:"sm",onClick:()=>c(e),className:"flex-shrink-0",style:d===e&&"all"!==e?{backgroundColor:R[e],borderColor:R[e]}:{},children:"all"===e?"ã™ã¹ã¦":A[e]},e))]}),(0,o.jsxs)("div",{className:"flex gap-1 justify-end",children:[(0,o.jsxs)(nz,{variant:"id"===g?"default":"outline",size:"sm",onClick:()=>w("id"),className:"text-xs h-7 px-2",children:["ID ","id"===g&&("asc"===b?"â†‘":"â†“")]}),(0,o.jsxs)(nz,{variant:"level"===g?"default":"outline",size:"sm",onClick:()=>w("level"),className:"text-xs h-7 px-2",children:["Lv ","level"===g&&("asc"===b?"â†‘":"â†“")]}),(0,o.jsxs)(nz,{variant:"rarity"===g?"default":"outline",size:"sm",onClick:()=>w("rarity"),className:"text-xs h-7 px-2",children:["ãƒ¬ã‚¢ ","rarity"===g&&("asc"===b?"â†‘":"â†“")]}),(0,o.jsxs)(nz,{variant:"count"===g?"default":"outline",size:"sm",onClick:()=>w("count"),className:"text-xs h-7 px-2",children:["æ‰€æŒ ","count"===g&&("asc"===b?"â†‘":"â†“")]})]})]}),(0,o.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,o.jsx)("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-3",children:N.map((e,t)=>{let a=i.find(t=>t.id===e.id),r=j.has(e.id);return(0,o.jsxs)(rG.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.02*t},onClick:()=>r&&a&&u(a),disabled:!r,className:`
                  relative aspect-square rounded-xl border-2 p-2 transition-all
                  ${r?"bg-card cursor-pointer hover:scale-105 active:scale-95":"bg-muted/50 cursor-not-allowed opacity-50"}
                `,style:{borderColor:r?R[e.rarity]:"transparent"},children:[(0,o.jsx)("div",{className:"absolute top-1 right-1 w-3 h-3 rounded-full",style:{backgroundColor:R[e.rarity]}}),(0,o.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-2xl md:text-3xl mb-1",children:e.emoji}),(0,o.jsx)("span",{className:"text-[10px] text-muted-foreground line-clamp-1",children:e.name}),a&&a.count>1&&(0,o.jsx)("span",{className:"absolute bottom-1 right-1 text-xs bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center",children:a.count})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-2xl text-muted-foreground",children:"?"}),(0,o.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"???"})]})}),s?.id===e.id&&(0,o.jsx)(rG.div,{layoutId:"selected-indicator",className:"absolute inset-0 border-4 border-accent rounded-xl pointer-events-none"})]},e.id)})})}),(0,o.jsx)(C,{children:m&&(0,o.jsx)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>u(null),children:(0,o.jsxs)(rG.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},onClick:e=>e.stopPropagation(),className:"bg-card rounded-2xl max-w-sm w-full border-2 flex flex-col",style:{borderColor:R[m.rarity],maxHeight:"85vh"},children:[(0,o.jsxs)("div",{className:"flex justify-between items-start p-6 pb-4 flex-shrink-0",children:[(0,o.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-bold text-white",style:{backgroundColor:R[m.rarity]},children:A[m.rarity]}),(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>u(null),children:(0,o.jsx)(nZ,{className:"w-5 h-5"})})]}),(0,o.jsxs)("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 pb-6",children:[(0,o.jsx)("div",{className:"w-24 h-24 rounded-2xl mx-auto mb-4 flex items-center justify-center text-5xl",style:{backgroundColor:`${m.color}30`},children:m.emoji}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-foreground text-center mb-1",children:m.name}),(t=m.element||D.find(e=>e.id===m.id)?.element)?(0,o.jsx)("div",{className:"flex justify-center mb-2",children:(0,o.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white",style:{backgroundColor:T[t]},children:[S[t],"å±žæ€§"]})}):null,(0,o.jsx)("p",{className:"text-center text-muted-foreground text-sm mb-4",children:m.description}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 mb-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsx)("span",{className:"text-sm text-muted-foreground",children:"ãƒ¬ãƒ™ãƒ«"}),(0,o.jsxs)("span",{className:"font-bold text-foreground",children:["Lv.",m.level]})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsx)("span",{className:"text-sm text-muted-foreground",children:"æ‰€æŒæ•°"}),(0,o.jsx)("span",{className:"font-bold text-foreground",children:m.count})]}),(0,o.jsx)("div",{className:"space-y-2 mt-4",children:["power","speed","grip"].map(e=>{let t=_(m);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,o.jsx)("span",{className:"text-muted-foreground",children:{power:"ãƒ‘ãƒ¯ãƒ¼",speed:"ã‚¹ãƒ”ãƒ¼ãƒ‰",grip:"ã‚°ãƒªãƒƒãƒ—"}[e]}),(0,o.jsx)("span",{className:"text-foreground font-medium",children:t[e]})]}),(0,o.jsx)("div",{className:"h-2 bg-background rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:`h-full ${{power:"bg-primary",speed:"bg-secondary",grip:"bg-accent"}[e]} transition-all duration-500`,style:{width:`${Math.min(t[e],100)}%`}})})]},e)})})]}),(m.evolutionBonus||m.skillBonus)&&(0,o.jsxs)("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-4 mb-4 border border-primary/20",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-2",children:"é€²åŒ–ãƒœãƒ¼ãƒŠã‚¹"}),(0,o.jsxs)("div",{className:"flex gap-4 text-xs",children:[m.evolutionBonus&&m.evolutionBonus>0&&(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("span",{className:"text-muted-foreground",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:"}),(0,o.jsxs)("span",{className:"text-primary font-bold",children:["+",5*m.evolutionBonus,"%"]})]}),m.skillBonus&&m.skillBonus>0&&(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("span",{className:"text-muted-foreground",children:"ã‚¹ã‚­ãƒ«å¨åŠ›:"}),(0,o.jsxs)("span",{className:"text-secondary font-bold",children:["+",10*m.skillBonus,"%"]})]})]})]}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"ã‚¹ã‚­ãƒ«"}),(0,o.jsx)("div",{className:"space-y-2",children:m.skills.map(e=>{let t=1+.1*(m.skillBonus||0),i=Math.floor(e.damage*t);return(0,o.jsxs)("div",{className:"bg-background rounded-lg p-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,o.jsx)("span",{className:"font-medium text-foreground text-sm",children:e.name}),(0,o.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-primary/20 text-primary",children:"attack"===e.type?"æ”»æ’ƒ":"defense"===e.type?"é˜²å¾¡":"ç‰¹æ®Š"})]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:e.description}),(0,o.jsxs)("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[e.damage>0&&(0,o.jsxs)("span",{children:["å¨åŠ›: ",i,m.skillBonus&&m.skillBonus>0&&(0,o.jsxs)("span",{className:"text-secondary ml-1",children:["(+",i-e.damage,")"]})]}),(0,o.jsxs)("span",{children:["CT: ",e.cooldown,"ã‚¿ãƒ¼ãƒ³"]})]})]},e.id)})})]}),D.find(e=>e.id===m.id)?.evolvesTo&&(0,o.jsxs)("div",{className:"bg-gradient-to-r from-secondary/20 to-primary/20 rounded-xl p-4 mb-4 border border-secondary/30",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-foreground",children:"é€²åŒ–"}),(0,o.jsxs)("span",{className:"text-xs text-muted-foreground",children:[m.count," / ",10]})]}),(0,o.jsx)("div",{className:"h-2 bg-background rounded-full overflow-hidden mb-3",children:(0,o.jsx)("div",{className:"h-full bg-gradient-to-r from-secondary to-primary transition-all",style:{width:`${Math.min(m.count/10*100,100)}%`}})}),n(m.id)?(0,o.jsx)(nz,{className:"w-full bg-gradient-to-r from-secondary to-primary hover:opacity-90",onClick:()=>{let e=r(m.id);e&&(x(e),p(!0),u(null))},children:"é€²åŒ–ã•ã›ã‚‹"}):(0,o.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["åŒã˜æ¯›æ ¹ã‚’",10,"å€‹é›†ã‚ã‚‹ã¨é€²åŒ–ã§ãã¾ã™"]})]}),(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)(nz,{variant:"outline",className:"flex-1 bg-transparent",onClick:()=>u(null),children:"é–‰ã˜ã‚‹"}),(0,o.jsx)(nz,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:()=>{a(m),u(null)},children:s?.id===m.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nG,{className:"w-4 h-4 mr-2"}),"é¸æŠžä¸­"]}):"é¸æŠžã™ã‚‹"})]})]})]})})}),(0,o.jsx)(C,{children:h&&f&&(0,o.jsx)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/95 backdrop-blur-md z-50 flex items-center justify-center p-4",children:(0,o.jsxs)(rG.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.8},className:"text-center",children:[(0,o.jsx)(rG.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-40 h-40 mx-auto mb-6 rounded-full flex items-center justify-center text-7xl",style:{backgroundColor:`${R[f.rarity]}30`,boxShadow:`0 0 60px ${R[f.rarity]}60`},children:f.emoji}),(0,o.jsx)(rG.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-3xl font-bold mb-2",style:{color:R[f.rarity]},children:"é€²åŒ–æˆåŠŸ!"}),(0,o.jsx)(rG.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"text-2xl font-bold text-foreground mb-2",children:f.name}),(0,o.jsx)(rG.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"text-sm mb-6",style:{color:R[f.rarity]},children:A[f.rarity]}),(0,o.jsx)(rG.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.2},children:(0,o.jsx)(nz,{onClick:()=>{p(!1),x(null)},className:"bg-primary hover:bg-primary/90 px-8",children:"OK"})})]})})})]})}let n2=nY("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),n5=nY("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),n4=nY("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),n3=nY("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),n6=[{id:1,name:"æ¯›æ ¹ãƒžã‚¹ã‚¿ãƒ¼",score:15420,wins:142,hairRootName:"ç¥žã®æ¯›æ ¹",emoji:"ðŸ‘‘"},{id:2,name:"è„±æ¯›çŽ‹",score:14230,wins:128,hairRootName:"ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«æ¯›æ ¹",emoji:"ðŸ•³ï¸"},{id:3,name:"æ ¹ã£ã“ãƒãƒ³ã‚¿ãƒ¼",score:12890,wins:115,hairRootName:"é³³å‡°æ¯›æ ¹",emoji:"ðŸ¦…"},{id:4,name:"æ¯›æ ¹ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼",score:11560,wins:98,hairRootName:"ãƒãƒ“ãƒ¥ãƒ©æ¯›æ ¹",emoji:"ðŸŒŒ"},{id:5,name:"å¼•ãæŠœãã®é”äºº",score:10340,wins:87,hairRootName:"ãƒ‰ãƒ©ã‚´ãƒ³æ¯›æ ¹",emoji:"ðŸ‰"},{id:6,name:"æ¯›ç©´æŽ¢æ¤œå®¶",score:9870,wins:82,hairRootName:"é‡‘ã®æ¯›æ ¹",emoji:"ðŸ¥‡"},{id:7,name:"è‚²æ¯›å‰¤",score:8920,wins:76,hairRootName:"ã‚¯ãƒªã‚¹ã‚¿ãƒ«æ¯›æ ¹",emoji:"ðŸ’Ž"},{id:8,name:"ãƒ•ã‚µãƒ•ã‚µè·äºº",score:8450,wins:71,hairRootName:"æ·±æµ·æ¯›æ ¹",emoji:"ðŸ™"},{id:9,name:"æ¯›æ ¹ãƒãƒˆãƒ©ãƒ¼",score:7890,wins:65,hairRootName:"ãƒ¡ã‚¿ãƒ«æ¯›æ ¹",emoji:"ðŸ”©"},{id:10,name:"ãƒ˜ã‚¢ãƒ«ãƒ¼ãƒˆä¾",score:7340,wins:58,hairRootName:"ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼æ¯›æ ¹",emoji:"ðŸŒˆ"}];function n8({onNavigate:e}){let{collection:t,selectedHairRoot:i}=Q(),a=(0,l.useMemo)(()=>10*t.reduce((e,t)=>{let i=_(t);return e+i.power+i.speed+i.grip},0),[t]),s=(0,l.useMemo)(()=>n6.filter(e=>e.score>a).length+1,[a]);return(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"ãƒ©ãƒ³ã‚­ãƒ³ã‚°"}),(0,o.jsx)(n2,{className:"w-6 h-6 text-secondary"})]}),(0,o.jsx)(rG.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"m-4 p-4 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-2xl border border-primary",children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-card rounded-xl flex items-center justify-center",children:i?(0,o.jsx)("span",{className:"text-3xl",children:i.emoji}):(0,o.jsx)("span",{className:"text-2xl text-muted-foreground",children:"?"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:"ã‚ãªãŸã®é †ä½"}),(0,o.jsxs)("p",{className:"text-3xl font-bold text-foreground",children:[s>100?"100+":s,"ä½"]})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:"ã‚¹ã‚³ã‚¢"}),(0,o.jsx)("p",{className:"text-xl font-bold text-secondary",children:a.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"px-4 mb-6",children:(0,o.jsxs)("div",{className:"flex items-end justify-center gap-2 h-48",children:[(0,o.jsxs)(rG.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"w-24 text-center",children:[(0,o.jsx)("div",{className:"w-16 h-16 mx-auto mb-2 rounded-full bg-gray-400/20 border-2 border-gray-400 flex items-center justify-center text-2xl",children:n6[1].emoji}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:n6[1].name}),(0,o.jsx)("div",{className:"h-24 bg-gradient-to-t from-gray-500 to-gray-400 rounded-t-lg mt-2 flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white font-bold text-2xl",children:"2"})})]}),(0,o.jsxs)(rG.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"w-28 text-center",children:[(0,o.jsx)(n3,{className:"w-8 h-8 mx-auto text-yellow-400 mb-1"}),(0,o.jsx)("div",{className:"w-20 h-20 mx-auto mb-2 rounded-full bg-yellow-500/20 border-2 border-yellow-500 flex items-center justify-center text-3xl",children:n6[0].emoji}),(0,o.jsx)("p",{className:"text-sm text-foreground font-medium truncate",children:n6[0].name}),(0,o.jsx)("div",{className:"h-32 bg-gradient-to-t from-yellow-600 to-yellow-400 rounded-t-lg mt-2 flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white font-bold text-3xl",children:"1"})})]}),(0,o.jsxs)(rG.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"w-24 text-center",children:[(0,o.jsx)("div",{className:"w-16 h-16 mx-auto mb-2 rounded-full bg-amber-600/20 border-2 border-amber-600 flex items-center justify-center text-2xl",children:n6[2].emoji}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:n6[2].name}),(0,o.jsx)("div",{className:"h-20 bg-gradient-to-t from-amber-700 to-amber-500 rounded-t-lg mt-2 flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white font-bold text-2xl",children:"3"})})]})]})}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:[(0,o.jsx)("h2",{className:"text-sm font-medium text-muted-foreground mb-3",children:"å…¨ä½“ãƒ©ãƒ³ã‚­ãƒ³ã‚°"}),(0,o.jsx)("div",{className:"space-y-2",children:n6.map((e,t)=>(0,o.jsxs)(rG.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1+.05*t},className:`flex items-center gap-3 p-3 rounded-xl border ${(e=>{switch(e){case 1:return"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border-yellow-500";case 2:return"bg-gradient-to-r from-gray-400/20 to-gray-300/20 border-gray-400";case 3:return"bg-gradient-to-r from-amber-600/20 to-orange-500/20 border-amber-600";default:return"bg-card border-border"}})(t+1)}`,children:[(e=>{switch(e){case 1:return(0,o.jsx)(n3,{className:"w-6 h-6 text-yellow-400"});case 2:return(0,o.jsx)(n5,{className:"w-6 h-6 text-gray-300"});case 3:return(0,o.jsx)(n4,{className:"w-6 h-6 text-amber-600"});default:return(0,o.jsx)("span",{className:"w-6 h-6 flex items-center justify-center text-muted-foreground font-bold",children:e})}})(t+1),(0,o.jsx)("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center text-xl",children:e.emoji}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"font-medium text-foreground truncate",children:e.name}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:e.hairRootName})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("p",{className:"font-bold text-foreground",children:e.score.toLocaleString()}),(0,o.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.wins,"å‹"]})]})]},e.id))})]})]})}let n9=nY("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),n7=nY("dumbbell",[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]]),oe=nY("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),ot=nY("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),oi=[{id:"light",name:"è»½ã„ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",exp:20,cost:5,icon:n9,color:"bg-accent"},{id:"normal",name:"é€šå¸¸ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",exp:50,cost:15,icon:n7,color:"bg-secondary"},{id:"intense",name:"ãƒãƒ¼ãƒ‰ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",exp:120,cost:40,icon:oe,color:"bg-primary"}],oa={cosmic:6,legendary:5,epic:4,rare:3,uncommon:2,common:1};function os({onNavigate:e}){let{collection:t,coins:i,trainHairRoot:a,selectHairRoot:s,selectedHairRoot:r,addCoins:n}=Q(),[d,c]=(0,l.useState)(r?.id??null),[m,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),[f,x]=(0,l.useState)(0),[g,y]=(0,l.useState)(null),[b,v]=(0,l.useState)("level"),[j,w]=(0,l.useState)("desc"),N=d?t.find(e=>e.id===d):null,k=(0,l.useMemo)(()=>{let e=[...t];return e.sort((e,t)=>{let i=0;return"level"===b?i=e.level-t.level:"rarity"===b?i=oa[e.rarity]-oa[t.rarity]:"count"===b&&(i=e.count-t.count),"asc"===j?i:-i}),e},[t,b,j]),E=e=>{b===e?w("asc"===j?"desc":"asc"):(v(e),w("desc"))},M=(0,l.useCallback)(async e=>{!N||i<e.cost||(x(N.level),u(!0),n(-e.cost),await new Promise(e=>setTimeout(e,1e3)),a(N.id,e.exp),u(!1))},[N,i,a,n]),S=(0,l.useCallback)(()=>{N&&f>0&&N.level>f&&(p(!0),setTimeout(()=>{p(!1),x(0)},2e3))},[N,f]);return N&&f>0&&N.level>f&&!h&&!m&&S(),(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"æ¯›æ ¹è‚²æˆ"}),(0,o.jsxs)("div",{className:"flex items-center gap-2 bg-card px-3 py-1.5 rounded-full border border-border",children:[(0,o.jsx)("span",{className:"text-sm",children:"ðŸª™"}),(0,o.jsx)("span",{className:"font-bold text-secondary text-sm",children:i.toLocaleString()})]})]}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[N?(0,o.jsxs)(rG.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"bg-card rounded-2xl p-6 mb-6 border-2",style:{borderColor:R[N.rarity]},children:[(0,o.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,o.jsx)(rG.div,{animate:m?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:.5,repeat:m?1/0:0},className:"w-20 h-20 rounded-xl flex items-center justify-center text-4xl",style:{backgroundColor:`${N.color}30`},children:N.emoji}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-foreground",children:N.name}),(0,o.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full text-white",style:{backgroundColor:R[N.rarity]},children:A[N.rarity]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("span",{className:"text-2xl font-bold text-secondary",children:["Lv.",N.level]}),N.level<10&&(0,o.jsx)("span",{className:"text-sm text-muted-foreground",children:"/ MAX 10"})]})]})]}),N.level<10&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,o.jsx)("span",{className:"text-muted-foreground",children:"çµŒé¨“å€¤"}),(0,o.jsxs)("span",{className:"text-foreground",children:[N.exp," / ",H[N.level]]})]}),(0,o.jsx)("div",{className:"h-4 bg-muted rounded-full overflow-hidden",children:(0,o.jsx)(rG.div,{className:"h-full bg-gradient-to-r from-secondary to-primary",animate:{width:`${N.exp/H[N.level]*100}%`},transition:{duration:.5}})})]}),N.level>=10&&(0,o.jsx)("div",{className:"bg-gradient-to-r from-primary/20 to-secondary/20 rounded-xl p-3 mb-4 text-center",children:(0,o.jsxs)("p",{className:"text-primary font-bold flex items-center justify-center gap-2",children:[(0,o.jsx)(oe,{className:"w-5 h-5"}),"æœ€å¤§ãƒ¬ãƒ™ãƒ«ã«åˆ°é”ï¼",(0,o.jsx)(oe,{className:"w-5 h-5"})]})}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["power","speed","grip"].map(e=>{let t=_(N);return(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-3 text-center",children:[(0,o.jsx)("span",{className:"text-2xl",children:{power:"ðŸ’ª",speed:"âš¡",grip:"ðŸ¤"}[e]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:{power:"ãƒ‘ãƒ¯ãƒ¼",speed:"ã‚¹ãƒ”ãƒ¼ãƒ‰",grip:"ã‚°ãƒªãƒƒãƒ—"}[e]}),(0,o.jsx)("p",{className:`text-lg font-bold ${{power:"text-primary",speed:"text-secondary",grip:"text-accent"}[e]}`,children:t[e]})]},e)})})]}):(0,o.jsxs)("div",{className:"bg-card rounded-2xl p-8 mb-6 text-center border border-border",children:[(0,o.jsx)("div",{className:"w-20 h-20 bg-muted rounded-full mx-auto mb-4 flex items-center justify-center text-3xl text-muted-foreground",children:"?"}),(0,o.jsx)("p",{className:"text-muted-foreground",children:"è‚²æˆã™ã‚‹æ¯›æ ¹ã‚’é¸æŠžã—ã¦ãã ã•ã„"})]}),N&&N.level<10&&(0,o.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,o.jsxs)("h3",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,o.jsx)(ot,{className:"w-4 h-4"}),"ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¡ãƒ‹ãƒ¥ãƒ¼"]}),oi.map(e=>{let t=e.icon,a=i>=e.cost;return(0,o.jsxs)(rG.button,{whileHover:{scale:a?1.02:1},whileTap:{scale:a?.98:1},onClick:()=>M(e),disabled:!a||m,className:`
                    w-full p-4 rounded-xl border transition-all flex items-center gap-4
                    ${a?"bg-card border-border hover:border-primary":"bg-muted/50 border-border opacity-50 cursor-not-allowed"}
                  `,children:[(0,o.jsx)("div",{className:`w-12 h-12 ${e.color} rounded-xl flex items-center justify-center`,children:(0,o.jsx)(t,{className:"w-6 h-6 text-white"})}),(0,o.jsxs)("div",{className:"flex-1 text-left",children:[(0,o.jsx)("p",{className:"font-medium text-foreground",children:e.name}),(0,o.jsxs)("p",{className:"text-sm text-muted-foreground",children:["+",e.exp," EXP"]})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("p",{className:"font-bold text-secondary",children:e.cost}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:"ã‚³ã‚¤ãƒ³"})]})]},e.id)})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsxs)("h3",{className:"text-sm font-medium text-muted-foreground",children:["æ¯›æ ¹ã‚’é¸æŠž (",t.length,"ä½“)"]}),(0,o.jsxs)("div",{className:"flex gap-1",children:[(0,o.jsxs)(nz,{variant:"level"===b?"default":"outline",size:"sm",onClick:()=>E("level"),className:"text-xs h-7 px-2",children:["Lv ","level"===b&&("asc"===j?"â†‘":"â†“")]}),(0,o.jsxs)(nz,{variant:"rarity"===b?"default":"outline",size:"sm",onClick:()=>E("rarity"),className:"text-xs h-7 px-2",children:["ãƒ¬ã‚¢ ","rarity"===b&&("asc"===j?"â†‘":"â†“")]}),(0,o.jsxs)(nz,{variant:"count"===b?"default":"outline",size:"sm",onClick:()=>E("count"),className:"text-xs h-7 px-2",children:["æ‰€æŒ ","count"===b&&("asc"===j?"â†‘":"â†“")]})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[k.map(e=>(0,o.jsxs)(rG.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{c(e.id),s(e)},className:`
                  relative aspect-square rounded-xl border-2 p-2 transition-all
                  ${d===e.id?"ring-2 ring-accent":""}
                `,style:{borderColor:R[e.rarity],backgroundColor:`${R[e.rarity]}10`},children:[(0,o.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,o.jsxs)("span",{className:"absolute bottom-1 right-1 text-xs bg-background/80 px-1 rounded",children:["Lv.",e.level]})]},e.id)),0===t.length&&(0,o.jsxs)("div",{className:"col-span-4 text-center py-8 text-muted-foreground",children:[(0,o.jsx)("p",{children:"ã¾ã æ¯›æ ¹ãŒã‚ã‚Šã¾ã›ã‚“"}),(0,o.jsx)(nz,{variant:"outline",size:"sm",className:"mt-2 bg-transparent",onClick:()=>e("gacha"),children:"ã‚¬ãƒãƒ£ã‚’å¼•ã"})]})]})]})]}),(0,o.jsx)(C,{children:h&&(0,o.jsx)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,o.jsxs)(rG.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"text-center",children:[(0,o.jsx)(rG.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5,repeat:1/0},className:"w-32 h-32 bg-gradient-to-r from-secondary to-primary rounded-full flex items-center justify-center mx-auto mb-4",children:(0,o.jsx)("span",{className:"text-5xl",children:"ðŸŽ‰"})}),(0,o.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"LEVEL UP!"}),(0,o.jsxs)("p",{className:"text-xl text-secondary",children:["Lv.",f," â†’ Lv.",N?.level]})]})})}),(0,o.jsx)(C,{children:m&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-40 flex items-center justify-center",children:[(0,o.jsx)(rG.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-20 h-20 border-4 border-primary border-t-transparent rounded-full"}),(0,o.jsx)("p",{className:"absolute mt-32 text-foreground font-bold",children:"ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ä¸­..."})]})})]})}let or=nY("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),on=nY("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),oo=nY("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),ol=[{name:"æ¯›æ ¹ãƒãƒ³ã‚¿ãƒ¼",level:5},{name:"è„±æ¯›ãƒžã‚¹ã‚¿ãƒ¼",level:8},{name:"ãƒ˜ã‚¢ãƒ«ãƒ¼ãƒˆä½¿ã„",level:3},{name:"æ¯›ç©´æŽ¢æ¤œå®¶",level:6},{name:"ãƒ•ã‚µãƒ•ã‚µè·äºº",level:7},{name:"å¼•ãæŠœãã®é”äºº",level:9},{name:"æ¯›æ ¹ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼",level:4},{name:"è‚²æ¯›ãƒãƒˆãƒ©ãƒ¼",level:2}];function od({onNavigate:e,onBattleStart:t}){let{selectedHairRoot:i,getBattleRank:a}=Q(),[s,r]=(0,l.useState)(!1),[n,d]=(0,l.useState)(null),[c,m]=(0,l.useState)(Math.floor(50*Math.random())+10),u=a(),h=U(u);(0,l.useEffect)(()=>{let e=setInterval(()=>{m(e=>Math.max(5,Math.min(100,e+(Math.floor(5*Math.random())-2))))},3e3);return()=>clearInterval(e)},[]);let p=(0,l.useCallback)(()=>{i&&(r(!0),d(null),setTimeout(()=>{let e=ol[Math.floor(Math.random()*ol.length)],t=[];D.forEach(e=>{"legend"===u.tier||"master"===u.tier?"epic"===e.rarity||"legendary"===e.rarity?t.push(e,e,e):"rare"===e.rarity?t.push(e,e):t.push(e):"diamond"===u.tier||"platinum"===u.tier?"rare"===e.rarity||"epic"===e.rarity?t.push(e,e,e):"uncommon"===e.rarity?t.push(e,e):t.push(e):"gold"===u.tier||"silver"===u.tier?"uncommon"===e.rarity||"rare"===e.rarity?t.push(e,e):t.push(e):"common"===e.rarity||"uncommon"===e.rarity?t.push(e,e,e):t.push(e)});let i=t[Math.floor(Math.random()*t.length)],a={...i,power:Math.floor(i.power*h),speed:Math.floor(i.speed*h),grip:Math.floor(i.grip*h)};d({name:e.name,hairRoot:a,rank:u.name}),r(!1)},2e3+3e3*Math.random()))},[i,u,h]),f=(0,l.useCallback)(()=>{r(!1),d(null)},[]),x=(0,l.useCallback)(()=>{n&&t(n)},[n,t]);return(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"å¯¾æˆ¦ãƒžãƒƒãƒãƒ³ã‚°"}),(0,o.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-1",children:[(0,o.jsx)(n2,{className:"w-4 h-4",style:{color:O(u.tier)}}),(0,o.jsx)("span",{className:"text-sm font-medium",style:{color:O(u.tier)},children:u.name}),(0,o.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["(",u.points," RP)"]})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-1 text-accent",children:[(0,o.jsx)(on,{className:"w-5 h-5"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:c})]})]}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[(0,o.jsxs)(rG.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"w-full max-w-sm mb-8",children:[(0,o.jsx)("h3",{className:"text-sm text-muted-foreground mb-2 text-center",children:"ã‚ãªãŸã®æ¯›æ ¹"}),i?(0,o.jsx)("div",{className:"bg-card rounded-2xl p-4 border-2",style:{borderColor:R[i.rarity]},children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-3xl",style:{backgroundColor:`${i.color}30`},children:i.emoji}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-bold text-foreground",children:i.name}),(0,o.jsxs)("p",{className:"text-sm",style:{color:R[i.rarity]},children:[A[i.rarity]," Lv.",i.level]}),(0,o.jsx)("div",{className:"flex gap-2 mt-1",children:["power","speed","grip"].map(e=>{let t=_(i);return(0,o.jsxs)("span",{className:"text-xs text-muted-foreground",children:[{power:"åŠ›",speed:"é€Ÿ",grip:"æ¡"}[e],":",t[e]]},e)})})]})]})}):(0,o.jsxs)("div",{className:"bg-card rounded-2xl p-6 border border-border text-center",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full mx-auto mb-3 flex items-center justify-center text-2xl text-muted-foreground",children:"?"}),(0,o.jsx)("p",{className:"text-muted-foreground mb-2",children:"æ¯›æ ¹ã‚’é¸æŠžã—ã¦ãã ã•ã„"}),(0,o.jsx)(nz,{variant:"outline",size:"sm",onClick:()=>e("collection"),children:"é¸æŠžã™ã‚‹"})]})]}),(0,o.jsx)(C,{mode:"wait",children:s?(0,o.jsxs)(rG.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"relative mb-8",children:[(0,o.jsx)(rG.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-24 h-24 rounded-full border-4 border-primary border-t-transparent"}),(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,o.jsx)(or,{className:"w-8 h-8 text-primary"})}),(0,o.jsx)(rG.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 rounded-full border-2 border-primary"})]},"searching"):n?(0,o.jsx)(rG.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"w-20 h-20 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mb-8",children:(0,o.jsx)("span",{className:"text-2xl font-black text-white",children:"VS"})},"vs"):(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 mb-8 text-muted-foreground",children:[(0,o.jsx)(oo,{className:"w-5 h-5"}),(0,o.jsx)("span",{children:"å¯¾æˆ¦ç›¸æ‰‹ã‚’æŽ¢ã—ã¦ã„ã¾ã™..."})]},"ready")}),(0,o.jsxs)(rG.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},className:"w-full max-w-sm mb-8",children:[(0,o.jsx)("h3",{className:"text-sm text-muted-foreground mb-2 text-center",children:"å¯¾æˆ¦ç›¸æ‰‹"}),(0,o.jsx)(C,{mode:"wait",children:n?(0,o.jsx)(rG.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-card rounded-2xl p-4 border-2",style:{borderColor:R[n.hairRoot.rarity]},children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-3xl",style:{backgroundColor:`${n.hairRoot.color}30`},children:n.hairRoot.emoji}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-bold text-foreground",children:n.name}),(0,o.jsx)("p",{className:"text-sm",style:{color:R[n.hairRoot.rarity]},children:n.hairRoot.name}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:A[n.hairRoot.rarity]})]})]})},"opponent"):(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-card rounded-2xl p-6 border border-dashed border-border text-center",children:[(0,o.jsx)(rG.div,{animate:{opacity:[.3,1,.3]},transition:{duration:2,repeat:1/0},className:"w-16 h-16 bg-muted rounded-full mx-auto mb-3 flex items-center justify-center",children:(0,o.jsx)(or,{className:"w-8 h-8 text-muted-foreground"})}),(0,o.jsx)("p",{className:"text-muted-foreground",children:s?"ãƒžãƒƒãƒãƒ³ã‚°ä¸­...":"å¯¾æˆ¦ç›¸æ‰‹ã‚’æ¤œç´¢"})]},"waiting")})]}),(0,o.jsxs)("div",{className:"w-full max-w-sm space-y-3",children:[!s&&!n&&(0,o.jsxs)(nz,{onClick:p,disabled:!i,className:"w-full h-14 text-lg bg-primary hover:bg-primary/90",children:[(0,o.jsx)(or,{className:"w-5 h-5 mr-2"}),"å¯¾æˆ¦ç›¸æ‰‹ã‚’æŽ¢ã™"]}),s&&(0,o.jsxs)(nz,{onClick:f,variant:"outline",className:"w-full h-14 text-lg bg-transparent",children:[(0,o.jsx)(nZ,{className:"w-5 h-5 mr-2"}),"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"]}),n&&(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)(nz,{onClick:f,variant:"outline",className:"flex-1 h-14 bg-transparent",children:"ã‚„ã‚ã‚‹"}),(0,o.jsx)(nz,{onClick:x,className:"flex-1 h-14 text-lg bg-gradient-to-r from-primary to-secondary hover:opacity-90",children:"ãƒãƒˆãƒ«é–‹å§‹ï¼"})]})]}),(0,o.jsxs)(rG.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"mt-8 text-center text-sm text-muted-foreground max-w-xs",children:[(0,o.jsx)("p",{children:"æ¯›æ ¹ã‚’çµ¡ã‚åˆã£ã¦å¼•ã£å¼µã‚Šåˆã†å¯¾æˆ¦ï¼"}),(0,o.jsx)("p",{children:"ãƒ‘ãƒ¯ãƒ¼ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒ»ã‚°ãƒªãƒƒãƒ—ã®ãƒãƒ©ãƒ³ã‚¹ãŒå‹æ•—ã‚’æ±ºã‚ã‚‹ï¼"})]})]})]})}function oc({onNavigate:e,opponent:t}){let{selectedHairRoot:i,addCoins:a,getBattleRank:s,updateBattleRank:r}=Q(),[n,d]=(0,l.useState)("intro"),[c,m]=(0,l.useState)(0),[u,h]=(0,l.useState)(0),[p,f]=(0,l.useState)(null),[x,g]=(0,l.useState)(0),[y,b]=(0,l.useState)(50),[v,j]=(0,l.useState)(null),w=(0,l.useRef)(0),N=(0,l.useRef)(null),k=s(),E=i?_(i):{power:0,speed:0,grip:0},M=t?.hairRoot?{power:t.hairRoot.power,speed:t.hairRoot.speed,grip:t.hairRoot.grip}:{power:0,speed:0,grip:0},P=i?.element,A=t?.hairRoot?.element,D=P&&A?$(P,A):1;(0,l.useEffect)(()=>{if(!i||!t)return void e("matchmaking");let a=setTimeout(()=>{d("tangling")},2e3);return()=>clearTimeout(a)},[i,t,e]),(0,l.useEffect)(()=>{if("tangling"!==n)return;let e=setInterval(()=>{g(t=>t>=100?(clearInterval(e),d("pulling"),100):t+5)},100);return()=>clearInterval(e)},[n]),(0,l.useEffect)(()=>{if("pulling"!==n)return;let e=setInterval(()=>{let e=.5+Math.random()*(M.speed/100);b(t=>Math.max(0,Math.min(100,t-e)))},100);return N.current=setTimeout(()=>{clearInterval(e),F()},1e4),()=>{clearInterval(e),N.current&&clearTimeout(N.current)}},[n,M.speed]);let V=(0,l.useCallback)(()=>{if("pulling"!==n)return;w.current+=1;let e=(.8+E.speed/100*.5+E.grip/100*.3)*D;b(t=>Math.max(0,Math.min(100,t+e))),m(e=>e+1)},[n,E.speed,E.grip]),F=(0,l.useCallback)(()=>{let e,t=E.power+E.speed+E.grip+w.current,i=M.power+M.speed+M.grip+Math.floor(50*Math.random());y>55?(e="win",a(50)):y<45?(e="lose",a(10)):t>i?(e="win",a(50)):t<i?(e="lose",a(10)):(e="draw",a(20)),"draw"!==e&&j(r("win"===e)),f(e),d("result")},[y,E,M,a,r]);return i&&t?(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col overflow-hidden",children:[(0,o.jsxs)("div",{className:"flex-1 relative",children:[(0,o.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,o.jsx)(rG.div,{animate:{background:["radial-gradient(circle at 30% 30%, hsl(var(--primary) / 0.2) 0%, transparent 50%)","radial-gradient(circle at 70% 70%, hsl(var(--secondary) / 0.2) 0%, transparent 50%)","radial-gradient(circle at 30% 30%, hsl(var(--primary) / 0.2) 0%, transparent 50%)"]},transition:{duration:3,repeat:1/0},className:"absolute inset-0"})}),(0,o.jsx)(rG.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},className:"absolute left-4 top-1/4 transform -translate-y-1/2",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)(rG.div,{animate:"pulling"===n?{x:[0,5,-5,0],rotate:[0,5,-5,0]}:{},transition:{duration:.2,repeat:"pulling"===n?1/0:0},className:"w-20 h-20 md:w-24 md:h-24 rounded-xl flex items-center justify-center text-4xl md:text-5xl mb-2 relative",style:{backgroundColor:`${i.color}30`,borderColor:R[i.rarity],borderWidth:3},children:[i.emoji,P&&(0,o.jsx)("span",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full text-[10px] flex items-center justify-center text-white font-bold",style:{backgroundColor:T[P]},children:S[P][0]})]}),(0,o.jsx)("p",{className:"text-sm font-medium text-foreground",children:"ã‚ãªãŸ"}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:i.name}),P&&(0,o.jsxs)("p",{className:"text-[10px] mt-1 px-2 py-0.5 rounded-full text-white",style:{backgroundColor:T[P]},children:[S[P],"å±žæ€§"]})]})}),(0,o.jsx)(rG.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},className:"absolute right-4 top-1/4 transform -translate-y-1/2",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)(rG.div,{animate:"pulling"===n?{x:[0,-5,5,0],rotate:[0,-5,5,0]}:{},transition:{duration:.2,repeat:"pulling"===n?1/0:0},className:"w-20 h-20 md:w-24 md:h-24 rounded-xl flex items-center justify-center text-4xl md:text-5xl mb-2 relative",style:{backgroundColor:`${t.hairRoot.color}30`,borderColor:R[t.hairRoot.rarity],borderWidth:3},children:[t.hairRoot.emoji,A&&(0,o.jsx)("span",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full text-[10px] flex items-center justify-center text-white font-bold",style:{backgroundColor:T[A]},children:S[A][0]})]}),(0,o.jsx)("p",{className:"text-sm font-medium text-foreground",children:t.name}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:t.hairRoot.name}),A&&(0,o.jsxs)("p",{className:"text-[10px] mt-1 px-2 py-0.5 rounded-full text-white",style:{backgroundColor:T[A]},children:[S[A],"å±žæ€§"]})]})}),(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,o.jsxs)("svg",{viewBox:"0 0 300 200",className:"w-64 h-48",children:[(0,o.jsx)(rG.path,{d:`M50,100 Q${100+.5*x},${80+20*Math.sin(.1*x)} 150,100`,fill:"none",stroke:i.color,strokeWidth:"4",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:+("intro"!==n)},transition:{duration:1}}),(0,o.jsx)(rG.path,{d:`M250,100 Q${200-.5*x},${120-20*Math.sin(.1*x)} 150,100`,fill:"none",stroke:t.hairRoot.color,strokeWidth:"4",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:+("intro"!==n)},transition:{duration:1}}),"intro"!==n&&(0,o.jsx)(rG.circle,{cx:"150",cy:"100",r:5+.1*x,fill:"none",stroke:"hsl(var(--primary))",strokeWidth:"2",initial:{scale:0},animate:{scale:1}})]})}),(0,o.jsxs)(C,{mode:"wait",children:["intro"===n&&(0,o.jsx)(rG.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0,opacity:0},className:"absolute inset-0 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"bg-card/90 backdrop-blur-sm rounded-2xl p-8 text-center",children:[(0,o.jsx)(rG.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"text-6xl mb-4",children:"VS"}),(0,o.jsx)("p",{className:"text-xl font-bold text-foreground",children:"æ¯›æ ¹ãƒãƒˆãƒ«é–‹å§‹ï¼"})]})},"intro"),"tangling"===n&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute bottom-32 left-0 right-0 text-center",children:[(0,o.jsx)("p",{className:"text-lg font-bold text-foreground mb-2",children:"æ¯›æ ¹ãŒçµ¡ã¾ã£ã¦ã„ã¾ã™..."}),(0,o.jsx)("div",{className:"w-48 h-3 bg-muted rounded-full mx-auto overflow-hidden",children:(0,o.jsx)(rG.div,{className:"h-full bg-gradient-to-r from-primary to-secondary",style:{width:`${x}%`}})})]},"tangling"),"pulling"===n&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute bottom-24 left-0 right-0 px-4",children:[(0,o.jsx)("p",{className:"text-center text-lg font-bold text-foreground mb-4",children:"é€£æ‰“ã—ã¦å¼•ã£å¼µã‚Œï¼"}),(0,o.jsxs)("div",{className:"relative h-8 bg-muted rounded-full overflow-hidden mb-4",children:[(0,o.jsxs)("div",{className:"absolute inset-0 flex",children:[(0,o.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 transition-all duration-100",style:{width:`${y}%`}}),(0,o.jsx)("div",{className:"h-full bg-gradient-to-r from-red-400 to-red-500 flex-1"})]}),(0,o.jsx)(rG.div,{className:"absolute top-0 bottom-0 w-2 bg-white shadow-lg",style:{left:`${y}%`,transform:"translateX(-50%)"}}),(0,o.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-6 bg-white/50"})]}),(0,o.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,o.jsx)("span",{className:"text-blue-400",children:"ã‚ãªãŸ"}),(0,o.jsx)("span",{className:"text-red-400",children:t.name})]})]},"pulling"),"result"===n&&(0,o.jsx)(rG.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)(rG.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:`text-6xl mb-4 ${"win"===p?"text-secondary":"lose"===p?"text-primary":"text-muted-foreground"}`,children:["win"===p&&"ðŸŽ‰","lose"===p&&"ðŸ˜¢","draw"===p&&"ðŸ¤"]}),(0,o.jsxs)(rG.h2,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:`text-4xl font-black mb-2 ${"win"===p?"text-secondary":"lose"===p?"text-primary":"text-muted-foreground"}`,children:["win"===p&&"å‹åˆ©ï¼","lose"===p&&"æ•—åŒ—...","draw"===p&&"å¼•ãåˆ†ã‘"]}),(0,o.jsxs)(rG.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-muted-foreground mb-2",children:["ç²å¾—ã‚³ã‚¤ãƒ³: ","win"===p?50:"draw"===p?20:10]}),null!==v&&(0,o.jsxs)(rG.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9},className:"mb-4",children:[(0,o.jsx)("span",{className:"text-lg font-bold",style:{color:O(k.tier)},children:k.name}),(0,o.jsxs)("span",{className:`ml-2 font-medium ${v>=0?"text-green-500":"text-red-500"}`,children:[v>=0?"+":"",v," RP"]})]}),(0,o.jsxs)(rG.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex gap-4 justify-center",children:[(0,o.jsx)(nz,{variant:"outline",onClick:()=>e("home"),children:"ãƒ›ãƒ¼ãƒ ã¸"}),(0,o.jsx)(nz,{className:"bg-primary hover:bg-primary/90",onClick:()=>e("matchmaking"),children:"ã‚‚ã†ä¸€åº¦"})]})]})},"result")]})]}),"pulling"===n&&(0,o.jsx)(rG.button,{initial:{y:100},animate:{y:0},whileTap:{scale:.95},onClick:V,className:"h-32 bg-gradient-to-t from-primary to-primary/80 flex items-center justify-center active:from-primary/80",children:(0,o.jsx)(rG.span,{animate:{scale:[1,1.1,1]},transition:{duration:.5,repeat:1/0},className:"text-2xl font-bold text-primary-foreground",children:"ã‚¿ãƒƒãƒ—ï¼ã‚¿ãƒƒãƒ—ï¼ã‚¿ãƒƒãƒ—ï¼"})})]}):null}let om=nY("swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),ou=nY("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),oh=["æ¯›æ ¹ãƒžã‚¹ã‚¿ãƒ¼","ãƒ˜ã‚¢ãƒãƒ³ã‚¿ãƒ¼","ãƒ«ãƒ¼ãƒˆã‚­ãƒ³ã‚°","ãƒ•ã‚©ãƒªã‚¯ãƒ«çŽ‹å­","æŠœã‘æ¯›æˆ¦å£«","æ¯›æ¯ç´°èƒžZ","ã‚±ãƒ©ãƒãƒ³ç•ªé•·"];function op({onNavigate:e}){let{selectedHairRoot:t,addCoins:i,getRoyaleRank:a,updateRoyaleRank:s}=Q(),[r,n]=(0,l.useState)("waiting"),[d,c]=(0,l.useState)([]),[m,u]=(0,l.useState)(1),[h,p]=(0,l.useState)(null),[f,x]=(0,l.useState)(null),[g,y]=(0,l.useState)([]),[b,v]=(0,l.useState)([]),[j,w]=(0,l.useState)(null),[N,k]=(0,l.useState)(0),[E,M]=(0,l.useState)(null),[$,A]=(0,l.useState)(!1),V=(0,l.useRef)(null);(0,l.useRef)(!1);let F=a();(0,l.useEffect)(()=>{V.current&&(V.current.scrollTop=V.current.scrollHeight)},[b]);let L=U(F),B=d.find(e=>!e.isNpc);d.filter(e=>!e.isEliminated);let H=(0,l.useCallback)(()=>{if(!t)return;let e=_(t),i=100+e.power+e.grip;c([{id:0,name:"ã‚ãªãŸ",hairRoot:t,hp:i,maxHp:i,prevHp:i,isNpc:!1,isEliminated:!1,cooldowns:{},statusEffects:[],buffedStats:{power:0,speed:0,grip:0}},...Array.from({length:7},(e,t)=>{var i;let a,s,r,n,o;return i=F.tier,a=[],D.forEach(e=>{"legend"===i||"master"===i?"epic"===e.rarity||"legendary"===e.rarity?a.push(e,e,e):"rare"===e.rarity?a.push(e,e):a.push(e):"diamond"===i||"platinum"===i?"rare"===e.rarity||"epic"===e.rarity?a.push(e,e,e):"uncommon"===e.rarity?a.push(e,e):a.push(e):"gold"===i||"silver"===i?"uncommon"===e.rarity||"rare"===e.rarity?a.push(e,e):a.push(e):"common"===e.rarity||"uncommon"===e.rarity?a.push(e,e,e):a.push(e)}),o=Math.floor((100+(n=_({...r={...s=a[Math.floor(Math.random()*a.length)],power:Math.floor(s.power*L),speed:Math.floor(s.speed*L),grip:Math.floor(s.grip*L)},level:Math.floor(5*Math.random())+1,exp:0,count:1})).power+n.grip)*L),{id:t+100,name:oh[t%oh.length],hairRoot:r,hp:o,maxHp:o,prevHp:o,isNpc:!0,isEliminated:!1,cooldowns:{},statusEffects:[],buffedStats:{power:0,speed:0,grip:0}}})]),n("selecting"),A(!1),u(1),v(["ãƒãƒˆãƒ«ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«é–‹å§‹!"])},[t]),I=(0,l.useCallback)(()=>{if(h&&B&&"selecting"===r&&!$){if(A(!0),B.statusEffects.some(e=>"stun"===e.type)){v(e=>[...e,"ã‚ãªãŸã¯è¡Œå‹•ä¸èƒ½!"]),n("action"),setTimeout(()=>{c(e=>{let t=[...e],i=t.filter(e=>!e.isEliminated);return i.forEach(e=>{if(e.isNpc&&!e.isEliminated){let t=i.filter(t=>t.id!==e.id&&!t.isEliminated);if(0===t.length)return;let a=t[Math.floor(Math.random()*t.length)],s=e.hairRoot.skills[Math.floor(2*Math.random())];if("attack"===s.type&&s.damage>0){let t=Math.floor(s.damage*(.8+.4*Math.random()));a.hp=Math.max(0,a.hp-t),v(i=>[...i,`${e.name}ã®${s.name}ãŒ${a.name}ã«${t}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),a.hp<=0&&(a.isEliminated=!0,v(e=>[...e,`${a.name}ãŒè„±è½!`]))}}}),t.forEach(e=>{e.isEliminated||(e.statusEffects.filter(e=>"dot"===e.type).forEach(t=>{t.value&&t.value>0&&(e.hp=Math.max(0,e.hp-t.value),v(i=>[...i,`${e.name}ãŒ${t.name}ã§${t.value}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),e.hp<=0&&(e.isEliminated=!0,v(t=>[...t,`${e.name}ãŒè„±è½!`])))}),e.statusEffects=e.statusEffects.map(e=>({...e,duration:e.duration-1})),e.statusEffects.filter(e=>e.duration<=0).forEach(t=>{"buff"===t.type?v(i=>[...i,`${e.name}ã®${t.name}åŠ¹æžœãŒåˆ‡ã‚ŒãŸ!`]):"debuff"===t.type?v(i=>[...i,`${e.name}ã®${t.name}ãŒè§£é™¤ã•ã‚ŒãŸ!`]):"dot"===t.type&&v(i=>[...i,`${e.name}ã®${t.name}ãŒæ²»ã£ãŸ!`])}),e.statusEffects=e.statusEffects.filter(e=>e.duration>0),e.cooldowns=Object.entries(e.cooldowns).reduce((e,[t,i])=>({...e,[t]:i>0?i-1:0}),{}))}),t}),setTimeout(()=>{c(e=>{let t=e.filter(e=>!e.isEliminated),a=e.find(e=>!e.isNpc);if(1===t.length){if(w(t[0]),a&&!a.isEliminated)k(1),setTimeout(()=>{i(500),M(s(1))},0);else if(a){let t=8-e.filter(e=>e.isEliminated).findIndex(e=>e.id===a.id);k(t);let r={1:500,2:300,3:150,4:80,5:50,6:30,7:15,8:5};setTimeout(()=>{i(r[t]||5),M(s(t))},0)}A(!1),n("finished")}else if(a?.isEliminated){let t=8-e.filter(e=>e.isEliminated&&e.id!==a.id).length;k(t);let r={1:500,2:300,3:150,4:80,5:50,6:30,7:15,8:5};setTimeout(()=>{i(r[t]||5),M(s(t))},0),A(!1),n("result")}else u(e=>e+1),n("selecting"),A(!1);return e})},1500)},500);return}"attack"===h.type&&null===f||("aoe"!==h.type||0!==g.length)&&(n("action"),c(e=>{let t=[...e],i=t.findIndex(e=>!e.isNpc),a=t[i],s=null!==f?t.find(e=>e.id===f):null;if(!a)return e;t.forEach(e=>{e.prevHp=e.hp});let r=_({...a.hairRoot,level:1,exp:0,count:1}).power+a.buffedStats.power,n=(e,t)=>e.element&&t.element?P(e.element,t.element).attackMod:1;switch(h.type){case"attack":if(s&&!s.isEliminated){let e=h.damage,t=n(a.hairRoot,s.hairRoot),i=Math.floor(e*(1+r/100)*t);s.hp=Math.max(0,s.hp-i);let o=t>1?" (å±žæ€§æœ‰åˆ©!)":t<1?" (å±žæ€§ä¸åˆ©)":"";v(e=>[...e,`ã‚ãªãŸã®${h.name}ãŒ${s.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!${o}`]),s.hp<=0&&(s.isEliminated=!0,v(e=>[...e,`${s.name}ãŒè„±è½!`]))}break;case"aoe":{let e=g.map(e=>t.find(t=>t.id===e)).filter(e=>void 0!==e&&!e.isEliminated);if(e.length>0){let t=h.damage;e.forEach(e=>{let i=n(a.hairRoot,e.hairRoot),s=Math.floor(t*(1+r/100)*i);e.hp=Math.max(0,e.hp-s);let o=i>1?" (å±žæ€§æœ‰åˆ©!)":i<1?" (å±žæ€§ä¸åˆ©)":"";v(t=>[...t,`${h.name}ãŒ${e.name}ã«${s}ãƒ€ãƒ¡ãƒ¼ã‚¸!${o}`]),e.hp<=0&&(e.isEliminated=!0,v(t=>[...t,`${e.name}ãŒè„±è½!`]))})}break}case"team_heal":{let e=K({...a.hairRoot,level:a.hairRoot.level||1,exp:0,count:1}),t="olympus-blessing"===h.id?1:.5,i=Math.floor(a.maxHp*(t*e));a.hp=Math.min(a.maxHp,a.hp+i),v(e=>[...e,`${h.name}ã§HP${i}å›žå¾©!`]);break}case"dot":if(s&&!s.isEliminated){let e=h.damage,t=n(a.hairRoot,s.hairRoot),i=Math.floor(e*(1+r/100)*t);s.hp=Math.max(0,s.hp-i);let o=t>1?" (å±žæ€§æœ‰åˆ©!)":t<1?" (å±žæ€§ä¸åˆ©)":"";v(e=>[...e,`ã‚ãªãŸã®${h.name}ãŒ${s.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!${o}`]),h.dotEffect&&(s.statusEffects.push({type:"dot",name:h.dotEffect.name,duration:h.dotEffect.duration,value:h.dotEffect.damage}),v(e=>[...e,`${s.name}ã«${h.dotEffect?.name}ã‚’ä»˜ä¸Ž! (${h.dotEffect?.duration}ã‚¿ãƒ¼ãƒ³)`])),s.hp<=0&&(s.isEliminated=!0,v(e=>[...e,`${s.name}ï¿½ï¿½è„±è½!`]))}break;case"defense":{let e=K({...a.hairRoot,level:a.hairRoot.level||1,exp:0,count:1}),t=20,i=1,s=h.name;"normal-defense"===h.id?i=1:["fluffy-shield","spiral-defense","rigid-stance","slip-away","mini-barrier","bushy-cover","glossy-reflect","stone-wall","flow-dodge"].includes(h.id)?i=2:["mirror-coat","immovable","coil-dodge","heat-aura","freeze-guard"].includes(h.id)?(t=35,i=2):["treasure-guard","scale-armor","prism-barrier","dark-veil","iron-fortress"].includes(h.id)?(t=45,i=2):"depth-guard"===h.id?(t=50,i=2):"cosmic-shield"===h.id?(t=60,i=2):"event-horizon"===h.id?(t=100,i=1,v(e=>[...e,`ã‚¤ï¿½ï¿½ï¿½ï¿½ï¿½ãƒ³ãƒˆãƒ›ãƒ©ã‚¤ã‚ºãƒ³ç™ºå‹•! å…¨æ”»æ’ƒç„¡åŠ¹åŒ–!`])):["gum-shield","spike-armor","jelly-absorb","elastic-guard","shine-barrier"].includes(h.id)?(t=25,i=2):["magma-armor","wind-barrier","zero-gravity","speed-blur"].includes(h.id)?(t=35,i=2):["northern-veil","stone-skin","ethereal-form","deep-dive"].includes(h.id)&&(t=45,i=2);let r=Math.min(100,Math.floor(t*e));a.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:i,value:r}),"event-horizon"!==h.id&&v(e=>[...e,`${s}ã§${r}%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›!`]);break}case"special":{let e=K({...a.hairRoot,level:a.hairRoot.level||1,exp:0,count:1});switch(h.id){case"bounce-back":case"helix-heal":{let t=Math.floor(.25*a.maxHp*e);a.hp=Math.min(a.maxHp,a.hp+t),v(e=>[...e,`ã‚ãªãŸã¯${h.name}ã§HPã‚’${t}å›žå¾©!`]);break}case"static-field":case"entangle":if(s&&!s.isEliminated){let t=Math.floor(+e);s.statusEffects.push({type:"stun",name:"static-field"===h.id?"éº»ç—º":"æ‹˜æŸ",duration:t}),v(e=>[...e,`${s.name}ã¯${h.name}ã§å‹•ã‘ãªããªã£ãŸ!`])}break;case"rainbow-aura":{let t=Math.floor(20*e);a.buffedStats.power+=t,a.buffedStats.speed+=t,a.buffedStats.grip+=t,a.statusEffects.push({type:"buff",name:"è™¹ã®ã‚ªãƒ¼ãƒ©",duration:3,value:t}),v(e=>[...e,`è™¹ã®ã‚ªãƒ¼ãƒ©ã§å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹+${t}!`]);break}case"holy-blessing":{let t=Math.floor(50*e);a.buffedStats.power+=t,a.buffedStats.speed+=t,a.buffedStats.grip+=t;let i=Math.floor(.4*a.maxHp*e);a.hp=Math.min(a.maxHp,a.hp+i),a.statusEffects.push({type:"buff",name:"ç¥žã®ç¥ç¦",duration:4,value:t}),v(e=>[...e,`ç¥žã®ç¥ç¦! å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹+${t}ã€HP${i}å›žå¾©!`]);break}case"rebirth":{let t=Math.floor(.7*a.maxHp*e);a.hp=Math.min(a.maxHp,a.hp+t),v(e=>[...e,`ä¸æ­»é³¥ã®å†ç”Ÿ! ${t}HPå›žå¾©!`]);break}case"rewind":{let t=Math.floor(.35*a.maxHp*e);a.hp=Math.min(a.maxHp,a.hp+t),a.statusEffects.push({type:"buff",name:"æ™‚é–“æ­ªæ›²",duration:1,value:100}),v(e=>[...e,`æ™‚ã‚’æˆ»ã—ãŸ! HP${t}å›žå¾©+1ã‚¿ãƒ¼ãƒ³ç„¡æ•µ!`]);break}case"toxic-cloud":t.filter(e=>e.id!==a.id&&!e.isEliminated).forEach(e=>{e.statusEffects.push({type:"debuff",name:"æ¯’",duration:3,value:10})}),v(e=>[...e,`æ¯’éœ§ãŒåºƒãŒã‚Šã€å…¨ã¦ã®æ•µãŒæ¯’çŠ¶æ…‹ã«!`]);break;case"moon-blessing":{let e=Math.floor(.4*a.maxHp);a.hp=Math.min(a.maxHp,a.hp+e),v(t=>[...t,`æœˆã®åŠ è­·ã§${e}HPå›žå¾©!`]);break}case"sunlight-heal":{let e=Math.floor(.5*a.maxHp);a.hp=Math.min(a.maxHp,a.hp+e),a.buffedStats.power+=25,a.statusEffects.push({type:"buff",name:"å¤ªé™½ã®åŠ›",duration:3,value:25}),v(t=>[...t,`æ—¥å…‰ã§HP${e}å›žå¾©+æ”»æ’ƒåŠ›UP!`]);break}case"hellfire-breath":t.filter(e=>e.id!==a.id&&!e.isEliminated).forEach(e=>{e.hp=Math.max(0,e.hp-30),e.statusEffects.push({type:"debuff",name:"ç‚Žä¸Š",duration:2,value:15}),e.hp<=0&&(e.isEliminated=!0,v(t=>[...t,`${e.name}ãŒè„±è½!`]))}),v(e=>[...e,`åœ°ç„ã®ç‚ŽãŒå…¨å“¡ã‚’ç„¼ãå°½ãã™! 30ãƒ€ãƒ¡ãƒ¼ã‚¸+ç‚Žä¸Š!`]);break;case"einherjar":{let e=Math.floor(.6*a.maxHp);a.hp=Math.min(a.maxHp,a.hp+e),a.statusEffects.push({type:"buff",name:"å‹‡è€…ã®é­‚",duration:2,value:50}),v(t=>[...t,`å‹‡è€…ã®é­‚ãŒå®¿ã‚‹! HP${e}å›žå¾©+é˜²å¾¡å¼·åŒ–!`]);break}case"all-father":a.statusEffects.push({type:"buff",name:"ã‚ªãƒ¼ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼",duration:1,value:100}),a.statusEffects.push({type:"buff",name:"åæ’ƒæº–å‚™",duration:1,value:80}),v(e=>[...e,`å…¨çŸ¥ã®åŠ›ç™ºå‹•! æ¬¡ã®æ”»æ’ƒã‚’å®Œå…¨å›žé¿+åæ’ƒæº–å‚™!`]);break;case"end-world":s&&!s.isEliminated&&(s.hp=0,s.isEliminated=!0,v(e=>[...e,`${s.name}ã¯ä¸–ç•Œã‹ã‚‰æ¶ˆæ»…ã—ãŸ!!`]));break;default:v(e=>[...e,`${h.name}ç™ºå‹•!`])}}}return h.cooldown>0&&(a.cooldowns={...a.cooldowns,[h.id]:h.cooldown}),t}),setTimeout(()=>{c(e=>{let t=[...e],i=t.filter(e=>!e.isEliminated);return i.forEach(e=>{if(e.cooldowns={...e.cooldowns},e.isNpc&&!e.isEliminated){if(e.statusEffects.some(e=>"stun"===e.type))return void v(t=>[...t,`${e.name}ã¯è¡Œå‹•ä¸èƒ½!`]);let t=i.filter(t=>t.id!==e.id&&!t.isEliminated);if(0===t.length)return;let a=t[Math.floor(Math.random()*t.length)],s=e.hairRoot.skills.filter(t=>0>=(e.cooldowns[t.id]||0)),r=s.length>0?s[Math.floor(Math.random()*s.length)]:{id:"normal-attack",name:"é€šå¸¸æ”»æ’ƒ",damage:15,cooldown:0,type:"attack",description:""},n=a.statusEffects.find(e=>"é˜²å¾¡å¼·åŒ–"===e.name),o=n?(n.value||0)/100:0;if("attack"===r.type&&r.damage>0){let t=Math.floor(Math.floor(r.damage*(.8+.4*Math.random()))*(1-o));a.hp=Math.max(0,a.hp-t),v(i=>[...i,`${e.name}ã®${r.name}ãŒ${a.name}ã«${t}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),a.hp<=0&&(a.isEliminated=!0,v(e=>[...e,`${a.name}ãŒè„±è½!`])),r.cooldown>0&&(e.cooldowns={...e.cooldowns,[r.id]:r.cooldown})}else if("special"===r.type){if("bounce-back"===r.id||"helix-heal"===r.id){let t=Math.floor(.25*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),v(t=>[...t,`${e.name}ã¯${r.name}ã§HPå›žå¾©!`])}else if("rebirth"===r.id){let t=Math.floor(.7*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),v(t=>[...t,`${e.name}ã®ä¸æ­»é³¥ãŒå†ç”Ÿ! å¤§å›žå¾©!`])}else if("holy-blessing"===r.id){let t=Math.floor(.4*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),e.buffedStats.power+=50,e.buffedStats.speed+=50,e.buffedStats.grip+=50,e.statusEffects.push({type:"buff",name:"ç¥žã®ç¥ç¦",duration:4,value:50}),v(t=>[...t,`${e.name}ã«ç¥žã®ç¥ç¦ãŒé™ã‚ŠãŸ!`])}else if("rewind"===r.id){let t=Math.floor(.35*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),e.statusEffects.push({type:"buff",name:"æ™‚é–“æ­ªæ›²",duration:1,value:100}),v(t=>[...t,`${e.name}ãŒæ™‚ã‚’æˆ»ã—ãŸ!`])}else if("static-field"===r.id||"entangle"===r.id)a.statusEffects.push({type:"stun",name:"çŠ¶æ…‹ç•°å¸¸",duration:1}),v(e=>[...e,`${a.name}ã¯${r.name}ã§å‹•ã‘ãªããªã£ãŸ!`]);else if("rainbow-aura"===r.id)e.buffedStats.power+=20,e.buffedStats.speed+=20,e.buffedStats.grip+=20,e.statusEffects.push({type:"buff",name:"è™¹ã®ã‚ªãƒ¼ãƒ©",duration:3,value:20}),v(t=>[...t,`${e.name}ã«è™¹ã®ã‚ªãƒ¼ãƒ©!`]);else if("toxic-cloud"===r.id)i.filter(t=>t.id!==e.id).forEach(e=>{e.statusEffects.push({type:"dot",name:"æ¯’",duration:3,value:10})}),v(t=>[...t,`${e.name}ã®æ¯’éœ§ãŒåºƒãŒã£ãŸ! (3ã‚¿ãƒ¼ãƒ³)`]);else if("moon-blessing"===r.id){let t=Math.floor(.4*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),v(t=>[...t,`${e.name}ã¯æœˆã®åŠ è­·ã§HPå›žå¾©!`])}else if("sunlight-heal"===r.id){let t=Math.floor(.5*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),e.buffedStats.power+=25,e.statusEffects.push({type:"buff",name:"å¤ªé™½ã®åŠ›",duration:3,value:25}),v(t=>[...t,`${e.name}ã«æ—¥å…‰ã®åŠ›!`])}else if("hellfire-breath"===r.id)i.filter(t=>t.id!==e.id).forEach(e=>{e.hp=Math.max(0,e.hp-30),e.statusEffects.push({type:"debuff",name:"ç‚Žä¸Š",duration:2,value:15}),e.hp<=0&&(e.isEliminated=!0,v(t=>[...t,`${e.name}ãŒè„±è½!`]))}),v(t=>[...t,`${e.name}ã®åœ°ç„ã®ç‚Ž!`]);else if("einherjar"===r.id){let t=Math.floor(.6*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),e.statusEffects.push({type:"buff",name:"å‹‡è€…ã®é­‚",duration:2,value:50}),v(t=>[...t,`${e.name}ã«å‹‡è€…ã®é­‚ãŒå®¿ã£ãŸ!`])}else"all-father"===r.id?(e.statusEffects.push({type:"buff",name:"ã‚ªãƒ¼ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼",duration:1,value:100}),e.statusEffects.push({type:"buff",name:"åæ’ƒæº–å‚™",duration:1,value:80}),v(t=>[...t,`${e.name}ãŒå…¨çŸ¥ã®åŠ›ã‚’ç™ºå‹•!`])):"end-world"===r.id&&a&&!a.isEliminated&&(a.hp=0,a.isEliminated=!0,v(t=>[...t,`${e.name}ã®${r.name}! ${a.name}ã¯ä¸–ç•Œã‹ã‚‰æ¶ˆæ»…ã—ãŸ!!`]));r.cooldown>0&&(e.cooldowns={...e.cooldowns,[r.id]:r.cooldown})}else if("dot"===r.type){let t=i.filter(t=>t.id!==e.id&&!t.isEliminated);if(t.length>0){let i=t[Math.floor(Math.random()*t.length)],a=Math.floor(r.damage*(.8+.4*Math.random())),s=i.statusEffects.find(e=>"é˜²å¾¡å¼·åŒ–"===e.name),n=Math.floor(a*(1-(s?(s.value||0)/100:0)));i.hp=Math.max(0,i.hp-n),v(t=>[...t,`${e.name}ã®${r.name}ãŒ${i.name}ã«${n}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),r.dotEffect&&(i.statusEffects.push({type:"dot",name:r.dotEffect.name,duration:r.dotEffect.duration,value:r.dotEffect.damage}),v(e=>[...e,`${i.name}ã«${r.dotEffect?.name}ã‚’ä»˜ä¸Ž! (${r.dotEffect?.duration}ã‚¿ãƒ¼ãƒ³)`])),i.hp<=0&&(i.isEliminated=!0,v(e=>[...e,`${i.name}ãŒè„±è½!`]))}r.cooldown>0&&(e.cooldowns={...e.cooldowns,[r.id]:r.cooldown})}else if("aoe"===r.type&&r.damage>0){let t=r.maxTargets||2,a=i.filter(t=>t.id!==e.id&&!t.isEliminated),s=a.slice(0,Math.min(t,a.length)),n=Math.floor(r.damage*(.8+.4*Math.random()));s.forEach(e=>{let t=e.statusEffects.find(e=>"é˜²å¾¡å¼·åŒ–"===e.name),i=Math.floor(n*(1-(t?(t.value||0)/100:0)));e.hp=Math.max(0,e.hp-i),v(t=>[...t,`${r.name}ãŒ${e.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),e.hp<=0&&(e.isEliminated=!0,v(t=>[...t,`${e.name}ãŒè„±è½!`]))}),r.cooldown>0&&(e.cooldowns={...e.cooldowns,[r.id]:r.cooldown})}else if("team_heal"===r.type){let t="olympus-blessing"===r.id?1:.5,i=Math.floor(e.maxHp*t);e.hp=Math.min(e.maxHp,e.hp+i),v(t=>[...t,`${e.name}ã®${r.name}! HPå›žå¾©!`]),r.cooldown>0&&(e.cooldowns[r.id]=r.cooldown)}else if("defense"===r.type){let t=30;"depth-guard"===r.id?t=50:"cosmic-shield"===r.id?t=60:"event-horizon"===r.id&&(t=100),e.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:2,value:t}),v(t=>[...t,`${e.name}ã¯${r.name}ã§é˜²å¾¡!`]),r.cooldown>0&&(e.cooldowns={...e.cooldowns,[r.id]:r.cooldown})}}}),t.forEach(e=>{e.isEliminated||e.statusEffects.forEach(t=>{if("debuff"===t.type&&t.value&&t.value>0&&["æ¯’","ç‚Žä¸Š","å‡å‚·"].includes(t.name)){let i=t.value;e.hp=Math.max(0,e.hp-i),"æ¯’"===t.name?v(t=>[...t,`${e.name}ã¯æ¯’ã§${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]):"ç‚Žä¸Š"===t.name?v(t=>[...t,`${e.name}ã¯ç‚Žä¸Šã§${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]):"å‡å‚·"===t.name&&v(t=>[...t,`${e.name}ã¯å‡å‚·ã§${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),e.hp<=0&&(e.isEliminated=!0,v(t=>[...t,`${e.name}ãŒè„±è½!`]))}})}),t.forEach(e=>{Object.keys(e.cooldowns).forEach(t=>{e.cooldowns[t]>0&&e.cooldowns[t]--}),e.statusEffects=e.statusEffects.filter(t=>(t.duration--,t.duration<=0&&"é˜²å¾¡å¼·åŒ–"!==t.name&&"buff"===t.type&&t.value&&(e.buffedStats.power=Math.max(0,e.buffedStats.power-t.value),e.buffedStats.speed=Math.max(0,e.buffedStats.speed-t.value),e.buffedStats.grip=Math.max(0,e.buffedStats.grip-t.value)),t.duration>0))}),t}),setTimeout(()=>{c(e=>{let t=e.filter(e=>!e.isEliminated),a=e.find(e=>!e.isNpc);if(1===t.length){if(w(t[0]),a&&!a.isEliminated)k(1),setTimeout(()=>{i(500),M(s(1))},0);else{let t=e.filter(e=>e.isEliminated).length+1;k(t);let a={1:500,2:300,3:150,4:80,5:50,6:30,7:15,8:5};setTimeout(()=>{i(a[t]||5),M(s(t))},0)}A(!1),n("finished")}else if(a?.isEliminated){let t=8-e.filter(e=>e.isEliminated&&e.id!==a.id).length;k(t);let r={1:500,2:300,3:150,4:80,5:50,6:30,7:15,8:5};setTimeout(()=>{i(r[t]||5),M(s(t))},0),n("result")}else u(e=>e+1),n("selecting"),A(!1);return e})},1500)},1e3),p(null),x(null),y([]))}},[h,f,g,r,$,i,s]);return(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border bg-card",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"æ¯›æ ¹ãƒãƒˆãƒ«ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«"}),(0,o.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-1",children:[(0,o.jsx)(n2,{className:"w-4 h-4",style:{color:O(F.tier)}}),(0,o.jsx)("span",{className:"text-sm font-medium",style:{color:O(F.tier)},children:F.name})]})]}),(0,o.jsx)("div",{className:"text-sm",children:"waiting"!==r&&"finished"!==r&&(0,o.jsxs)("span",{className:"bg-primary text-primary-foreground px-2 py-1 rounded",children:["R",m]})})]}),(0,o.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col p-4",children:(0,o.jsxs)(C,{mode:"wait",children:["waiting"===r&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col items-center justify-center",children:[(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)(om,{className:"w-20 h-20 mx-auto text-primary mb-4"}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"8äººãƒãƒˆãƒ«ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«"}),(0,o.jsx)("p",{className:"text-muted-foreground",children:"æœ€å¾Œã®1äººã«ãªã‚‹ã¾ã§æˆ¦ã„æŠœã‘!"})]}),t?(0,o.jsxs)("div",{className:"bg-card rounded-xl p-6 border border-border mb-6 w-full max-w-sm",children:[(0,o.jsx)("h3",{className:"text-sm text-muted-foreground mb-3",children:"å‚æˆ¦æ¯›æ ¹"}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-3xl",style:{backgroundColor:`${t.color}20`},children:t.emoji}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-bold text-foreground",children:t.name}),(0,o.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Lv.",t.level]})]})]}),(0,o.jsx)("div",{className:"mt-4 space-y-2",children:t.skills.map(e=>(0,o.jsxs)("div",{className:"bg-muted rounded-lg p-2 text-xs",children:[(0,o.jsx)("span",{className:"font-medium",children:e.name}),(0,o.jsx)("span",{className:"text-muted-foreground ml-2",children:e.description})]},e.id))})]}):(0,o.jsx)("p",{className:"text-destructive mb-6",children:"æ¯›æ ¹ã‚’é¸æŠžã—ã¦ãã ã•ã„"}),(0,o.jsx)(nz,{onClick:H,disabled:!t,className:"bg-gradient-to-r from-primary to-secondary px-8 py-6 text-lg",children:"ãƒãƒˆãƒ«é–‹å§‹"})]},"waiting"),("selecting"===r||"action"===r)&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col",children:[(0,o.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:d.map(e=>(0,o.jsxs)(rG.div,{animate:{opacity:e.isEliminated?.3:1,scale:e.isEliminated?.9:1},className:`
                      relative bg-card rounded-lg p-2 border transition-all
                      ${!e.isNpc?"border-primary border-2":"border-border"}
                      ${f===e.id||g.includes(e.id)?"ring-2 ring-accent":""}
                      ${e.isEliminated?"grayscale":""}
                    `,onClick:()=>{"selecting"===r&&e.isNpc&&!e.isEliminated&&h&&("aoe"===h.type?y(t=>{if(t.includes(e.id))return t.filter(t=>t!==e.id);let i=h.maxTargets||3;return t.length>=i?[...t.slice(1),e.id]:[...t,e.id]}):x(e.id))},children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("div",{className:"w-10 h-10 mx-auto rounded-lg flex items-center justify-center text-xl mb-1 relative",style:{backgroundColor:`${e.hairRoot.color}20`},children:[e.hairRoot.emoji,e.hairRoot.element&&(0,o.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full text-[8px] flex items-center justify-center text-white font-bold",style:{backgroundColor:T[e.hairRoot.element]},title:S[e.hairRoot.element],children:S[e.hairRoot.element][0]})]}),(0,o.jsx)("p",{className:"text-xs font-medium truncate",children:e.isNpc?e.name:"ã‚ãªãŸ"}),(0,o.jsx)("div",{className:"h-1.5 bg-muted rounded-full mt-1 overflow-hidden",children:(0,o.jsx)("div",{className:`h-full transition-all ${e.hp>.3*e.maxHp?"bg-accent":"bg-destructive"}`,style:{width:`${e.hp/e.maxHp*100}%`}})}),(0,o.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:[e.hp,"/",e.maxHp]}),e.statusEffects.length>0&&(0,o.jsx)("div",{className:"flex gap-0.5 justify-center mt-1",children:e.statusEffects.map((e,t)=>(0,o.jsx)("span",{className:`text-[8px] px-1 rounded ${"stun"===e.type?"bg-destructive/20 text-destructive":"bg-accent/20 text-accent"}`,children:"stun"===e.type?"!":"+"},t))})]}),e.isEliminated&&(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-background/60 rounded-lg",children:(0,o.jsx)("span",{className:"text-xs text-destructive font-bold",children:"è„±è½"})})]},e.id))}),(0,o.jsx)("div",{ref:V,className:"bg-card rounded-lg p-3 mb-4 max-h-40 overflow-y-auto border border-border scroll-smooth",children:(0,o.jsxs)("div",{className:"space-y-1",children:[b.map((e,t)=>(0,o.jsxs)("p",{className:`text-xs ${e.includes("è„±è½")?"text-destructive font-medium":e.includes("å›žå¾©")?"text-accent font-medium":e.includes("ã‚ãªãŸ")?"text-primary":"text-muted-foreground"}`,children:[(0,o.jsxs)("span",{className:"text-muted-foreground/50 mr-1",children:["[",t+1,"]"]}),e]},t)),0===b.length&&(0,o.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"ãƒãƒˆãƒ«é–‹å§‹ã‚’å¾…ã£ã¦ã„ã¾ã™..."})]})}),"selecting"===r&&B&&!B.isEliminated&&(0,o.jsxs)("div",{className:"bg-card rounded-xl p-4 border border-border",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é¸æŠž"}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,o.jsxs)(nz,{variant:h?.id==="normal-attack"?"default":"outline",onClick:()=>{p({id:"normal-attack",name:"é€šå¸¸æ”»æ’ƒ",description:"åŸºæœ¬çš„ãªæ”»æ’ƒ",damage:15,cooldown:0,type:"attack"}),x(null),y([])},className:"h-auto py-3 flex-col items-start",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,o.jsx)(om,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"font-medium text-sm",children:"é€šå¸¸æ”»æ’ƒ"})]}),(0,o.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:"å¨åŠ›: 15"})]}),(0,o.jsxs)(nz,{variant:h?.id==="normal-defense"?"default":"outline",onClick:()=>{p({id:"normal-defense",name:"é€šå¸¸é˜²å¾¡",description:"åŸºæœ¬çš„ãªé˜²å¾¡",damage:0,cooldown:0,type:"defense"}),x(null),y([])},className:"h-auto py-3 flex-col items-start",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,o.jsx)(ou,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"font-medium text-sm",children:"é€šå¸¸é˜²å¾¡"})]}),(0,o.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:"è»½æ¸›: 20%"})]}),B.hairRoot.skills.map(e=>{let t=(B.cooldowns[e.id]||0)>0;return(0,o.jsxs)(nz,{variant:h?.id===e.id?"default":"outline",disabled:t,onClick:()=>{p(e),x(null),y([])},className:"h-auto py-3 flex-col items-start",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 w-full",children:["attack"===e.type||"aoe"===e.type||"dot"===e.type?(0,o.jsx)(om,{className:"w-4 h-4"}):"defense"===e.type?(0,o.jsx)(ou,{className:"w-4 h-4"}):(0,o.jsx)(n9,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"font-medium text-xs",children:e.name})]}),t?(0,o.jsxs)("span",{className:"text-xs text-destructive mt-1",children:["CT: ",B.cooldowns[e.id]]}):(0,o.jsxs)("span",{className:"text-xs text-muted-foreground mt-1",children:["attack"===e.type&&`å¨åŠ›: ${e.damage}`,"aoe"===e.type&&`ç¯„å›²${e.maxTargets}ä½“`,"dot"===e.type&&`${e.damage}+${e.dotEffect?.name}`,"defense"===e.type&&"é˜²å¾¡","team_heal"===e.type&&"å‘³æ–¹å›žå¾©","special"===e.type&&(["bounce-back","helix-heal","rebirth"].includes(e.id)?"å›žå¾©":["static-field","entangle"].includes(e.id)?"çŠ¶æ…‹ç•°å¸¸":["rainbow-aura","holy-blessing"].includes(e.id)?"å¼·åŒ–":"rewind"===e.id?"HPå¾©å…ƒ":"ç‰¹æ®Š")]})]},e.id)})]}),h?(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 mb-3 text-left",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:["attack"===h.type||"aoe"===h.type||"dot"===h.type?(0,o.jsx)(om,{className:"w-4 h-4 text-destructive"}):"defense"===h.type?(0,o.jsx)(ou,{className:"w-4 h-4 text-primary"}):(0,o.jsx)(n9,{className:"w-4 h-4 text-accent"}),(0,o.jsx)("span",{className:"font-bold text-sm text-foreground",children:h.name})]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:h.description}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 text-[10px]",children:[h.damage>0&&(0,o.jsxs)("span",{className:"bg-destructive/20 text-destructive px-2 py-0.5 rounded",children:["å¨åŠ›: ",h.damage]}),h.cooldown>0&&(0,o.jsxs)("span",{className:"bg-muted text-muted-foreground px-2 py-0.5 rounded",children:["CT: ",h.cooldown,"ã‚¿ãƒ¼ãƒ³"]}),"aoe"===h.type&&(0,o.jsxs)("span",{className:"bg-primary/20 text-primary px-2 py-0.5 rounded",children:["ç¯„å›²: æœ€å¤§",h.maxTargets||3,"ä½“"]}),"dot"===h.type&&h.dotEffect&&(0,o.jsxs)("span",{className:"bg-accent/20 text-accent px-2 py-0.5 rounded",children:[h.dotEffect.name,": ",h.dotEffect.damage,"/ã‚¿ãƒ¼ãƒ³ x",h.dotEffect.duration]}),"defense"===h.type&&(0,o.jsx)("span",{className:"bg-primary/20 text-primary px-2 py-0.5 rounded",children:"ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›"}),"team_heal"===h.type&&(0,o.jsx)("span",{className:"bg-accent/20 text-accent px-2 py-0.5 rounded",children:"å‘³æ–¹å…¨ä½“å›žå¾©"}),"special"===h.type&&(0,o.jsx)("span",{className:"bg-accent/20 text-accent px-2 py-0.5 rounded",children:"ç‰¹æ®ŠåŠ¹æžœ"})]})]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"defense"!==h.type&&"team_heal"!==h.type&&("special"!==h.type||["static-field","entangle"].includes(h.id))?"aoe"===h.type?g.length>0?`${g.length}ä½“ã‚’æ”»æ’ƒ! (æœ€å¤§${h.maxTargets||3}ä½“)`:`ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’é¸æŠž (æœ€å¤§${h.maxTargets||3}ä½“)`:null!==f?"æ”»æ’ƒ!":"ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’é¸æŠžã—ã¦ãã ã•ã„":`${h.name}ã‚’ç™ºå‹•`}),(0,o.jsx)(nz,{disabled:$||("attack"===h.type||"dot"===h.type||["static-field","entangle"].includes(h.id))&&null===f||"aoe"===h.type&&0===g.length,onClick:I,className:"bg-primary",children:$?"å®Ÿè¡Œä¸­...":"å®Ÿè¡Œ"})]}):(0,o.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é¸æŠžã—ã¦ãã ã•ã„"})]}),"action"===r&&(0,o.jsxs)("div",{className:"text-center py-4",children:[(0,o.jsx)(rG.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0},className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"ãƒãƒˆãƒ«ä¸­..."})]})]},"battle"),"result"===r&&(0,o.jsx)(rG.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex-1 flex flex-col items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-destructive mb-4",children:"è„±è½..."}),(0,o.jsxs)("p",{className:"text-xl text-foreground mb-2",children:["ç¬¬",N,"ä½"]}),(0,o.jsxs)("p",{className:"text-secondary mb-2",children:["+",{1:500,2:300,3:150,4:80,5:50,6:30,7:15,8:5}[N]||5,"ã‚³ã‚¤ãƒ³ç²å¾—!"]}),null!==E&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("span",{className:"text-lg font-bold",style:{color:O(F.tier)},children:F.name}),(0,o.jsxs)("span",{className:`ml-2 font-medium ${E>=0?"text-green-500":"text-red-500"}`,children:[E>=0?"+":"",E," RP"]})]}),(0,o.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,o.jsx)(nz,{variant:"outline",onClick:()=>e("home"),className:"bg-transparent",children:"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"}),(0,o.jsx)(nz,{onClick:()=>{n("action");let e=setInterval(()=>{c(t=>{let i=t.filter(e=>!e.isEliminated);return i.length<=1&&(clearInterval(e),w(i[0]||null),A(!1),n("finished")),t}),c(e=>{let t=[...e],i=t.filter(e=>!e.isEliminated);return i.length<=1?(w(i[0]||null),A(!1),n("finished")):i.forEach(e=>{if(!e.isEliminated){let t=i.filter(t=>t.id!==e.id&&!t.isEliminated);if(0===t.length)return;let a=t[Math.floor(Math.random()*t.length)],s=e.hairRoot.skills[Math.floor(2*Math.random())];if("attack"===s.type&&s.damage>0){let e=Math.floor(s.damage*(.8+.4*Math.random()));a.hp=Math.max(0,a.hp-e),a.hp<=0&&(a.isEliminated=!0,v(e=>[...e.slice(-10),`${a.name}ãŒè„±è½!`]))}}}),t})},500)},className:"bg-primary",children:"è¦³æˆ¦ã™ã‚‹"})]})]})},"result"),"finished"===r&&j&&(0,o.jsxs)(rG.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex-1 flex flex-col items-center justify-center",children:[(0,o.jsx)(rG.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:.5,repeat:1/0},className:"mb-6",children:(0,o.jsx)(n3,{className:"w-20 h-20 text-secondary"})}),(0,o.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:j.isNpc?`${j.name}ã®å‹åˆ©!`:"å„ªå‹ãŠã‚ã§ã¨ã†!"}),(0,o.jsx)("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center text-5xl mb-4",style:{backgroundColor:`${j.hairRoot.color}30`},children:j.hairRoot.emoji}),(0,o.jsx)("p",{className:"text-lg font-medium",style:{color:R[j.hairRoot.rarity]},children:j.hairRoot.name}),!j.isNpc&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-xl text-secondary mt-4",children:"+500ã‚³ã‚¤ãƒ³ç²å¾—!"}),null!==E&&(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("span",{className:"text-lg font-bold",style:{color:O(F.tier)},children:F.name}),(0,o.jsxs)("span",{className:"ml-2 font-medium text-green-500",children:["+",E," RP"]})]})]}),j.isNpc&&(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("p",{className:"text-muted-foreground",children:["ã‚ãªãŸã®é †ä½: ç¬¬",N,"ä½"]}),(0,o.jsxs)("p",{className:"text-secondary mt-1",children:["+",{1:500,2:300,3:150,4:80,5:50,6:30,7:15,8:5}[N]||5,"ã‚³ã‚¤ãƒ³ç²å¾—!"]})]}),(0,o.jsx)(nz,{onClick:()=>e("home"),className:"mt-8 bg-primary",children:"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"})]},"finished")]})})]})}let of=["ç‚Žãƒãƒ¼ãƒ ","æ°´ãƒãƒ¼ãƒ ","é¢¨ãƒãƒ¼ãƒ ","é›·ãƒãƒ¼ãƒ "],ox=["#EF4444","#3B82F6","#22C55E","#F59E0B"],og=["ãƒã‚²ç”°","æ¯›ç„¡ã—éƒŽ","æŠœã‘æ¯›çŽ‹","è–„æ¯›ä¾","ãƒ„ãƒ«ãƒ”ã‚«ä¸¸","æ¯›æ ¹ä»™äºº","ãƒ•ã‚µãƒ•ã‚µå§«","å‰›æ¯›é¨Žå£«","è»Ÿæ¯›åƒ§ä¾¶","ç¸®æ¯›é­”çŽ‹","ç›´æ¯›å‹‡è€…","ç™½é«ªè³¢è€…"];function oy(e,t,i,a){let s=[];D.forEach(e=>{"legend"===a||"master"===a?"epic"===e.rarity||"legendary"===e.rarity?s.push(e,e,e):"rare"===e.rarity?s.push(e,e):s.push(e):"diamond"===a||"platinum"===a?"rare"===e.rarity||"epic"===e.rarity?s.push(e,e,e):"uncommon"===e.rarity?s.push(e,e):s.push(e):"gold"===a||"silver"===a?"uncommon"===e.rarity||"rare"===e.rarity?s.push(e,e):s.push(e):"common"===e.rarity||"uncommon"===e.rarity?s.push(e,e,e):s.push(e)});let r=s[Math.floor(Math.random()*s.length)],n={...r,power:Math.floor(r.power*i),speed:Math.floor(r.speed*i),grip:Math.floor(r.grip*i)},o=Math.floor(5*Math.random())+1,l=_({...n,level:o,exp:0,count:1}),d=Math.floor((100+l.power+l.grip)*i);return{id:e+100,name:og[e%og.length],hairRoot:n,level:o,hp:d,maxHp:d,prevHp:d,isNpc:!0,isEliminated:!1,cooldowns:{},statusEffects:[],buffedStats:{power:0,speed:0,grip:0},teamId:t}}function ob({onNavigate:e}){let{selectedHairRoot:t,addCoins:i,getTeamRoyaleRank:a,updateTeamRoyaleRank:s,playerName:r}=Q(),[n,d]=(0,l.useState)("waiting"),[c,m]=(0,l.useState)([]),[u,h]=(0,l.useState)(1),[p,f]=(0,l.useState)(null),[x,g]=(0,l.useState)(null),[y,b]=(0,l.useState)([]),[v,j]=(0,l.useState)([]),[w,N]=(0,l.useState)(null),[k,E]=(0,l.useState)(0),[M,$]=(0,l.useState)(null),A=(0,l.useRef)(null),D=a(),V=U(D);(0,l.useEffect)(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[v]);let F=c.flatMap(e=>e.members).find(e=>!e.isNpc);c.find(e=>e.members.some(e=>!e.isNpc));let L=(0,l.useCallback)(e=>_({...e.hairRoot,level:e.level,exp:0,count:1}),[]),B=(0,l.useCallback)(e=>K({...e.hairRoot,level:e.level,exp:0,count:1}),[]),H=(0,l.useCallback)(()=>{if(!t)return;let e=_(t),i=100+e.power+e.grip,a={id:0,name:r,hairRoot:t,level:t.level||1,hp:i,maxHp:i,prevHp:i,isNpc:!1,isEliminated:!1,cooldowns:{},statusEffects:[],buffedStats:{power:0,speed:0,grip:0},teamId:0},s=of.map((e,t)=>({id:t,name:e,color:ox[t],members:[],isEliminated:!1}));s[0].members.push(a);for(let e=0;e<2;e++)s[0].members.push(oy(e,0,V,D.tier));let n=2;for(let e=1;e<4;e++)for(let t=0;t<3;t++)s[e].members.push(oy(n++,e,V,D.tier));m(s),d("select"),h(1),j(["ãƒãƒ¼ãƒ ãƒãƒˆãƒ«ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«é–‹å§‹! 4ãƒãƒ¼ãƒ 12äººã§æœ€å¼·ãƒãƒ¼ãƒ ã‚’æ±ºã‚ã‚‹!"])},[t,V,D.tier,r]),I=(0,l.useCallback)(()=>{p&&F&&("attack"!==p.type&&"dot"!==p.type||null!==x)&&("aoe"!==p.type||0!==y.length)&&(m(e=>{let t=e.map(e=>({...e,members:e.members.map(e=>({...e,prevHp:e.hp,cooldowns:{...e.cooldowns}}))})),i=t.flatMap(e=>e.members),a=i.find(e=>!e.isNpc),s=i.find(e=>e.id===x);if(!a||a.isEliminated||!s||s.isEliminated)return e;let r=(e,t)=>e.element&&t.element?P(e.element,t.element).attackMod:1;if("attack"===p.type){let e=L(a).power+a.buffedStats.power,t=r(a.hairRoot,s.hairRoot),i=Math.floor(p.damage*(1+e/100)*t*(.9+.2*Math.random())),n=s.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name);n&&(i=Math.floor(i*(1-(n.value||30)/100))),s.hp=Math.max(0,s.hp-i);let o=t>1?" (å±žæ€§æœ‰åˆ©!)":t<1?" (å±žæ€§ä¸åˆ©)":"";j(e=>[...e,`${a.name}ã®${p.name}! ${s.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!${o}`]),s.hp<=0&&(s.isEliminated=!0,j(e=>[...e,`${s.name}ãŒè„±è½!`]))}else if("dot"===p.type){let e=L(a).power+a.buffedStats.power,t=r(a.hairRoot,s.hairRoot),i=Math.floor(p.damage*(1+e/100)*t*(.9+.2*Math.random())),n=s.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name);n&&(i=Math.floor(i*(1-(n.value||30)/100))),s.hp=Math.max(0,s.hp-i);let o=t>1?" (å±žæ€§æœ‰åˆ©!)":t<1?" (å±žæ€§ä¸åˆ©)":"";j(e=>[...e,`${a.name}ã®${p.name}! ${s.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!${o}`]),p.dotEffect&&(s.statusEffects.push({type:"dot",name:p.dotEffect.name,duration:p.dotEffect.duration,value:p.dotEffect.damage}),j(e=>[...e,`${s.name}ã«${p.dotEffect?.name}ã‚’ä»˜ä¸Ž! (${p.dotEffect?.duration}ã‚¿ãƒ¼ãƒ³)`])),s.hp<=0&&(s.isEliminated=!0,j(e=>[...e,`${s.name}ãŒè„±è½!`]))}else if("defense"===p.type){let e=B(a),t=20,i=1;"normal-defense"===p.id?(t=20,i=1):["fluffy-shield","spiral-defense","rigid-stance","slip-away","mini-barrier","bushy-cover","glossy-reflect","stone-wall","flow-dodge","gum-shield","spike-armor","jelly-absorb","elastic-guard","shine-barrier"].includes(p.id)?(t=25,i=2):["mirror-coat","immovable","coil-dodge","heat-aura","freeze-guard","magma-armor","wind-barrier","zero-gravity","speed-blur"].includes(p.id)?(t=35,i=2):["treasure-guard","scale-armor","prism-barrier","dark-veil","iron-fortress","northern-veil","stone-skin","ethereal-form","deep-dive"].includes(p.id)?(t=45,i=2):"depth-guard"===p.id?(t=50,i=2):"cosmic-shield"===p.id?(t=60,i=2):"event-horizon"===p.id&&(t=100,i=1);let s=Math.min(100,Math.floor(t*e));a.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:i,value:s}),j(e=>[...e,`${a.name}ã®${p.name}! ${s}%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›!`])}else if("aoe"===p.type){let e=y.map(e=>i.find(t=>t.id===e)).filter(e=>void 0!==e&&!e.isEliminated),t=L(a).power+a.buffedStats.power;e.forEach(e=>{let i=Math.floor(p.damage*(1+t/100)*(.9+.2*Math.random())),a=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name);a&&(i=Math.floor(i*(1-(a.value||30)/100))),e.hp=Math.max(0,e.hp-i),j(t=>[...t,`${p.name}ãŒ${e.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),e.hp<=0&&(e.isEliminated=!0,j(t=>[...t,`${e.name}ãŒè„±è½!`]))})}else if("team_heal"===p.type){let e=B(a),i=t.find(e=>e.members.some(e=>!e.isNpc)),s=i?.members.filter(e=>!e.isEliminated)||[],r=("olympus-blessing"===p.id?1:.5)*e;s.forEach(e=>{let t=Math.floor(e.maxHp*r);e.hp=Math.min(e.maxHp,e.hp+t),j(i=>[...i,`${e.name}ã®HP${t}å›žå¾©!`])}),j(e=>[...e,`${a.name}ã®${p.name}! ãƒãƒ¼ãƒ å…¨å“¡å›žå¾©!`])}else if("special"===p.type){let e=B(a);if("rebirth"===p.id){let t=Math.floor(.7*a.maxHp*e);a.hp=Math.min(a.maxHp,a.hp+t),j(e=>[...e,`${a.name}ã®${p.name}! HP${t}å›žå¾©!`])}else if("holy-blessing"===p.id){let t=Math.floor(50*e),i=Math.floor(.4*a.maxHp*e);a.hp=Math.min(a.maxHp,a.hp+i),a.buffedStats.power+=t,a.buffedStats.speed+=t,a.buffedStats.grip+=t,a.statusEffects.push({type:"buff",name:"ç¥žã®ç¥ç¦",duration:4,value:t}),j(e=>[...e,`${a.name}ã®${p.name}! å…¨ã‚¹ãƒ†+${t}, HP${i}å›žå¾©!`])}else if("toxic-cloud"===p.id){let t=i.filter(e=>e.teamId!==a.teamId&&!e.isEliminated),s=Math.floor(10*e);t.forEach(e=>{e.statusEffects.push({type:"dot",name:"æ¯’",duration:3,value:s})}),j(e=>[...e,`${a.name}ã®æ¯’éœ§! æ•µå…¨å“¡ãŒæ¯’çŠ¶æ…‹ã«! (3ã‚¿ãƒ¼ãƒ³)`])}else if("moon-blessing"===p.id){let t=Math.floor(.4*a.maxHp*e);a.hp=Math.min(a.maxHp,a.hp+t),j(e=>[...e,`${a.name}ã¯æœˆã®åŠ è­·ã§HP${t}å›žå¾©!`])}else if("sunlight-heal"===p.id){let t=Math.floor(.5*a.maxHp*e),i=Math.floor(25*e);a.hp=Math.min(a.maxHp,a.hp+t),a.buffedStats.power+=i,a.statusEffects.push({type:"buff",name:"å¤ªé™½ã®åŠ›",duration:3,value:i}),j(e=>[...e,`${a.name}ã«æ—¥å…‰ã®åŠ›! HP${t}å›žå¾©+æ”»æ’ƒåŠ›UP!`])}else if("hellfire-breath"===p.id){let t=i.filter(e=>e.teamId!==a.teamId&&!e.isEliminated),s=Math.floor(30*e),r=Math.floor(15*e);t.forEach(e=>{e.hp=Math.max(0,e.hp-s),e.statusEffects.push({type:"dot",name:"ç‚Žä¸Š",duration:2,value:r}),e.hp<=0&&(e.isEliminated=!0,j(t=>[...t,`${e.name}ãŒè„±è½!`]))}),j(e=>[...e,`${a.name}ã®åœ°ç„ã®ç‚Ž! æ•µå…¨å“¡ã«${s}ãƒ€ãƒ¡ãƒ¼ã‚¸+ç‚Žä¸Š!`])}else if("einherjar"===p.id){let t=Math.floor(.6*a.maxHp*e),i=Math.floor(50*e);a.hp=Math.min(a.maxHp,a.hp+t),a.statusEffects.push({type:"buff",name:"å‹‡è€…ã®é­‚",duration:2,value:i}),j(e=>[...e,`${a.name}ã«å‹‡è€…ã®é­‚! HP${t}å›žå¾©+é˜²å¾¡å¼·åŒ–!`])}else if("all-father"===p.id){a.statusEffects.push({type:"buff",name:"ã‚ªãƒ¼ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼",duration:1,value:100});let t=Math.floor(80*e);a.statusEffects.push({type:"buff",name:"åæ’ƒæº–å‚™",duration:1,value:t}),j(e=>[...e,`${a.name}ãŒå…¨çŸ¥ã®åŠ›ç™ºå‹•! å®Œå…¨å›žé¿+åæ’ƒæº–å‚™!`])}else"end-world"===p.id&&s&&!s.isEliminated&&(s.hp=0,s.isEliminated=!0,j(e=>[...e,`${a.name}ã®${p.name}! ${s.name}ã¯ä¸–ç•Œã‹ã‚‰æ¶ˆæ»…ã—ãŸ!!`]))}return p.cooldown>0&&(a.cooldowns={...a.cooldowns,[p.id]:p.cooldown}),t.forEach(e=>{e.members.every(e=>e.isEliminated)&&(e.isEliminated=!0)}),t}),f(null),g(null),b([]),d("action"))},[p,x,y,F,L,B]);(0,l.useEffect)(()=>{if("action"!==n)return;let e=setTimeout(()=>{m(e=>{let t=e.map(e=>({...e,members:e.members.map(e=>({...e,cooldowns:{...e.cooldowns},prevHp:e.hp}))})),a=t.flatMap(e=>e.members),r=a.filter(e=>!e.isEliminated);for(let e of(t.filter(e=>!e.isEliminated),r.filter(e=>e.isNpc))){let i=r.filter(t=>t.teamId!==e.teamId&&!t.isEliminated);if(0===i.length)continue;let a=e.hairRoot.skills.filter(t=>!e.cooldowns[t.id]||e.cooldowns[t.id]<=0);if(0===a.length)continue;let s=a[Math.floor(Math.random()*a.length)],n=i[Math.floor(Math.random()*i.length)];if("attack"===s.type){let t=L(e).power+e.buffedStats.power,i=Math.floor(s.damage*(1+t/100)*(.9+.2*Math.random())),a=n.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name);a&&(i=Math.floor(i*(1-(a.value||30)/100))),n.hp=Math.max(0,n.hp-i),j(t=>[...t,`${e.name}ã®${s.name}! ${n.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),n.hp<=0&&(n.isEliminated=!0,j(e=>[...e,`${n.name}ãŒè„±è½!`]))}else if("dot"===s.type){let t=L(e).power+e.buffedStats.power,i=Math.floor(s.damage*(1+t/100)*(.9+.2*Math.random())),a=n.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name);a&&(i=Math.floor(i*(1-(a.value||30)/100))),n.hp=Math.max(0,n.hp-i),j(t=>[...t,`${e.name}ã®${s.name}! ${n.name}ã«${i}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),s.dotEffect&&(n.statusEffects.push({type:"debuff",name:s.dotEffect.name,duration:s.dotEffect.duration,value:s.dotEffect.damage}),j(e=>[...e,`${n.name}ã«${s.dotEffect?.name}ã‚’ä»˜ä¸Ž!`])),n.hp<=0&&(n.isEliminated=!0,j(e=>[...e,`${n.name}ãŒè„±è½!`]))}else if("aoe"===s.type){let t=s.maxTargets||2,a=i.slice(0,Math.min(t,i.length)),r=L(e).power+e.buffedStats.power;a.forEach(e=>{let t=Math.floor(s.damage*(1+r/100)*(.9+.2*Math.random())),i=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name);i&&(t=Math.floor(t*(1-(i.value||30)/100))),e.hp=Math.max(0,e.hp-t),j(i=>[...i,`${s.name}ãŒ${e.name}ã«${t}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),e.hp<=0&&(e.isEliminated=!0,j(t=>[...t,`${e.name}ãŒè„±è½!`]))})}else if("team_heal"===s.type){let i=t.find(t=>t.members.includes(e)),a=i?.members.filter(e=>!e.isEliminated)||[],r="olympus-blessing"===s.id?1:.5;a.forEach(e=>{let t=Math.floor(e.maxHp*r);e.hp=Math.min(e.maxHp,e.hp+t)}),j(t=>[...t,`${e.name}ã®${s.name}! ãƒãƒ¼ãƒ å…¨å“¡å›žå¾©!`])}else if("defense"===s.type)e.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:2,value:30}),j(t=>[...t,`${e.name}ã®${s.name}!`]);else if("special"===s.type)if("toxic-cloud"===s.id)i.forEach(e=>{e.statusEffects.push({type:"debuff",name:"æ¯’",duration:3,value:10})}),j(t=>[...t,`${e.name}ã®æ¯’éœ§!`]);else if("moon-blessing"===s.id){let t=Math.floor(.4*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),j(t=>[...t,`${e.name}ã¯æœˆã®åŠ è­·ã§HPå›žå¾©!`])}else if("sunlight-heal"===s.id){let t=Math.floor(.5*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),e.buffedStats.power+=25,e.statusEffects.push({type:"buff",name:"å¤ªé™½ã®åŠ›",duration:3,value:25}),j(t=>[...t,`${e.name}ã«æ—¥å…‰ã®åŠ›!`])}else if("hellfire-breath"===s.id)i.forEach(e=>{e.hp=Math.max(0,e.hp-30),e.statusEffects.push({type:"dot",name:"ç‚Žä¸Š",duration:2,value:15}),e.hp<=0&&(e.isEliminated=!0,j(t=>[...t,`${e.name}ãŒè„±è½!`]))}),j(t=>[...t,`${e.name}ã®åœ°ç„ã®ç‚Ž!`]);else if("einherjar"===s.id){let t=Math.floor(.6*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),e.statusEffects.push({type:"buff",name:"å‹‡è€…ã®é­‚",duration:2,value:50}),j(t=>[...t,`${e.name}ã«å‹‡è€…ã®é­‚!`])}else if("all-father"===s.id)e.statusEffects.push({type:"buff",name:"ã‚ªãƒ¼ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼",duration:1,value:100}),e.statusEffects.push({type:"buff",name:"åæ’ƒæº–å‚™",duration:1,value:80}),j(t=>[...t,`${e.name}ãŒå…¨çŸ¥ã®åŠ›ç™ºå‹•!`]);else if("end-world"===s.id)n&&!n.isEliminated&&(n.hp=0,n.isEliminated=!0,j(t=>[...t,`${e.name}ã®${s.name}! ${n.name}ã¯ä¸–ç•Œã‹ã‚‰æ¶ˆæ»…ã—ãŸ!!`]));else if("rebirth"===s.id){let t=Math.floor(.7*e.maxHp);e.hp=Math.min(e.maxHp,e.hp+t),j(t=>[...t,`${e.name}ã®ä¸æ­»é³¥å†ç”Ÿ!`])}else"rainbow-aura"===s.id&&(e.buffedStats.power+=20,e.buffedStats.speed+=20,e.buffedStats.grip+=20,e.statusEffects.push({type:"buff",name:"è™¹ã®ã‚ªãƒ¼ãƒ©",duration:3,value:20}),j(t=>[...t,`${e.name}ã«è™¹ã®ã‚ªãƒ¼ãƒ©!`]));s.cooldown>0&&(e.cooldowns={...e.cooldowns,[s.id]:s.cooldown})}a.forEach(e=>{e.isEliminated||(e.statusEffects.filter(e=>"dot"===e.type).forEach(t=>{t.value&&t.value>0&&(e.hp=Math.max(0,e.hp-t.value),j(i=>[...i,`${e.name}ãŒ${t.name}ã§${t.value}ãƒ€ãƒ¡ãƒ¼ã‚¸!`]),e.hp<=0&&(e.isEliminated=!0,j(t=>[...t,`${e.name}ãŒè„±è½!`])))}),e.statusEffects=e.statusEffects.map(e=>({...e,duration:e.duration-1})),e.statusEffects.filter(e=>e.duration<=0).forEach(t=>{"buff"===t.type?j(i=>[...i,`${e.name}ã®${t.name}åŠ¹æžœãŒåˆ‡ã‚ŒãŸ!`]):"debuff"===t.type?j(i=>[...i,`${e.name}ã®${t.name}ãŒè§£é™¤ã•ã‚ŒãŸ!`]):"dot"===t.type&&j(i=>[...i,`${e.name}ã®${t.name}ãŒæ²»ã£ãŸ!`])}),e.statusEffects=e.statusEffects.filter(e=>e.duration>0),e.cooldowns=Object.entries(e.cooldowns).reduce((e,[t,i])=>({...e,[t]:i>0?i-1:0}),{}))}),t.forEach(e=>{e.members.every(e=>e.isEliminated)&&!e.isEliminated&&(e.isEliminated=!0,j(t=>[...t,`${e.name}ãŒå…¨æ»…!`]))});let n=t.filter(e=>!e.isEliminated),o=t.find(e=>e.members.some(e=>!e.isNpc)),l=a.find(e=>!e.isNpc);if(1===n.length){if(N(n[0]),n[0].members.some(e=>!e.isNpc))E(1),i(300),$(s(1));else{let e=4-t.filter(e=>e.isEliminated&&e.id!==o?.id).length+ +!!o?.isEliminated;E(e),i({1:300,2:150,3:80,4:30}[e]||30),$(s(e))}return d("finished"),t}if(o?.isEliminated&&l?.isEliminated){let e=5-t.filter(e=>e.isEliminated).length;E(e),i({1:300,2:150,3:80,4:30}[e]||30),$(s(e)),d("result")}return t}),h(e=>e+1),d("select")},1500);return()=>clearTimeout(e)},[n,i,s,L]);let z=()=>c.flatMap(e=>e.members).filter(e=>e.teamId!==F?.teamId&&!e.isEliminated);return t?(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border bg-card",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"ãƒãƒ¼ãƒ ãƒãƒˆãƒ«ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«"}),(0,o.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-1",children:[(0,o.jsx)(n2,{className:"w-4 h-4",style:{color:O(D.tier)}}),(0,o.jsx)("span",{className:"text-sm font-medium",style:{color:O(D.tier)},children:D.name})]})]}),(0,o.jsx)("div",{className:"text-sm",children:"waiting"!==n&&"finished"!==n&&(0,o.jsxs)("span",{className:"bg-primary text-primary-foreground px-2 py-1 rounded",children:["R",u]})})]}),(0,o.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,o.jsxs)(C,{mode:"wait",children:["waiting"===n&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full flex flex-col items-center justify-center p-4",children:[(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)(on,{className:"w-16 h-16 mx-auto mb-4 text-primary"}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"4ãƒãƒ¼ãƒ å¯¾æŠ—æˆ¦"}),(0,o.jsx)("p",{className:"text-muted-foreground",children:"3äºº1ãƒãƒ¼ãƒ ã§æˆ¦ã†ãƒãƒˆãƒ«ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«"})]}),(0,o.jsx)("div",{className:"bg-card rounded-xl p-4 mb-6 border border-border w-full max-w-sm",children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-2xl",style:{backgroundColor:`${R[t.rarity]}20`},children:t.emoji}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-bold text-foreground",children:t.name}),(0,o.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Lv.",t.level]})]})]})}),(0,o.jsx)(nz,{onClick:H,size:"lg",className:"w-full max-w-sm bg-primary",children:"ãƒãƒ¼ãƒ æˆ¦é–‹å§‹"})]},"waiting"),("select"===n||"action"===n)&&(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col p-4",children:[(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:c.map(e=>(0,o.jsxs)("div",{className:`bg-card rounded-lg p-2 border-2 ${e.isEliminated?"opacity-50":""}`,style:{borderColor:e.color},children:[(0,o.jsx)("p",{className:"text-xs font-bold mb-1",style:{color:e.color},children:e.name}),(0,o.jsx)("div",{className:"space-y-1",children:e.members.map(e=>(0,o.jsxs)("div",{className:`flex items-center gap-1 text-xs ${e.isEliminated?"line-through opacity-50":""}`,children:[(0,o.jsx)("span",{children:e.hairRoot.emoji}),e.hairRoot.element&&(0,o.jsx)("span",{className:"w-4 h-4 rounded-full text-[8px] flex items-center justify-center text-white font-bold",style:{backgroundColor:T[e.hairRoot.element]},children:S[e.hairRoot.element][0]}),(0,o.jsx)("span",{className:`truncate ${!e.isNpc?"text-primary font-bold":"text-foreground"}`,children:e.name}),(0,o.jsxs)("span",{className:"ml-auto text-muted-foreground",children:[e.hp,"/",e.maxHp]})]},e.id))})]},e.id))}),(0,o.jsx)("div",{ref:A,className:"bg-card rounded-lg p-3 mb-4 max-h-32 overflow-y-auto border border-border",children:(0,o.jsx)("div",{className:"space-y-1",children:v.map((e,t)=>(0,o.jsxs)("p",{className:`text-xs ${e.includes("è„±è½")||e.includes("å…¨æ»…")?"text-destructive font-medium":e.includes("å›žå¾©")?"text-accent font-medium":e.includes(r)?"text-primary":"text-muted-foreground"}`,children:[(0,o.jsxs)("span",{className:"text-muted-foreground/50 mr-1",children:["[",t+1,"]"]}),e]},t))})}),"select"===n&&F&&!F.isEliminated&&(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-foreground",children:"ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠž:"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,o.jsx)(nz,{variant:p?.id==="normal-attack"?"default":"outline",className:`h-auto py-2 px-3 text-left ${p?.id==="normal-attack"?"":"bg-transparent"}`,onClick:()=>f({id:"normal-attack",name:"é€šå¸¸æ”»æ’ƒ",description:"åŸºæœ¬çš„ãªæ”»æ’ƒ",damage:15,cooldown:0,type:"attack"}),children:(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,o.jsx)(om,{className:"w-3 h-3"}),(0,o.jsx)("span",{className:"text-xs font-medium",children:"é€šå¸¸æ”»æ’ƒ"})]}),(0,o.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"å¨åŠ›: 15"})]})}),(0,o.jsx)(nz,{variant:p?.id==="normal-defense"?"default":"outline",className:`h-auto py-2 px-3 text-left ${p?.id==="normal-defense"?"":"bg-transparent"}`,onClick:()=>f({id:"normal-defense",name:"é€šå¸¸é˜²å¾¡",description:"åŸºæœ¬çš„ãªé˜²å¾¡",damage:0,cooldown:0,type:"defense"}),children:(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,o.jsx)(ou,{className:"w-3 h-3"}),(0,o.jsx)("span",{className:"text-xs font-medium",children:"é€šå¸¸é˜²å¾¡"})]}),(0,o.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"è»½æ¸›: 20%"})]})}),F.hairRoot.skills.map(e=>{let t=F.cooldowns[e.id]&&F.cooldowns[e.id]>0;return(0,o.jsx)(nz,{variant:p?.id===e.id?"default":"outline",className:`h-auto py-2 px-3 text-left ${p?.id===e.id?"":"bg-transparent"}`,disabled:t,onClick:()=>f(e),children:(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[("attack"===e.type||"aoe"===e.type||"dot"===e.type)&&(0,o.jsx)(om,{className:"w-3 h-3"}),"defense"===e.type&&(0,o.jsx)(ou,{className:"w-3 h-3"}),("special"===e.type||"team_heal"===e.type)&&(0,o.jsx)(n9,{className:"w-3 h-3"}),(0,o.jsx)("span",{className:"text-xs font-medium",children:e.name})]}),t?(0,o.jsxs)("span",{className:"text-xs text-destructive",children:["CT: ",F.cooldowns[e.id]]}):(0,o.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:["attack"===e.type&&`å¨åŠ›: ${e.damage}`,"aoe"===e.type&&`ç¯„å›²${e.maxTargets}ä½“`,"dot"===e.type&&`${e.damage}+${e.dotEffect?.name}`,"defense"===e.type&&"é˜²å¾¡","team_heal"===e.type&&"å‘³æ–¹å›žå¾©","special"===e.type&&"ç‰¹æ®Š"]})]})},e.id)})]}),p&&(0,o.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 mb-3 text-left",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:["attack"===p.type||"aoe"===p.type||"dot"===p.type?(0,o.jsx)(om,{className:"w-4 h-4 text-destructive"}):"defense"===p.type?(0,o.jsx)(ou,{className:"w-4 h-4 text-primary"}):(0,o.jsx)(n9,{className:"w-4 h-4 text-accent"}),(0,o.jsx)("span",{className:"font-bold text-sm text-foreground",children:p.name})]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:p.description}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 text-[10px]",children:[p.damage>0&&(0,o.jsxs)("span",{className:"bg-destructive/20 text-destructive px-2 py-0.5 rounded",children:["å¨åŠ›: ",p.damage]}),p.cooldown>0&&(0,o.jsxs)("span",{className:"bg-muted text-muted-foreground px-2 py-0.5 rounded",children:["CT: ",p.cooldown,"ã‚¿ãƒ¼ãƒ³"]}),"aoe"===p.type&&(0,o.jsxs)("span",{className:"bg-primary/20 text-primary px-2 py-0.5 rounded",children:["ç¯„å›²: æœ€å¤§",p.maxTargets||3,"ä½“"]}),"dot"===p.type&&p.dotEffect&&(0,o.jsxs)("span",{className:"bg-accent/20 text-accent px-2 py-0.5 rounded",children:[p.dotEffect.name,": ",p.dotEffect.damage,"/ã‚¿ãƒ¼ãƒ³ x",p.dotEffect.duration]}),"defense"===p.type&&(0,o.jsx)("span",{className:"bg-primary/20 text-primary px-2 py-0.5 rounded",children:"ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›"}),"team_heal"===p.type&&(0,o.jsx)("span",{className:"bg-accent/20 text-accent px-2 py-0.5 rounded",children:"å‘³æ–¹å…¨ä½“å›žå¾©"}),"special"===p.type&&(0,o.jsx)("span",{className:"bg-accent/20 text-accent px-2 py-0.5 rounded",children:"ç‰¹æ®ŠåŠ¹æžœ"})]})]}),p&&("attack"===p.type||"dot"===p.type)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-sm font-medium text-foreground",children:"ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸æŠž:"}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-2 max-h-32 overflow-y-auto",children:z().map(e=>(0,o.jsx)(nz,{variant:x===e.id?"default":"outline",className:`h-auto py-2 ${x===e.id?"":"bg-transparent"}`,onClick:()=>g(e.id),children:(0,o.jsxs)("div",{className:"text-center w-full",children:[(0,o.jsx)("div",{className:"text-lg",children:e.hairRoot.emoji}),(0,o.jsx)("p",{className:"text-xs truncate",children:e.name}),(0,o.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.hp,"HP"]})]})},e.id))})]}),p&&"aoe"===p.type&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"text-sm font-medium text-foreground",children:["ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸æŠž (æœ€å¤§",p.maxTargets,"ä½“):"]}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-2 max-h-32 overflow-y-auto",children:z().map(e=>(0,o.jsx)(nz,{variant:y.includes(e.id)?"default":"outline",className:`h-auto py-2 ${y.includes(e.id)?"":"bg-transparent"}`,onClick:()=>{b(t=>t.includes(e.id)?t.filter(t=>t!==e.id):t.length>=(p.maxTargets||2)?[...t.slice(1),e.id]:[...t,e.id])},children:(0,o.jsxs)("div",{className:"text-center w-full",children:[(0,o.jsx)("div",{className:"text-lg",children:e.hairRoot.emoji}),(0,o.jsx)("p",{className:"text-xs truncate",children:e.name}),(0,o.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.hp,"HP"]})]})},e.id))})]}),(0,o.jsx)(nz,{onClick:I,disabled:!p||("attack"===p.type||"dot"===p.type)&&null===x||"aoe"===p.type&&0===y.length,className:"w-full bg-primary",children:"å®Ÿè¡Œ"})]}),"action"===n&&(0,o.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,o.jsx)(rG.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})})]},"battle"),"result"===n&&(0,o.jsx)(rG.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex-1 flex flex-col items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-destructive mb-4",children:"ãƒãƒ¼ãƒ æ•—é€€..."}),(0,o.jsxs)("p",{className:"text-xl text-foreground mb-2",children:["ç¬¬",k,"ä½"]}),(0,o.jsxs)("p",{className:"text-secondary mb-2",children:["+",{1:300,2:150,3:80,4:30}[k]||30,"ã‚³ã‚¤ãƒ³ç²å¾—!"]}),null!==M&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("span",{className:"text-lg font-bold",style:{color:O(D.tier)},children:D.name}),(0,o.jsxs)("span",{className:`ml-2 font-medium ${M>=0?"text-green-500":"text-red-500"}`,children:[M>=0?"+":"",M," RP"]})]}),(0,o.jsx)(nz,{onClick:()=>e("home"),className:"mt-6 bg-primary",children:"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"})]})},"result"),"finished"===n&&w&&(0,o.jsxs)(rG.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex-1 flex flex-col items-center justify-center p-4",children:[(0,o.jsx)(rG.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5,repeat:1/0},children:(0,o.jsx)(n3,{className:"w-20 h-20 mb-4",style:{color:w.color}})}),(0,o.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-2",children:w.members.some(e=>!e.isNpc)?"å„ªå‹!":`${w.name}ã®å‹åˆ©!`}),w.members.some(e=>!e.isNpc)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-xl text-secondary mt-4",children:"+300ã‚³ã‚¤ãƒ³ç²å¾—!"}),null!==M&&(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("span",{className:"text-lg font-bold",style:{color:O(D.tier)},children:D.name}),(0,o.jsxs)("span",{className:"ml-2 font-medium text-green-500",children:["+",M," RP"]})]})]}):(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("p",{className:"text-muted-foreground",children:["ã‚ãªãŸã®ãƒãƒ¼ãƒ é †ä½: ç¬¬",k,"ä½"]}),(0,o.jsxs)("p",{className:"text-secondary mt-1",children:["+",{1:300,2:150,3:80,4:30}[k]||30,"ã‚³ã‚¤ãƒ³ç²å¾—!"]}),null!==M&&(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("span",{className:"text-lg font-bold",style:{color:O(D.tier)},children:D.name}),(0,o.jsxs)("span",{className:`ml-2 font-medium ${M>=0?"text-green-500":"text-red-500"}`,children:[M>=0?"+":"",M," RP"]})]})]}),(0,o.jsx)(nz,{onClick:()=>e("home"),className:"mt-8 bg-primary",children:"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"})]},"finished")]})})]}):(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border bg-card",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"ãƒãƒ¼ãƒ ãƒãƒˆãƒ«ãƒ­ãƒ¯ã‚¤ãƒ¤ãƒ«"}),(0,o.jsx)("div",{})]}),(0,o.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"text-muted-foreground mb-4",children:"æ¯›æ ¹ã‚’é¸æŠžã—ã¦ãã ã•ã„"}),(0,o.jsx)(nz,{onClick:()=>e("collection"),children:"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¸"})]})})]})}function ov({onNavigate:e}){let{collection:t,defeatBossRaid:i}=Q(),[a,s]=(0,l.useState)("preparation"),[r,n]=(0,l.useState)([]),[d,c]=(0,l.useState)([]),[m,u]=(0,l.useState)(1),[h,p]=(0,l.useState)(null),[f,x]=(0,l.useState)(null),[g,y]=(0,l.useState)([]),[b,v]=(0,l.useState)(!1),j=5===r.length,w=(e,t)=>e.element&&t.element?P(e.element,t.element).attackMod:1,N=e=>{if(!h||b)return;let t=void 0!==e?e:f,a=d.find(e=>999!==e.id&&!e.isEliminated);a&&(v(!0),s("action"),c(e=>{let s=[...e],r=s.find(e=>e.id===a.id),n=s.find(e=>999===e.id);if(!r||!n)return e;let o=s.filter(e=>999!==e.id&&!e.isEliminated);if(!r)return e;let l=_(r.hairRoot),d=(l?.power??0)+(r.buffedStats.power||0),c=[];if("normal-attack"===h.id){if(null!==t){let e=s.find(e=>e.id===t);if(e&&!e.isEliminated){let t=w(r.hairRoot,e.hairRoot),a=Math.floor(15*(1+d/100)*t),s=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),n=s?.value?Math.floor(a*(1-s.value/100)):a;e.hp=Math.max(0,e.hp-n);let o=s?` (é˜²å¾¡ã§${a-n}è»½æ¸›)`:"";c.push(`${r.name}ã®é€šå¸¸æ”»æ’ƒãŒ${e.name}ã«${n}ãƒ€ãƒ¡ãƒ¼ã‚¸!${t>1?" (å±žæ€§æœ‰åˆ©!)":t<1?" (å±žæ€§ä¸åˆ©)":""}${o}`),e.hp<=0&&(e.isEliminated=!0,999===e.id?(c.push("ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã‚’å€’ã—ãŸï¼"),i()):c.push(`${e.name}ãŒè„±è½!`))}}}else if("normal-defense"===h.id)r.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:1,value:20}),c.push(`${r.name}ã¯é€šå¸¸é˜²å¾¡ã§20%ã®ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’è»½æ¸›!`);else if("attack"===h.type){if(null!==t){let e=s.find(e=>e.id===t);if(e&&!e.isEliminated){let t=h.damage||0,a=w(r.hairRoot,e.hairRoot),s=Math.floor(t*(1+d/100)*a),n=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),o=n?.value?Math.floor(s*(1-n.value/100)):s;e.hp=Math.max(0,e.hp-o);let l=n?` (é˜²å¾¡ã§${s-o}è»½æ¸›)`:"";c.push(`${r.name}ã®${h.name}ãŒ${e.name}ã«${o}ãƒ€ãƒ¡ãƒ¼ã‚¸!${a>1?" (å±žæ€§æœ‰åˆ©!)":a<1?" (å±žæ€§ä¸åˆ©)":""}${l}`),e.hp<=0&&(e.isEliminated=!0,999===e.id?(c.push("ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã‚’å€’ã—ãŸï¼"),i()):c.push(`${e.name}ãŒè„±è½!`))}}}else if("aoe"===h.type)[n].forEach(e=>{let t=h.damage||0,a=w(r.hairRoot,e.hairRoot),s=Math.floor(t*(1+d/100)*a),n=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),o=n?.value?Math.floor(s*(1-n.value/100)):s;e.hp=Math.max(0,e.hp-o);let l=n?` (é˜²å¾¡ã§${s-o}è»½æ¸›)`:"";c.push(`${h.name}ãŒ${e.name}ã«${o}ãƒ€ãƒ¡ãƒ¼ã‚¸!${a>1?" (å±žæ€§æœ‰åˆ©!)":a<1?" (å±žæ€§ä¸åˆ©)":""}${l}`),e.hp<=0&&(e.isEliminated=!0,999===e.id?(c.push("ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã‚’å€’ã—ãŸï¼"),i()):c.push(`${e.name}ãŒè„±è½!`))});else if("defense"===h.type){let e=K(r.hairRoot),t=Math.min(100,Math.floor(("normal-defense"===h.id?20:"demon-king-shell"===h.id?90:25)*e));r.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:1,value:t}),c.push(`${r.name}ã®${h.name}ã§${t}%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›!`)}else if("special"===h.type){if("absolute-zero"===h.id){K(r.hairRoot);let e=[n,...o],t=h.damage||0;e.forEach(e=>{let a=Math.floor(t*(1+d/100)*w(r.hairRoot,e.hairRoot)),s=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),n=s?.value?Math.floor(a*(1-s.value/100)):a;e.hp=Math.max(0,e.hp-n),e.statusEffects.push({type:"debuff",name:"å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ€ã‚¦ãƒ³",duration:2,value:20,stat:"all"}),c.push(`${h.name}ãŒ${e.name}ã«${n}ãƒ€ãƒ¡ãƒ¼ã‚¸! (å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹20%ãƒ€ã‚¦ãƒ³)`),e.hp<=0&&(e.isEliminated=!0,999===e.id?(c.push("ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã‚’å€’ã—ãŸï¼"),i()):c.push(`${e.name}ãŒè„±è½!`))})}}else if("team_heal"===h.type){let e=K(r.hairRoot),i=null!==t?s.find(e=>e.id===t):r;if(i&&!i.isEliminated){let t=Math.floor((h.damage||50)*e);i.hp=Math.min(i.maxHp,i.hp+t),c.push(`${r.name}ã®${h.name}ã§${i.name}ã‚’${t}å›žå¾©ã—ãŸï¼`)}}if(!n.isEliminated){let e=o.filter(e=>e.id!==r.id),t=e.find(e=>e.hairRoot.skills.some(e=>"team_heal"===e.type))||e[0],a=o.some(e=>e.hp/e.maxHp<.5);e.forEach(e=>{if(n.isEliminated||e.isEliminated)return;let s=e.hairRoot.skills.filter(t=>0>=(e.cooldowns[t.id]||0)),r=[...s,{id:"normal-defense",name:"é€šå¸¸é˜²å¾¡",damage:0,cooldown:0,type:"defense",description:"è»½æ¸›: 20%"}],l=r.filter(e=>"defense"===e.type),d=r.filter(e=>"defense"!==e.type&&"team_heal"!==e.type),m=t&&e.id===t.id,u=m&&a?0===o.length?null:o.reduce((e,t)=>{let i=e.hp/e.maxHp;return t.hp/t.maxHp<i?t:e},o[0]):null,h=m?s.find(e=>"team_heal"===e.type):void 0,p={id:"normal-attack",name:"é€šå¸¸æ”»æ’ƒ",damage:15,cooldown:0,type:"attack",description:"å¨åŠ›: 15"},f=null;if(h&&u&&u.hp/u.maxHp<.5)p=h,f=u;else if(l.length>0&&e.hp/e.maxHp<.5)p=l[0];else if(l.length>0&&.25>Math.random())p=l[Math.floor(Math.random()*l.length)];else if(d.length>0)for(let e of["attack","aoe","special"]){let t=d.find(t=>t.type===e);if(t){p=t;break}}if("team_heal"===p.type&&f){let t=K(e.hairRoot),i=Math.floor((p.damage||50)*t);f.hp=Math.min(f.maxHp,f.hp+i),c.push(`${e.name}ã®${p.name}ã§${f.name}ã‚’${i}å›žå¾©ã—ãŸï¼`)}else if("defense"===p.type){let t=K(e.hairRoot),i=25;"normal-defense"===p.id?i=20:"demon-king-shell"===p.id&&(i=90);let a=Math.min(100,Math.floor(i*t));e.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:1,value:a}),c.push(`${e.name}ã®${p.name}ã§${a}%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›!`)}else if("attack"===p.type||"aoe"===p.type||"special"===p.type){let t,a,s,r,o,l,d,m=p.damage||0,u="normal-attack"===p.id?"ã®é€šå¸¸æ”»æ’ƒãŒ":`ã®${p.name}ãŒ`;!n.isEliminated&&(t=_(e.hairRoot),a=(t?.power??0)+(e.buffedStats.power||0),r=Math.floor(m*(1+a/100)*(s=w(e.hairRoot,n.hairRoot))),o=n.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),l=o?.value?Math.floor(r*(1-o.value/100)):r,n.hp=Math.max(0,n.hp-l),d=o?` (é˜²å¾¡ã§${r-l}è»½æ¸›)`:"",c.push(`${e.name}${u}${n.name}ã«${l}ãƒ€ãƒ¡ãƒ¼ã‚¸!${s>1?" (å±žæ€§æœ‰åˆ©!)":s<1?" (å±žæ€§ä¸åˆ©)":""}${d}`),n.hp<=0&&(n.isEliminated=!0,999===n.id?(c.push("ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã‚’å€’ã—ãŸï¼"),i()):c.push(`${n.name}ãŒè„±è½!`)))}p.cooldown>0&&(e.cooldowns={...e.cooldowns,[p.id]:p.cooldown+1})})}return h.cooldown>0&&(r.cooldowns={...r.cooldowns,[h.id]:h.cooldown+1}),y(e=>[...e,...c]),s}),setTimeout(()=>k(),1500))},k=()=>{c(e=>{let t=[...e],i=t.find(e=>999===e.id),a=t.filter(e=>999!==e.id&&!e.isEliminated);if(i.isEliminated||0===a.length)return 0===a.length&&y(e=>[...e,"ã™ã¹ã¦ã®æ¯›æ ¹ãŒçµ¶æ»…ã—ãŸ..."]),s("finished"),v(!1),t;let r=i.hairRoot.skills.filter(e=>0>=(i.cooldowns[e.id]||0)),n=r.length>0?r[Math.floor(Math.random()*r.length)]:{id:"normal-attack",name:"é€šå¸¸æ”»æ’ƒ",damage:15,cooldown:0,type:"attack",description:""},o=[];if(o.push(`ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ãŒã€Œ${n.name}ã€ã‚’ä½¿ç”¨ã—ãŸï¼`),n.cooldown>0&&(i.cooldowns={...i.cooldowns,[n.id]:n.cooldown+1}),"normal-attack"===n.id&&a.length>0){let e=a[Math.floor(Math.random()*a.length)],t=_(i.hairRoot),s=Math.floor(15*(1+((t?.power??0)+(i.buffedStats.power||0))/100)*w(i.hairRoot,e.hairRoot)),r=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),n=r?.value?Math.floor(s*(1-r.value/100)):s;e.hp=Math.max(0,e.hp-n);let l=r?` (é˜²å¾¡ã§${s-n}è»½æ¸›)`:"";o.push(`${e.name}ã«${n}ãƒ€ãƒ¡ãƒ¼ã‚¸!${l}`),e.hp<=0&&(e.isEliminated=!0,o.push(`${e.name}ãŒè„±è½!`))}else if("normal-defense"===n.id)i.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:1,value:20}),o.push(`20%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›!`);else if("attack"===n.type&&a.length>0){let e=a[Math.floor(Math.random()*a.length)],t=_(i.hairRoot),s=(t?.power??0)+(i.buffedStats.power||0),r=Math.floor((n.damage||0)*(1+s/100)*w(i.hairRoot,e.hairRoot)),l=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),d=l?.value?Math.floor(r*(1-l.value/100)):r;e.hp=Math.max(0,e.hp-d);let c=l?` (é˜²å¾¡ã§${r-d}è»½æ¸›)`:"";o.push(`${e.name}ã«${d}ãƒ€ãƒ¡ãƒ¼ã‚¸!${c}`),e.hp<=0&&(e.isEliminated=!0,o.push(`${e.name}ãŒè„±è½!`))}else if("aoe"===n.type)a.forEach(e=>{let t=_(i.hairRoot),a=(t?.power??0)+(i.buffedStats.power||0),s=Math.floor((n.damage||0)*(1+a/100)*w(i.hairRoot,e.hairRoot)),r=e.statusEffects.find(e=>"buff"===e.type&&"é˜²å¾¡å¼·åŒ–"===e.name),l=r?.value?Math.floor(s*(1-r.value/100)):s;e.hp=Math.max(0,e.hp-l);let d=r?` (é˜²å¾¡ã§${s-l}è»½æ¸›)`:"";o.push(`${e.name}ã«${l}ãƒ€ãƒ¡ãƒ¼ã‚¸!${d}`),e.hp<=0&&(e.isEliminated=!0,o.push(`${e.name}ãŒè„±è½!`))});else if("defense"===n.type){let e=K(i.hairRoot),t=20;"normal-defense"===n.id?t=20:"demon-king-shell-raid"===n.id&&(t=90);let a=Math.min(100,Math.floor(t*e));i.statusEffects.push({type:"buff",name:"é˜²å¾¡å¼·åŒ–",duration:1,value:a}),o.push(`${a}%ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›!`)}return 0===t.filter(e=>999!==e.id&&!e.isEliminated).length?(y(e=>[...e,...o,"æ¯›æ ¹ãŒæ­»æ»…ã—ãŸ..."]),s("finished")):(t.forEach(e=>{Object.keys(e.cooldowns).forEach(t=>{e.cooldowns[t]>0&&e.cooldowns[t]--})}),y(e=>[...e,...o]),u(e=>e+1),s("selecting"),p(null),x(null)),v(!1),t})};if(!B)return null;let E=d.find(e=>999===e.id),M=d.filter(e=>999!==e.id),C=M.find(e=>!e.isEliminated),S=C?C.hairRoot.skills:[],T=M.filter(e=>!e.isEliminated);return E&&!E.isEliminated&&[...T],(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border bg-card",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsxs)("h1",{className:"text-xl font-bold",children:["é­”çŽ‹è¨Žä¼ - ","finished"===a?"çµ‚äº†":`ç¬¬${m}ã‚¿ãƒ¼ãƒ³`]}),(0,o.jsx)("div",{className:"w-6"})]}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:["preparation"===a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-lg p-4 border border-border text-center",children:[(0,o.jsx)("div",{className:"text-5xl mb-2",children:B.emoji}),(0,o.jsx)("h2",{className:"text-xl font-bold mb-2",children:B.name}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:B.description}),(0,o.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[(0,o.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,o.jsx)("p",{className:"text-muted-foreground",children:"HP"}),(0,o.jsx)("p",{className:"font-bold",children:"3000"})]}),(0,o.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,o.jsx)("p",{className:"text-muted-foreground",children:"åŠ›"}),(0,o.jsx)("p",{className:"font-bold",children:B.power})]}),(0,o.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,o.jsx)("p",{className:"text-muted-foreground",children:"é€Ÿ"}),(0,o.jsx)("p",{className:"font-bold",children:B.speed})]}),(0,o.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,o.jsx)("p",{className:"text-muted-foreground",children:"æ¡"}),(0,o.jsx)("p",{className:"font-bold",children:B.grip})]})]})]}),(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card rounded-lg p-4 border border-border",children:[(0,o.jsxs)("h3",{className:"font-bold mb-3",children:["ãƒãƒ¼ãƒ é¸æŠž (",r.length,"/5)"]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"â€» æ‰€æœ‰ã—ã¦ã„ã‚‹æ¯›æ ¹5ä½“ã‚’é¸æŠž"}),(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:t.map((e,t)=>(0,o.jsxs)("button",{onClick:()=>{r.find(t=>t.id===e.id&&t.level===e.level)?n(r.filter(t=>t.id!==e.id||t.level!==e.level)):r.length<5&&n([...r,e])},className:`p-3 rounded-lg text-left border text-sm ${r.find(t=>t.id===e.id&&t.level===e.level)?"border-primary bg-primary/20":"border-border bg-muted"}`,children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,o.jsx)("span",{children:e.emoji}),(0,o.jsx)("span",{className:"font-medium truncate",children:e.name})]}),(0,o.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Lv.",e.level]})]},`${e.id}-${t}`))})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(nz,{variant:"outline",className:"flex-1",onClick:()=>e("home"),children:"æˆ»ã‚‹"}),(0,o.jsx)(nz,{className:"flex-1 bg-red-600 hover:bg-red-700",onClick:()=>{let e={...B,level:1,exp:0,count:1,skills:X};_(e),c([{id:999,name:B.name,hairRoot:e,hp:3e3,maxHp:3e3,isEliminated:!1,cooldowns:{},statusEffects:[],buffedStats:{power:0,speed:0,grip:0}},...r.map((e,t)=>{let i=_(e),a=Math.max(1,Math.floor((100+(i?.power??0)+(i?.grip??0))*1.2));return{id:t,name:e.name,hairRoot:e,hp:a,maxHp:a,isEliminated:!1,cooldowns:{},statusEffects:[],buffedStats:{power:0,speed:0,grip:0}}})]),s("selecting"),y(["é­”çŽ‹ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ãŒé™è‡¨ã—ãŸï¼","ã€Œå…¨æ¬¡å…ƒã®åŠ›ã§ã€ãŠå‰é”ã‚’æ¶ˆã—åŽ»ã£ã¦ã‚„ã‚‹...ã€"])},disabled:!j,children:"ãƒãƒˆãƒ«é–‹å§‹"})]})]}),("selecting"===a||"action"===a)&&E&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-card rounded-lg p-3 border border-border",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsx)("span",{className:"font-bold",children:E.name}),(0,o.jsxs)("span",{className:"text-sm text-muted-foreground",children:["HP: ",Math.max(0,Math.floor(E.hp??E.maxHp)),"/",E.maxHp]})]}),(0,o.jsx)("div",{className:"w-full h-6 bg-muted rounded-full overflow-hidden",children:(0,o.jsx)(rG.div,{className:"h-full bg-red-500",initial:{width:"100%"},animate:{width:`${Math.max(0,E.hp??E.maxHp)/E.maxHp*100}%`},transition:{duration:.3}})})]}),(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2",children:M.map(e=>(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},className:`p-3 rounded-lg border ${e.isEliminated?"border-border bg-muted/50 opacity-50":C?.id===e.id?"border-primary bg-primary/20":"border-border bg-card"}`,children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,o.jsx)("span",{className:"text-xs font-medium truncate",children:e.name}),(0,o.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.max(0,Math.floor(e.hp??e.maxHp)),"/",e.maxHp]})]}),(0,o.jsx)("div",{className:"w-full h-3 bg-muted rounded-full overflow-hidden",children:(0,o.jsx)(rG.div,{className:"h-full bg-green-500",initial:{width:"100%"},animate:{width:`${Math.max(0,e.hp??e.maxHp)/e.maxHp*100}%`},transition:{duration:.3}})})]},e.id))}),(0,o.jsx)(rG.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-muted rounded-lg p-3 max-h-32 overflow-y-auto",children:g.map((e,t)=>(0,o.jsx)("p",{className:"text-xs text-foreground mb-1",children:e},t))}),"selecting"===a&&C&&!b&&d.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"bg-card rounded-lg p-3 border border-border",children:[(0,o.jsxs)("p",{className:"text-sm font-bold mb-2",children:[C.name,"ã®ã‚¿ãƒ¼ãƒ³"]}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"ã‚¹ã‚­ãƒ«ã‚’é¸æŠžã—ã¦ãã ã•ã„"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,o.jsxs)("button",{onClick:()=>p({id:"normal-attack",name:"é€šå¸¸æ”»æ’ƒ",damage:15,cooldown:0,type:"attack",description:"å¨åŠ›: 15"}),className:`p-2 rounded-lg text-left border text-xs transition-all ${h?.id==="normal-attack"?"border-primary bg-primary/20":"border-border bg-muted hover:bg-muted/80"}`,children:[(0,o.jsx)("p",{className:"font-medium",children:"é€šå¸¸æ”»æ’ƒ"}),(0,o.jsx)("p",{className:"text-muted-foreground text-xs",children:"å¨åŠ›: 15"})]}),(0,o.jsxs)("button",{onClick:()=>p({id:"normal-defense",name:"é€šå¸¸é˜²å¾¡",damage:0,cooldown:0,type:"defense",description:"è»½æ¸›: 20%"}),className:`p-2 rounded-lg text-left border text-xs transition-all ${h?.id==="normal-defense"?"border-primary bg-primary/20":"border-border bg-muted hover:bg-muted/80"}`,children:[(0,o.jsx)("p",{className:"font-medium",children:"é€šå¸¸é˜²å¾¡"}),(0,o.jsx)("p",{className:"text-muted-foreground text-xs",children:"è»½æ¸›: 20%"})]}),S.map(e=>{let t=(C.cooldowns[e.id]||0)>0;return(0,o.jsxs)("button",{onClick:()=>!t&&p(e),disabled:t,className:`p-2 rounded-lg text-left border text-xs transition-all ${t?"border-border bg-muted/50 opacity-50 cursor-not-allowed":h?.id===e.id?"border-primary bg-primary/20":"border-border bg-muted hover:bg-muted/80"}`,children:[(0,o.jsx)("p",{className:"font-medium",children:e.name}),(0,o.jsx)("p",{className:"text-muted-foreground text-xs",children:e.description}),t&&(0,o.jsxs)("p",{className:"text-muted-foreground text-xs mt-1",children:["CT: ",C.cooldowns[e.id]]})]},e.id)})]})]}),h?.id==="normal-attack"&&(0,o.jsxs)("div",{className:"bg-card rounded-lg p-3 border border-primary",children:[(0,o.jsx)("p",{className:"text-xs font-bold mb-2",children:"å¯¾è±¡ã‚’é¸æŠž"}),(0,o.jsx)("div",{className:"space-y-2",children:E&&!E.isEliminated&&(0,o.jsx)(nz,{className:"w-full text-xs",variant:999===f?"default":"outline",onClick:()=>N(999),disabled:b,children:E.name})})]}),h?.id==="normal-defense"&&(0,o.jsxs)(nz,{className:"w-full text-xs",onClick:()=>N(),disabled:b,children:["é˜²å¾¡ - ",C.name,"ã«ä½¿ç”¨"]}),h&&"normal-attack"!==h.id&&"normal-defense"!==h.id&&(0,o.jsxs)("div",{className:"bg-card rounded-lg p-3 border border-primary",children:[(0,o.jsx)("p",{className:"text-xs font-bold mb-2",children:"å¯¾è±¡ã‚’é¸æŠž"}),(0,o.jsx)("div",{className:"space-y-2",children:"defense"===h.type?(0,o.jsxs)(nz,{className:"w-full text-xs",onClick:()=>N(),disabled:b,children:["é˜²å¾¡ - ",C.name,"ã«ä½¿ç”¨"]}):"team_heal"===h.type?M.filter(e=>!e.isEliminated).map(e=>(0,o.jsx)(nz,{variant:"outline",className:"w-full text-xs",onClick:()=>N(e.id),disabled:b,children:e.name},e.id)):"special"===h.type?(0,o.jsxs)(nz,{className:"w-full text-xs",onClick:()=>N(),disabled:b,children:["å…¨ä½“ã‚¹ã‚­ãƒ« - ",h.name]}):"aoe"===h.type?(0,o.jsx)(nz,{className:"w-full text-xs",onClick:()=>N(),disabled:b,children:"å…¨æ•µã«ä½¿ç”¨"}):E&&!E.isEliminated&&(0,o.jsx)(nz,{variant:"outline",className:"w-full text-xs",onClick:()=>N(E.id),disabled:b,children:E.name},E.id)})]})]})]}),"finished"===a&&(0,o.jsxs)(rG.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`relative overflow-hidden rounded-lg p-6 text-center text-white ${E&&E.hp<=0?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-red-500 to-rose-600"}`,children:[E&&E.hp>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(rG.div,{"aria-hidden":"true",initial:{opacity:.4},animate:{opacity:[.35,.65,.35],scale:[1,1.08,1]},transition:{duration:1.8,repeat:1/0},className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(0,0,0,0.35),rgba(0,0,0,0.85))]"}),(0,o.jsx)(rG.div,{"aria-hidden":"true",initial:{y:0,rotate:-3},animate:{y:[0,-8,0],rotate:[-3,3,-3]},transition:{duration:1.2,repeat:1/0},className:"pointer-events-none absolute top-4 right-6 text-3xl",children:"â˜ ï¸"})]}),(0,o.jsxs)("div",{className:"relative z-10",children:[(0,o.jsx)("div",{className:"text-5xl mb-4",children:E&&E.hp<=0?"ðŸŽ‰":"â˜ ï¸"}),(0,o.jsx)("h2",{className:"text-2xl font-bold mb-4",children:E&&E.hp<=0?"å‹åˆ©ï¼":"æ•—åŒ—..."}),E&&E.hp<=0&&(0,o.jsxs)("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[(0,o.jsx)("p",{className:"mb-2",children:"ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã‚’å€’ã—ãŸï¼"}),(0,o.jsx)("p",{className:"text-xl font-bold mb-2",children:"ðŸ‘‘ ã‚³ã‚ºãƒŸãƒƒã‚¯ãƒ¬ã‚¢"}),(0,o.jsx)("p",{className:"text-lg",children:"è¶…æ¬¡å…ƒæ¯›æ ¹é­”çŽ‹ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰"}),(0,o.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,o.jsx)("p",{className:"text-sm",children:"+1000 ã‚³ã‚¤ãƒ³"}),(0,o.jsx)("p",{className:"text-sm",children:"+500 çµŒé¨“å€¤"})]})]}),E&&E.hp>0&&(0,o.jsxs)("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[(0,o.jsx)("p",{className:"text-2xl font-bold mb-2",children:"æ¯›æ ¹ãŒæ­»æ»…ã—ãŸ"}),(0,o.jsx)("p",{className:"text-sm",children:"é­”çŽ‹ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã«æ•—åŒ—ã—ãŸ..."})]}),(0,o.jsx)(nz,{className:`w-full ${E&&E.hp<=0?"bg-white text-green-600 hover:bg-gray-100":"bg-white text-red-600 hover:bg-gray-100"}`,onClick:()=>e("home"),children:"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"})]})]})]})]})}let oj=nY("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ow=[{id:"gacha",title:"ã‚¬ãƒãƒ£",icon:"ðŸŽ°",description:"æ¯›æ ¹ã‚’å¼•ãæŠœã“ã†",details:["ã‚³ã‚¤ãƒ³ã‚’æ¶ˆè²»ã—ã¦æ¯›æ ¹ã‚’å…¥æ‰‹ã§ãã¾ã™","å˜ç™ºã‚¬ãƒãƒ£ï¼š10ã‚³ã‚¤ãƒ³ï¼ˆ1ä½“ï¼‰","10é€£ã‚¬ãƒãƒ£ï¼š100ã‚³ã‚¤ãƒ³ï¼ˆ10ä½“ï¼‰","æŽ’å‡ºçŽ‡ï¼šN49.9%/R30%/SR14%/SSR5%/LR1%/CH0.1%","ãƒ¬ã‚¢ãƒªãƒ†ã‚£ãŒé«˜ã„ã»ã©ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒé«˜ã‚ã§ã™","åŒã˜æ¯›æ ¹ã‚’10ä½“é›†ã‚ã‚‹ã“ã¨ã§é€²åŒ–ã§ãã¾ã™"]},{id:"collection",title:"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³",icon:"ðŸ“¦",description:"æ¯›æ ¹å›³é‘‘",details:["ç²å¾—ã—ãŸæ¯›æ ¹ã®ä¸€è¦§ã¨é€²æ—ã‚’ç¢ºèªã§ãã¾ã™","è©³ç´°ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»ã‚¹ã‚­ãƒ«ãƒ»æ‰€æŒæ•°ã‚’ç¢ºèªã§ãã¾ã™","é¸æŠžã—ãŸæ¯›æ ¹ãŒ1vs1/ãƒãƒˆãƒ­ãƒ¯/ãƒãƒ¼ãƒ ãƒãƒˆãƒ­ãƒ¯ã§ä½¿ç”¨ã•ã‚Œã¾ã™","åŒã˜æ¯›æ ¹ã‚’10ä½“é›†ã‚ã‚‹ã¨é€²åŒ–ã§ãã¾ã™","é€²åŒ–ãƒœãƒ¼ãƒŠã‚¹ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨ã‚¹ã‚­ãƒ«å¨åŠ›ãŒå¼·åŒ–ã•ã‚Œã¾ã™","é€²åŒ–å¾Œã‚‚å…ƒã®æ¯›æ ¹ã¯å›³é‘‘ã«æ®‹ã‚Šã¾ã™"]},{id:"training",title:"è‚²æˆ",icon:"ðŸ’ª",description:"æ¯›æ ¹ã‚’è‚²ã¦ã‚ˆã†",details:["ã‚³ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã—EXPã‚’ç²å¾—ã—ã¾ã™","è»½ã„:+20EXP/5ã‚³ã‚¤ãƒ³ã€é€šå¸¸:+50EXP/15ã‚³ã‚¤ãƒ³ã€ãƒãƒ¼ãƒ‰:+120EXP/40ã‚³ã‚¤ãƒ³","ä¸€å®šã®EXPé‡ã§ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒä¸Šæ˜‡ã—ã¾ã™","ãƒ¬ãƒ™ãƒ«ã¯æœ€å¤§10ã§ã™","ãƒãƒˆãƒ«ã§ã¯EXPã¯å¢—ãˆã¾ã›ã‚“"]},{id:"matchmaking",title:"1vs1å¯¾æˆ¦",icon:"âš”ï¸",description:"ãƒãƒˆãƒ«ã«æŒ‘æˆ¦",details:["é¸æŠžä¸­ã®æ¯›æ ¹ã§1vs1ã®å¼•ã£å¼µã‚Šå‹è² ã‚’ã—ã¾ã™","çµ¡ã¿åˆã„ã®å¾Œã€10ç§’é–“ã®ã‚¿ãƒƒãƒ—å‹è² ãŒå§‹ã¾ã‚Šã¾ã™","å±žæ€§ç›¸æ€§ã§å¼•ãã®å¼·ã•ãŒå¤‰åŒ–ã—ã¾ã™","å‹åˆ©+50/æ•—åŒ—+10/å¼•ãåˆ†ã‘+20ã‚³ã‚¤ãƒ³","å‹æ•—ã§ãƒ©ãƒ³ã‚¯ãƒã‚¤ãƒ³ãƒˆãŒå¢—æ¸›ã—ã¾ã™"]},{id:"battle-royale",title:"ã‚½ãƒ­ãƒãƒˆãƒ­ãƒ¯",icon:"ðŸ‘‘",description:"8äººã§æœ€å¼·æ±ºå®šæˆ¦",details:["ã‚ãªãŸ+NPC7ä½“ã®8äººãƒãƒˆãƒ­ãƒ¯ã§ã™","ã‚¿ãƒ¼ãƒ³åˆ¶ã§ã‚¹ã‚­ãƒ«ã‚’é¸æŠžã—ã¦æˆ¦ã„ã¾ã™","çŠ¶æ…‹ç•°å¸¸ã‚„CTã®ã‚ã‚‹ã‚¹ã‚­ãƒ«ãŒã‚ã‚Šã¾ã™","è„±è½é †ã§é †ä½ãŒæ±ºã¾ã‚Šã¾ã™","é †ä½ã«å¿œã˜ã¦ã‚³ã‚¤ãƒ³å ±é…¬ã¨ãƒ©ãƒ³ã‚¯ãƒã‚¤ãƒ³ãƒˆãŒå¤‰å‹•ã—ã¾ã™"]},{id:"team-royale",title:"ãƒãƒ¼ãƒ ãƒãƒˆãƒ­ãƒ¯",icon:"ðŸ‘¥",description:"4ãƒãƒ¼ãƒ å¯¾æŠ—æˆ¦",details:["4ãƒãƒ¼ãƒ 12äººã®ãƒãƒ¼ãƒ æˆ¦ï¼ˆ1äºº+NPC2äººãŒå‘³æ–¹ï¼‰","ã‚¿ãƒ¼ãƒ³åˆ¶ã§ã‚¹ã‚­ãƒ«ã‚’é¸æŠžã—ã¦æˆ¦ã„ã¾ã™","ãƒãƒ¼ãƒ ãŒå…¨æ»…ã™ã‚‹ã¨è„±è½ã—ã¾ã™","é †ä½ã«å¿œã˜ã¦ã‚³ã‚¤ãƒ³å ±é…¬ãŒã‚‚ã‚‰ãˆã¾ã™","ä¸Šä½2ãƒãƒ¼ãƒ ã§ãƒ©ãƒ³ã‚¯ãƒã‚¤ãƒ³ãƒˆãŒå¤‰å‹•ã—ã¾ã™"]},{id:"boss-raid",title:"é­”çŽ‹è¨Žä¼",icon:"ðŸ˜ˆ",description:"ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã«æŒ‘æˆ¦",details:["5ä½“ã®ãƒãƒ¼ãƒ ã§è¶…æ¬¡å…ƒæ¯›æ ¹é­”çŽ‹ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ã¨æˆ¦ã„ã¾ã™","é€šå¸¸æ”»æ’ƒãƒ»é€šå¸¸é˜²å¾¡ãƒ»ã‚¹ã‚­ãƒ«ã‚’ä½¿ã†ã‚¿ãƒ¼ãƒ³åˆ¶ãƒãƒˆãƒ«ã§ã™","ã‚¹ã‚­ãƒ«ã«ã¯CTãŒã‚ã‚Šé€£ç™ºã§ãã¾ã›ã‚“","å…¨å“¡ãŒå€’ã‚Œã‚‹ã¨æ•—åŒ—ã—ã¾ã™","å‹åˆ©ã™ã‚‹ã¨ãƒ˜ã‚¢ã‚°ãƒ©ãƒ³ãƒ‰ãŒä»²é–“ã«å…¥ã‚Šã¾ã™"]},{id:"ranking",title:"ãƒ©ãƒ³ã‚­ãƒ³ã‚°",icon:"ðŸ†",description:"é †ä½ã‚’ç¢ºèª",details:["ã‚ãªãŸã®ã‚¹ã‚³ã‚¢ã¯æ‰€æŒæ¯›æ ¹ã®åˆè¨ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‹ã‚‰ç®—å‡ºã•ã‚Œã¾ã™","é †ä½ã¯ã‚¹ã‚³ã‚¢ã«åŸºã¥ã„ã¦è¡¨ç¤ºã•ã‚Œã¾ã™","ä¸Šä½ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ä¸€è¦§ã¯ã‚µãƒ³ãƒ—ãƒ«è¡¨ç¤ºã§ã™","æ¯›æ ¹ã‚’é›†ã‚ã¦è‚²æˆã™ã‚‹ã¨ã‚¹ã‚³ã‚¢ãŒä¸ŠãŒã‚Šã¾ã™"]}];function oN({onNavigate:e}){let[t,i]=(0,l.useState)(null),a=ow.find(e=>e.id===t);return(0,o.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,o.jsxs)("header",{className:"flex items-center gap-4 p-4 border-b border-border bg-card sticky top-0 z-10",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>t?i(null):e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsx)("h1",{className:"text-2xl font-bold flex-1",children:"ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«"})]}),(0,o.jsx)("div",{className:"p-4 pb-24",children:t?a?(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,o.jsx)("div",{className:"text-6xl",children:a.icon}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-3xl font-bold",children:a.title}),(0,o.jsx)("p",{className:"text-muted-foreground",children:a.description})]})]}),(0,o.jsx)("div",{className:"bg-card rounded-xl p-6 border border-border space-y-4",children:a.details.map((e,t)=>(0,o.jsxs)(rG.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex gap-4",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold flex-shrink-0",children:t+1}),(0,o.jsx)("p",{className:"text-foreground leading-relaxed",children:e})]},t))}),(0,o.jsxs)(nz,{onClick:()=>{let t={gacha:"gacha",collection:"collection",training:"training",matchmaking:"matchmaking","battle-royale":"battle-royale","team-royale":"team-royale","boss-raid":"boss-raid",ranking:"ranking"}[a.id];t&&e(t)},className:"w-full h-12",children:[a.title,"ã‚’é–‹ã"]})]}):null:(0,o.jsxs)(rG.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-3",children:[(0,o.jsx)("p",{className:"text-muted-foreground mb-4",children:"å„æ©Ÿèƒ½ã®èª¬æ˜Žã‚’é¸æŠžã—ã¦ãã ã•ã„"}),ow.map((e,t)=>(0,o.jsx)(rG.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.05*t},onClick:()=>i(e.id),className:"w-full bg-card border border-border rounded-xl p-4 text-left hover:bg-muted/50 transition-colors active:scale-95",children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"text-4xl",children:e.icon}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("h3",{className:"font-bold text-foreground",children:e.title}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,o.jsx)(oj,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]})},e.id))]})})]})}let ok=l.forwardRef(({className:e,type:t,...i},a)=>(0,o.jsx)("input",{type:t,className:nH("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...i}));function oE(e,[t,i]){return Math.min(i,Math.max(t,e))}function oM(e,t,{checkForDefaultPrevented:i=!0}={}){return function(a){if(e?.(a),!1===i||!a.defaultPrevented)return t?.(a)}}function oC(e,t=[]){let i=[],a=()=>{let t=i.map(e=>l.createContext(e));return function(i){let a=i?.[e]||t;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return a.scopeName=e,[function(t,a){let s=l.createContext(a),r=i.length;i=[...i,a];let n=t=>{let{scope:i,children:a,...n}=t,d=i?.[e]?.[r]||s,c=l.useMemo(()=>n,Object.values(n));return(0,o.jsx)(d.Provider,{value:c,children:a})};return n.displayName=t+"Provider",[n,function(i,n){let o=n?.[e]?.[r]||s,d=l.useContext(o);if(d)return d;if(void 0!==a)return a;throw Error(`\`${i}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let i=()=>{let i=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=i.reduce((t,{useScope:i,scopeName:a})=>{let s=i(e)[`__scope${a}`];return{...t,...s}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return i.scopeName=t.scopeName,i}(a,...t)]}function oS(e){let t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...e)=>t.current?.(...e),[])}function oT({prop:e,defaultProp:t,onChange:i=()=>{}}){let[a,s]=function({defaultProp:e,onChange:t}){let i=l.useState(e),[a]=i,s=l.useRef(a),r=oS(t);return l.useEffect(()=>{s.current!==a&&(r(a),s.current=a)},[a,s,r]),i}({defaultProp:t,onChange:i}),r=void 0!==e,n=r?e:a,o=oS(i);return[n,l.useCallback(t=>{if(r){let i="function"==typeof t?t(e):t;i!==e&&o(i)}else s(t)},[r,e,s,o])]}ok.displayName="Input";var o$=l.createContext(void 0);function oP(e){let t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oR=globalThis?.document?l.useLayoutEffect:()=>{};function oA(e){let[t,i]=l.useState(void 0);return oR(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,s;if(!Array.isArray(t)||!t.length)return;let r=t[0];if("borderBoxSize"in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;i({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}i(void 0)},[e]),t}e.i(83550);var oD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let i=l.forwardRef((e,i)=>{let{asChild:a,...s}=e,r=a?r5:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(r,{...s,ref:i})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),oV=["PageUp","PageDown"],oF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},oB="Slider",[oH,oI,oz]=function(e){let t=e+"CollectionProvider",[i,a]=oC(t),[s,r]=i(t,{collectionRef:{current:null},itemMap:new Map}),n=e=>{let{scope:t,children:i}=e,a=l.default.useRef(null),r=l.default.useRef(new Map).current;return(0,o.jsx)(s,{scope:t,itemMap:r,collectionRef:a,children:i})};n.displayName=t;let d=e+"CollectionSlot",c=l.default.forwardRef((e,t)=>{let{scope:i,children:a}=e,s=r2(t,r(d,i).collectionRef);return(0,o.jsx)(r5,{ref:s,children:a})});c.displayName=d;let m=e+"CollectionItemSlot",u="data-radix-collection-item",h=l.default.forwardRef((e,t)=>{let{scope:i,children:a,...s}=e,n=l.default.useRef(null),d=r2(t,n),c=r(m,i);return l.default.useEffect(()=>(c.itemMap.set(n,{ref:n,...s}),()=>void c.itemMap.delete(n))),(0,o.jsx)(r5,{...{[u]:""},ref:d,children:a})});return h.displayName=m,[{Provider:n,Slot:c,ItemSlot:h},function(t){let i=r(e+"CollectionConsumer",t);return l.default.useCallback(()=>{let e=i.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${u}]`));return Array.from(i.itemMap.values()).sort((e,i)=>t.indexOf(e.ref.current)-t.indexOf(i.ref.current))},[i.collectionRef,i.itemMap])},a]}(oB),[oO,oU]=oC(oB,[oz]),[oW,o_]=oO(oB),oY=l.forwardRef((e,t)=>{let{name:i,min:a=0,max:s=100,step:r=1,orientation:n="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:m=[a],value:u,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:f=!1,form:x,...g}=e,y=l.useRef(new Set),b=l.useRef(0),v="horizontal"===n,[j=[],w]=oT({prop:u,defaultProp:m,onChange:e=>{let t=[...y.current];t[b.current]?.focus(),h(e)}}),N=l.useRef(j);function k(e,t,{commit:i}={commit:!1}){let n,o=(String(r).split(".")[1]||"").length,l=oE(Math.round((Math.round((e-a)/r)*r+a)*(n=Math.pow(10,o)))/n,[a,s]);w((e=[])=>{let a=function(e=[],t,i){let a=[...e];return a[i]=t,a.sort((e,t)=>e-t)}(e,l,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,i)=>e[i+1]-t))>=t;return!0}(a,c*r))return e;{b.current=a.indexOf(l);let t=String(a)!==String(e);return t&&i&&p(a),t?a:e}})}return(0,o.jsx)(oW,{scope:e.__scopeSlider,name:i,disabled:d,min:a,max:s,valueIndexToChangeRef:b,thumbs:y.current,values:j,orientation:n,form:x,children:(0,o.jsx)(oH.Provider,{scope:e.__scopeSlider,children:(0,o.jsx)(oH.Slot,{scope:e.__scopeSlider,children:(0,o.jsx)(v?oK:oG,{"aria-disabled":d,"data-disabled":d?"":void 0,...g,ref:t,onPointerDown:oM(g.onPointerDown,()=>{d||(N.current=j)}),min:a,max:s,inverted:f,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let i=e.map(e=>Math.abs(e-t)),a=Math.min(...i);return i.indexOf(a)}(j,e);k(e,t)},onSlideMove:d?void 0:function(e){k(e,b.current)},onSlideEnd:d?void 0:function(){let e=N.current[b.current];j[b.current]!==e&&p(j)},onHomeKeyDown:()=>!d&&k(a,0,{commit:!0}),onEndKeyDown:()=>!d&&k(s,j.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let i=oV.includes(e.key)||e.shiftKey&&oF.includes(e.key),a=b.current;k(j[a]+r*(i?10:1)*t,a,{commit:!0})}}})})})})});oY.displayName=oB;var[oX,oq]=oO(oB,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oK=l.forwardRef((e,t)=>{let i,{min:a,max:s,dir:r,inverted:n,onSlideStart:d,onSlideMove:c,onSlideEnd:m,onStepKeyDown:u,...h}=e,[p,f]=l.useState(null),x=r2(t,e=>f(e)),g=l.useRef(void 0),y=(i=l.useContext(o$),r||i||"ltr"),b="ltr"===y,v=b&&!n||!b&&n;function j(e){let t=g.current||p.getBoundingClientRect(),i=o8([0,t.width],v?[a,s]:[s,a]);return g.current=t,i(e-t.left)}return(0,o.jsx)(oX,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:(0,o.jsx)(oZ,{dir:y,"data-orientation":"horizontal",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=j(e.clientX);d?.(t)},onSlideMove:e=>{let t=j(e.clientX);c?.(t)},onSlideEnd:()=>{g.current=void 0,m?.()},onStepKeyDown:e=>{let t=oL[v?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),oG=l.forwardRef((e,t)=>{let{min:i,max:a,inverted:s,onSlideStart:r,onSlideMove:n,onSlideEnd:d,onStepKeyDown:c,...m}=e,u=l.useRef(null),h=r2(t,u),p=l.useRef(void 0),f=!s;function x(e){let t=p.current||u.current.getBoundingClientRect(),s=o8([0,t.height],f?[a,i]:[i,a]);return p.current=t,s(e-t.top)}return(0,o.jsx)(oX,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:(0,o.jsx)(oZ,{"data-orientation":"vertical",...m,ref:h,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=x(e.clientY);r?.(t)},onSlideMove:e=>{let t=x(e.clientY);n?.(t)},onSlideEnd:()=>{p.current=void 0,d?.()},onStepKeyDown:e=>{let t=oL[f?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),oZ=l.forwardRef((e,t)=>{let{__scopeSlider:i,onSlideStart:a,onSlideMove:s,onSlideEnd:r,onHomeKeyDown:n,onEndKeyDown:l,onStepKeyDown:d,...c}=e,m=o_(oB,i);return(0,o.jsx)(oD.span,{...c,ref:t,onKeyDown:oM(e.onKeyDown,e=>{"Home"===e.key?(n(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):oV.concat(oF).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:oM(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),m.thumbs.has(t)?t.focus():a(e)}),onPointerMove:oM(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:oM(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),r(e))})})}),oQ="SliderTrack",oJ=l.forwardRef((e,t)=>{let{__scopeSlider:i,...a}=e,s=o_(oQ,i);return(0,o.jsx)(oD.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});oJ.displayName=oQ;var o0="SliderRange",o1=l.forwardRef((e,t)=>{let{__scopeSlider:i,...a}=e,s=o_(o0,i),r=oq(o0,i),n=r2(t,l.useRef(null)),d=s.values.length,c=s.values.map(e=>o6(e,s.min,s.max)),m=d>1?Math.min(...c):0,u=100-Math.max(...c);return(0,o.jsx)(oD.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:n,style:{...e.style,[r.startEdge]:m+"%",[r.endEdge]:u+"%"}})});o1.displayName=o0;var o2="SliderThumb",o5=l.forwardRef((e,t)=>{let i=oI(e.__scopeSlider),[a,s]=l.useState(null),r=r2(t,e=>s(e)),n=l.useMemo(()=>a?i().findIndex(e=>e.ref.current===a):-1,[i,a]);return(0,o.jsx)(o4,{...e,ref:r,index:n})}),o4=l.forwardRef((e,t)=>{var i,a,s,r,n;let d,c,{__scopeSlider:m,index:u,name:h,...p}=e,f=o_(o2,m),x=oq(o2,m),[g,y]=l.useState(null),b=r2(t,e=>y(e)),v=!g||f.form||!!g.closest("form"),j=oA(g),w=f.values[u],N=void 0===w?0:o6(w,f.min,f.max),k=(i=u,(a=f.values.length)>2?`Value ${i+1} of ${a}`:2===a?["Minimum","Maximum"][i]:void 0),E=j?.[x.size],M=E?(s=E,r=N,n=x.direction,c=o8([0,50],[0,d=s/2]),(d-c(r)*n)*n):0;return l.useEffect(()=>{if(g)return f.thumbs.add(g),()=>{f.thumbs.delete(g)}},[g,f.thumbs]),(0,o.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[x.startEdge]:`calc(${N}% + ${M}px)`},children:[(0,o.jsx)(oH.ItemSlot,{scope:e.__scopeSlider,children:(0,o.jsx)(oD.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":f.min,"aria-valuenow":w,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...p,ref:b,style:void 0===w?{display:"none"}:e.style,onFocus:oM(e.onFocus,()=>{f.valueIndexToChangeRef.current=u})})}),v&&(0,o.jsx)(o3,{name:h??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:w},u)]})});o5.displayName=o2;var o3=e=>{let{value:t,...i}=e,a=l.useRef(null),s=oP(t);return l.useEffect(()=>{let e=a.current,i=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(s!==t&&i){let a=new Event("input",{bubbles:!0});i.call(e,t),e.dispatchEvent(a)}},[s,t]),(0,o.jsx)("input",{style:{display:"none"},...i,ref:a,defaultValue:t})};function o6(e,t,i){return oE(100/(i-t)*(e-t),[0,100])}function o8(e,t){return i=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(i-e[0])}}let o9=l.forwardRef(({className:e,...t},i)=>(0,o.jsxs)(oY,{ref:i,className:nH("relative flex w-full touch-none select-none items-center",e),...t,children:[(0,o.jsx)(oJ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,o.jsx)(o1,{className:"absolute h-full bg-primary"})}),(0,o.jsx)(o5,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));o9.displayName=oY.displayName;var o7="Switch",[le,lt]=oC(o7),[li,la]=le(o7),ls=l.forwardRef((e,t)=>{let{__scopeSwitch:i,name:a,checked:s,defaultChecked:r,required:n,disabled:d,value:c="on",onCheckedChange:m,form:u,...h}=e,[p,f]=l.useState(null),x=r2(t,e=>f(e)),g=l.useRef(!1),y=!p||u||!!p.closest("form"),[b=!1,v]=oT({prop:s,defaultProp:r,onChange:m});return(0,o.jsxs)(li,{scope:i,checked:b,disabled:d,children:[(0,o.jsx)(oD.button,{type:"button",role:"switch","aria-checked":b,"aria-required":n,"data-state":ll(b),"data-disabled":d?"":void 0,disabled:d,value:c,...h,ref:x,onClick:oM(e.onClick,e=>{v(e=>!e),y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),y&&(0,o.jsx)(lo,{control:p,bubbles:!g.current,name:a,value:c,checked:b,required:n,disabled:d,form:u,style:{transform:"translateX(-100%)"}})]})});ls.displayName=o7;var lr="SwitchThumb",ln=l.forwardRef((e,t)=>{let{__scopeSwitch:i,...a}=e,s=la(lr,i);return(0,o.jsx)(oD.span,{"data-state":ll(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});ln.displayName=lr;var lo=e=>{let{control:t,checked:i,bubbles:a=!0,...s}=e,r=l.useRef(null),n=oP(i),d=oA(t);return l.useEffect(()=>{let e=r.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==i&&t){let s=new Event("click",{bubbles:a});t.call(e,i),e.dispatchEvent(s)}},[n,i,a]),(0,o.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...s,tabIndex:-1,ref:r,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ll(e){return e?"checked":"unchecked"}let ld=l.forwardRef(({className:e,...t},i)=>(0,o.jsx)(ls,{className:nH("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:i,children:(0,o.jsx)(ln,{className:nH("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ld.displayName=ls.displayName;let lc=nY("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),lm=nY("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),lu=nY("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),lh=nY("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),lp=["é§†ã‘å‡ºã—è‚²æ¯›å£«","æ¯›æ ¹ãƒžã‚¹ã‚¿ãƒ¼","é ­çš®ã®å®ˆè­·è€…","æŠœæ¯›ã®é”äºº","ä¼èª¬ã®æ¯›æ ¹ä½¿ã„","ä¸æ¯›ã®è¦‡è€…","æ¯›æ ¹ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼","ãƒãƒˆãƒ«ãƒ˜ã‚¢ãƒ¼","ç¥žã®æ¯›æ ¹"];function lf({onNavigate:e}){let{playerName:t,playerTitle:i,updateProfile:a,collection:s,coins:r,bgmEnabled:n,bgmVolume:d,brightness:c,setBgmEnabled:m,setBgmVolume:u,setBrightness:h,getBattleRank:p,getRoyaleRank:f,getTeamRoyaleRank:x}=Q(),[g,y]=(0,l.useState)(!1),[b,v]=(0,l.useState)(t),[j,w]=(0,l.useState)(i),N=p(),k=f(),E=x();return(0,o.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,o.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-border bg-card",children:[(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>e("home"),children:(0,o.jsx)(nX,{className:"w-6 h-6"})}),(0,o.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«"}),(0,o.jsx)(nz,{variant:"ghost",size:"icon",onClick:()=>g?void(b.trim()&&(a(b.trim(),j),y(!1))):y(!0),children:g?(0,o.jsx)(nG,{className:"w-6 h-6"}):(0,o.jsx)(lm,{className:"w-6 h-6"})})]}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl p-6 border border-border",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,o.jsx)("div",{className:"w-20 h-20 rounded-full bg-primary/20 flex items-center justify-center",children:(0,o.jsx)(lc,{className:"w-10 h-10 text-primary"})}),(0,o.jsxs)("div",{className:"flex-1",children:[g?(0,o.jsx)(ok,{value:b,onChange:e=>v(e.target.value),className:"text-xl font-bold mb-2",placeholder:"åå‰ã‚’å…¥åŠ›",maxLength:12}):(0,o.jsx)("h2",{className:"text-xl font-bold text-foreground",children:t}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:i})]})]}),g&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"ç§°å·ã‚’é¸æŠž"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:lp.map(e=>(0,o.jsx)(nz,{variant:j===e?"default":"outline",size:"sm",onClick:()=>w(e),className:j!==e?"bg-transparent":"",children:e},e))})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 text-center",children:[(0,o.jsx)("p",{className:"text-2xl font-bold text-foreground",children:s.length}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ•°"})]}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4 text-center",children:[(0,o.jsx)("p",{className:"text-2xl font-bold text-secondary",children:r}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:"æ‰€æŒã‚³ã‚¤ãƒ³"})]})]})]}),(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-card rounded-2xl p-6 border border-border",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-foreground mb-4",children:"è¨­å®š"}),(0,o.jsxs)("div",{className:"space-y-5",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(lu,{className:"w-5 h-5 text-primary"}),(0,o.jsx)("span",{className:"text-sm font-medium text-foreground",children:"BGM"})]}),(0,o.jsx)(ld,{checked:n,onCheckedChange:m})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,o.jsx)("span",{className:"text-muted-foreground",children:"éŸ³é‡"}),(0,o.jsxs)("span",{className:"text-foreground",children:[Math.round(100*d),"%"]})]}),(0,o.jsx)(o9,{value:[d],min:0,max:1,step:.05,onValueChange:e=>u(e[0])})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,o.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,o.jsx)(lh,{className:"w-4 h-4"}),"æ˜Žã‚‹ã•"]}),(0,o.jsxs)("span",{className:"text-foreground",children:[Math.round(100*c),"%"]})]}),(0,o.jsx)(o9,{value:[c],min:.6,max:1.4,step:.05,onValueChange:e=>h(e[0])})]})]})]}),(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card rounded-2xl p-6 border border-border",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[(0,o.jsx)(n2,{className:"w-5 h-5"}),"ãƒ©ãƒ³ã‚¯æƒ…å ±"]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(om,{className:"w-5 h-5 text-primary"}),(0,o.jsx)("span",{className:"font-medium text-foreground",children:"1vs1 å¯¾æˆ¦"})]}),(0,o.jsx)("span",{className:"font-bold text-lg",style:{color:O(N.tier)},children:N.name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"flex-1 h-2 bg-background rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:"h-full transition-all",style:{width:`${N.points%100}%`,backgroundColor:O(N.tier)}})}),(0,o.jsxs)("span",{className:"text-xs text-muted-foreground w-16 text-right",children:[N.points," RP"]})]})]}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(n3,{className:"w-5 h-5 text-secondary"}),(0,o.jsx)("span",{className:"font-medium text-foreground",children:"ã‚½ãƒ­ãƒãƒˆãƒ­ãƒ¯"})]}),(0,o.jsx)("span",{className:"font-bold text-lg",style:{color:O(k.tier)},children:k.name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"flex-1 h-2 bg-background rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:"h-full transition-all",style:{width:`${k.points%100}%`,backgroundColor:O(k.tier)}})}),(0,o.jsxs)("span",{className:"text-xs text-muted-foreground w-16 text-right",children:[k.points," RP"]})]})]}),(0,o.jsxs)("div",{className:"bg-muted rounded-xl p-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(on,{className:"w-5 h-5 text-accent"}),(0,o.jsx)("span",{className:"font-medium text-foreground",children:"ãƒãƒ¼ãƒ ãƒãƒˆãƒ­ãƒ¯"})]}),(0,o.jsx)("span",{className:"font-bold text-lg",style:{color:O(E.tier)},children:E.name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"flex-1 h-2 bg-background rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:"h-full transition-all",style:{width:`${E.points%100}%`,backgroundColor:O(E.tier)}})}),(0,o.jsxs)("span",{className:"text-xs text-muted-foreground w-16 text-right",children:[E.points," RP"]})]})]})]})]}),(0,o.jsxs)(rG.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl p-6 border border-border",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-foreground mb-4",children:"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³çµ±è¨ˆ"}),(0,o.jsx)("div",{className:"space-y-3",children:[{name:"ã‚³ãƒ¢ãƒ³",color:"#9CA3AF",count:s.filter(e=>"common"===e.rarity).length},{name:"ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³",color:"#10B981",count:s.filter(e=>"uncommon"===e.rarity).length},{name:"ãƒ¬ã‚¢",color:"#3B82F6",count:s.filter(e=>"rare"===e.rarity).length},{name:"ã‚¨ãƒ”ãƒƒã‚¯",color:"#8B5CF6",count:s.filter(e=>"epic"===e.rarity).length},{name:"ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰",color:"#F59E0B",count:s.filter(e=>"legendary"===e.rarity).length},{name:"ã‚³ã‚ºãƒŸãƒƒã‚¯",color:"#FF1493",count:s.filter(e=>"cosmic"===e.rarity).length}].map(e=>(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,o.jsx)("span",{className:"text-sm text-muted-foreground flex-1",children:e.name}),(0,o.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.count})]},e.name))})]})]})]})}function lx(){let[e,t]=(0,l.useState)("splash"),[i,a]=(0,l.useState)(null),{bgmEnabled:s,bgmVolume:r,brightness:n}=Q();!function(e,t={}){let{enabled:i=!0,volume:a=.3}=t,s=(0,l.useRef)(null),[r,n]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),c=J[e]||"/game-hair/bgm/home.mp3";(0,l.useEffect)(()=>{if(s.current)s.current.volume=a;else{let e=new Audio;e.loop=!0,e.volume=a,s.current=e}},[a]),(0,l.useEffect)(()=>{if(!i||o)return;let e=()=>{s.current&&(s.current.src=c,s.current.play().then(()=>{n(!0),d(!0),window.removeEventListener("pointerdown",e),window.removeEventListener("keydown",e)}).catch(()=>{n(!1)}))};return window.addEventListener("pointerdown",e),window.addEventListener("keydown",e),()=>{window.removeEventListener("pointerdown",e),window.removeEventListener("keydown",e)}},[c,i,o]),(0,l.useEffect)(()=>{if(i&&s.current&&o)return s.current.pause(),s.current.currentTime=0,s.current.src=c,s.current.play().then(()=>{n(!0)}).catch(e=>{console.error("Failed to play BGM:",e),n(!1)}),()=>{s.current&&s.current.pause()}},[c,i,o]),(0,l.useCallback)(()=>{s.current&&(s.current.paused?(s.current.play().catch(e=>{console.error("Failed to play BGM:",e)}),n(!0)):(s.current.pause(),n(!1)))},[]),(0,l.useCallback)(e=>{s.current&&(s.current.volume=Math.max(0,Math.min(1,e)))},[])}(e,{enabled:s,volume:r});let d=(0,l.useCallback)(e=>{t(e)},[]),c=(0,l.useCallback)(e=>{a(e),t("battle")},[]);return(0,o.jsx)("div",{className:"min-h-screen bg-background",style:{filter:`brightness(${n})`},children:(0,o.jsxs)(C,{mode:"wait",children:["splash"===e&&(0,o.jsx)(rZ,{onComplete:()=>d("home")},"splash"),"home"===e&&(0,o.jsx)(rJ,{onNavigate:d},"home"),"gacha"===e&&(0,o.jsx)(nK,{onNavigate:d},"gacha"),"collection"===e&&(0,o.jsx)(n1,{onNavigate:d},"collection"),"ranking"===e&&(0,o.jsx)(n8,{onNavigate:d},"ranking"),"training"===e&&(0,o.jsx)(os,{onNavigate:d},"training"),"matchmaking"===e&&(0,o.jsx)(od,{onNavigate:d,onBattleStart:c},"matchmaking"),"battle"===e&&(0,o.jsx)(oc,{onNavigate:d,opponent:i},"battle"),"battle-royale"===e&&(0,o.jsx)(op,{onNavigate:d},"battle-royale"),"team-royale"===e&&(0,o.jsx)(ob,{onNavigate:d},"team-royale"),"boss-raid"===e&&(0,o.jsx)(ov,{onNavigate:d},"boss-raid"),"tutorial"===e&&(0,o.jsx)(oN,{onNavigate:d},"tutorial"),"profile"===e&&(0,o.jsx)(lf,{onNavigate:d},"profile")]})})}function lg(){return(0,o.jsx)(Z,{children:(0,o.jsx)(lx,{})})}e.s(["default",()=>lg],31713)}]);